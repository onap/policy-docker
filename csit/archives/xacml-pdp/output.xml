<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 5.1a2 (Python 3.10.6 on darwin)" generated="20220902 13:53:00.954" rpa="false" schemaversion="3">
<suite id="s1" name="xacml-pdp" source="/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/xacml-pdp-test.robot">
<test id="s1-t1" name="Healthcheck" line="10">
<kw name="PdpxGetReq">
<var>${resp}</var>
<arg>/policy/pdpx/v1/healthcheck</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:00.996" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:00.996" endtime="20220902 13:53:00.996"/>
</kw>
<msg timestamp="20220902 13:53:00.996" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:00.996" endtime="20220902 13:53:00.996"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>${url}</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:00.997" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:00.996" endtime="20220902 13:53:00.997"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:00.997" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050367d0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:00.997" level="INFO">${session} = &lt;requests.sessions.Session object at 0x105036740&gt;</msg>
<status status="PASS" starttime="20220902 13:53:00.997" endtime="20220902 13:53:00.997"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:00.997" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:00.997" endtime="20220902 13:53:00.997"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:01.087" level="INFO">GET Request : url=http://172.31.0.7:6969/policy/pdpx/v1/healthcheck?null 
 path_url=/policy/pdpx/v1/healthcheck?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:53:01.087" level="INFO">GET Response : url=http://172.31.0.7:6969/policy/pdpx/v1/healthcheck?null 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:01 GMT', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '1bac0fb1-5294-4ba4-b87c-db224a2bbcad', 'Content-Type': 'application/json', 'Content-Length': '110', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body={"name":"xacml-b78e79c8-0fbe-4b56-8867-6e1c0a9d7767","url":"self","healthy":true,"code":200,"message":"alive"} 
 </msg>
<msg timestamp="20220902 13:53:01.088" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:00.997" endtime="20220902 13:53:01.088"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:01.088" level="INFO">Received response from policy {"name":"xacml-b78e79c8-0fbe-4b56-8867-6e1c0a9d7767","url":"self","healthy":true,"code":200,"message":"alive"}</msg>
<status status="PASS" starttime="20220902 13:53:01.088" endtime="20220902 13:53:01.088"/>
</kw>
<msg timestamp="20220902 13:53:01.088" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:00.996" endtime="20220902 13:53:01.088"/>
</kw>
<msg timestamp="20220902 13:53:01.088" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:00.996" endtime="20220902 13:53:01.088"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['code']}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:53:01.089" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.088" endtime="20220902 13:53:01.089"/>
</kw>
<doc>Verify policy xacml-pdp health check</doc>
<status status="PASS" starttime="20220902 13:53:00.996" endtime="20220902 13:53:01.089"/>
</test>
<test id="s1-t2" name="Statistics" line="15">
<kw name="PdpxGetReq">
<var>${resp}</var>
<arg>/policy/pdpx/v1/statistics</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:01.090" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:01.090" endtime="20220902 13:53:01.090"/>
</kw>
<msg timestamp="20220902 13:53:01.090" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:01.090" endtime="20220902 13:53:01.090"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>${url}</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:01.090" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:01.090" endtime="20220902 13:53:01.090"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:01.091" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x105032050&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:01.091" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050321d0&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.090" endtime="20220902 13:53:01.091"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:01.091" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:01.091" endtime="20220902 13:53:01.091"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:01.103" level="INFO">GET Request : url=http://172.31.0.7:6969/policy/pdpx/v1/statistics?null 
 path_url=/policy/pdpx/v1/statistics?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:53:01.103" level="INFO">GET Response : url=http://172.31.0.7:6969/policy/pdpx/v1/statistics?null 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:01 GMT', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'cb1f024d-c5b1-471c-9c38-b046f635886d', 'Content-Type': 'application/json', 'Content-Length': '314', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body={"code":200,"totalPolicyTypesCount":18,"totalPoliciesCount":1,"totalErrorCount":0,"permitDecisionsCount":0,"denyDecisionsCount":0,"deploySuccessCount":1,"deployFailureCount":0,"undeploySuccessCount":0,"undeployFailureCount":0,"indeterminantDecisionsCount":0,"notApplicableDecisionsCount":0,"applicationMetrics":{}} 
 </msg>
<msg timestamp="20220902 13:53:01.103" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.091" endtime="20220902 13:53:01.103"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:01.104" level="INFO">Received response from policy {"code":200,"totalPolicyTypesCount":18,"totalPoliciesCount":1,"totalErrorCount":0,"permitDecisionsCount":0,"denyDecisionsCount":0,"deploySuccessCount":1,"deployFailureCount":0,"undeploySuccessCount":0,"undeployFailureCount":0,"indeterminantDecisionsCount":0,"notApplicableDecisionsCount":0,"applicationMetrics":{}}</msg>
<status status="PASS" starttime="20220902 13:53:01.103" endtime="20220902 13:53:01.104"/>
</kw>
<msg timestamp="20220902 13:53:01.104" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.090" endtime="20220902 13:53:01.104"/>
</kw>
<msg timestamp="20220902 13:53:01.104" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.089" endtime="20220902 13:53:01.104"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['code']}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:53:01.104" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.104" endtime="20220902 13:53:01.104"/>
</kw>
<doc>Verify policy xacml-pdp statistics</doc>
<status status="PASS" starttime="20220902 13:53:01.089" endtime="20220902 13:53:01.104"/>
</test>
<test id="s1-t3" name="Metrics" line="20">
<kw name="PdpxGetReq">
<var>${resp}</var>
<arg>/metrics</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:01.105" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:01.105" endtime="20220902 13:53:01.105"/>
</kw>
<msg timestamp="20220902 13:53:01.105" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:01.105" endtime="20220902 13:53:01.105"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>${url}</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:01.105" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:01.105" endtime="20220902 13:53:01.105"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:01.105" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x105033df0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:01.106" level="INFO">${session} = &lt;requests.sessions.Session object at 0x105033fd0&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.105" endtime="20220902 13:53:01.106"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:01.106" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:01.106" endtime="20220902 13:53:01.106"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:01.119" level="INFO">GET Request : url=http://172.31.0.7:6969/metrics?null 
 path_url=/metrics?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:53:01.119" level="INFO">GET Response : url=http://172.31.0.7:6969/metrics?null 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:01 GMT', 'Content-Type': 'text/plain; version=0.0.4; charset=utf-8', 'Transfer-Encoding': 'chunked', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body=# HELP pdpx_policy_deployments_total The total number of policy deployments.
# TYPE pdpx_policy_deployments_total counter
pdpx_policy_deployments_total{operation="deploy",status="SUCCESS",} 1.0
# HELP jvm_memory_objects_pending_finalization The number of objects waiting in the finalizer queue.
# TYPE jvm_memory_objects_pending_finalization gauge
jvm_memory_objects_pending_finalization 0.0
# HELP jvm_memory_bytes_used Used bytes of a given JVM memory area.
# TYPE jvm_memory_bytes_used gauge
jvm_memory_bytes_used{area="heap",} 5.953396E7
jvm_memory_bytes_used{area="nonheap",} 5.7053E7
# HELP jvm_memory_bytes_committed Committed (bytes) of a given JVM memory area.
# TYPE jvm_memory_bytes_committed gauge
jvm_memory_bytes_committed{area="heap",} 1.71966464E8
jvm_memory_bytes_committed{area="nonheap",} 6.160384E7
# HELP jvm_memory_bytes_max Max (bytes) of a given JVM memory area.
# TYPE jvm_memory_bytes_max gauge
jvm_memory_bytes_max{area="heap",} 2.059403264E9
jvm_memory_bytes_max{area="nonheap",} -1.0
# HELP jvm_memory_bytes_init Initial bytes of a given JVM memory area.
# TYPE jvm_memory_bytes_init gauge
jvm_memory_bytes_init{area="heap",} 1.30023424E8
jvm_memory_bytes_init{area="nonheap",} 7667712.0
# HELP jvm_memory_pool_bytes_used Used bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_bytes_used gauge
jvm_memory_pool_bytes_used{pool="CodeHeap 'non-nmethods'",} 1367680.0
jvm_memory_pool_bytes_used{pool="Metaspace",} 4.0145656E7
jvm_memory_pool_bytes_used{pool="CodeHeap 'profiled nmethods'",} 8467840.0
jvm_memory_pool_bytes_used{pool="Compressed Class Space",} 4944464.0
jvm_memory_pool_bytes_used{pool="G1 Eden Space",} 4.2991616E7
jvm_memory_pool_bytes_used{pool="G1 Old Gen",} 1.1299464E7
jvm_memory_pool_bytes_used{pool="G1 Survivor Space",} 5242880.0
jvm_memory_pool_bytes_used{pool="CodeHeap 'non-profiled nmethods'",} 2127360.0
# HELP jvm_memory_pool_bytes_committed Committed bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_bytes_committed gauge
jvm_memory_pool_bytes_committed{pool="CodeHeap 'non-nmethods'",} 2555904.0
jvm_memory_pool_bytes_committed{pool="Metaspace",} 4.2205184E7
jvm_memory_pool_bytes_committed{pool="CodeHeap 'profiled nmethods'",} 8519680.0
jvm_memory_pool_bytes_committed{pool="Compressed Class Space",} 5767168.0
jvm_memory_pool_bytes_committed{pool="G1 Eden Space",} 7.7594624E7
jvm_memory_pool_bytes_committed{pool="G1 Old Gen",} 8.912896E7
jvm_memory_pool_bytes_committed{pool="G1 Survivor Space",} 5242880.0
jvm_memory_pool_bytes_committed{pool="CodeHeap 'non-profiled nmethods'",} 2555904.0
# HELP jvm_memory_pool_bytes_max Max bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_bytes_max gauge
jvm_memory_pool_bytes_max{pool="CodeHeap 'non-nmethods'",} 5832704.0
jvm_memory_pool_bytes_max{pool="Metaspace",} -1.0
jvm_memory_pool_bytes_max{pool="CodeHeap 'profiled nmethods'",} 1.22912768E8
jvm_memory_pool_bytes_max{pool="Compressed Class Space",} 1.073741824E9
jvm_memory_pool_bytes_max{pool="G1 Eden Space",} -1.0
jvm_memory_pool_bytes_max{pool="G1 Old Gen",} 2.059403264E9
jvm_memory_pool_bytes_max{pool="G1 Survivor Space",} -1.0
jvm_memory_pool_bytes_max{pool="CodeHeap 'non-profiled nmethods'",} 1.22912768E8
# HELP jvm_memory_pool_bytes_init Initial bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_bytes_init gauge
jvm_memory_pool_bytes_init{pool="CodeHeap 'non-nmethods'",} 2555904.0
jvm_memory_pool_bytes_init{pool="Metaspace",} 0.0
jvm_memory_pool_bytes_init{pool="CodeHeap 'profiled nmethods'",} 2555904.0
jvm_memory_pool_bytes_init{pool="Compressed Class Space",} 0.0
jvm_memory_pool_bytes_init{pool="G1 Eden Space",} 1.572864E7
jvm_memory_pool_bytes_init{pool="G1 Old Gen",} 1.14294784E8
jvm_memory_pool_bytes_init{pool="G1 Survivor Space",} 0.0
jvm_memory_pool_bytes_init{pool="CodeHeap 'non-profiled nmethods'",} 2555904.0
# HELP jvm_memory_pool_collection_used_bytes Used bytes after last collection of a given JVM memory pool.
# TYPE jvm_memory_pool_collection_used_bytes gauge
jvm_memory_pool_collection_used_bytes{pool="G1 Eden Space",} 0.0
jvm_memory_pool_collection_used_bytes{pool="G1 Old Gen",} 0.0
jvm_memory_pool_collection_used_bytes{pool="G1 Survivor Space",} 5242880.0
# HELP jvm_memory_pool_collection_committed_bytes Committed after last collection bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_collection_committed_bytes gauge
jvm_memory_pool_collection_committed_bytes{pool="G1 Eden Space",} 7.7594624E7
jvm_memory_pool_collection_committed_bytes{pool="G1 Old Gen",} 0.0
jvm_memory_pool_collection_committed_bytes{pool="G1 Survivor Space",} 5242880.0
# HELP jvm_memory_pool_collection_max_bytes Max bytes after last collection of a given JVM memory pool.
# TYPE jvm_memory_pool_collection_max_bytes gauge
jvm_memory_pool_collection_max_bytes{pool="G1 Eden Space",} -1.0
jvm_memory_pool_collection_max_bytes{pool="G1 Old Gen",} 2.059403264E9
jvm_memory_pool_collection_max_bytes{pool="G1 Survivor Space",} -1.0
# HELP jvm_memory_pool_collection_init_bytes Initial after last collection bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_collection_init_bytes gauge
jvm_memory_pool_collection_init_bytes{pool="G1 Eden Space",} 1.572864E7
jvm_memory_pool_collection_init_bytes{pool="G1 Old Gen",} 1.14294784E8
jvm_memory_pool_collection_init_bytes{pool="G1 Survivor Space",} 0.0
# HELP pdpx_policy_decisions_total The total number of policy decisions.
# TYPE pdpx_policy_decisions_total counter
# HELP jvm_memory_pool_allocated_bytes_total Total bytes allocated in a given JVM memory pool. Only updated after GC, not continuously.
# TYPE jvm_memory_pool_allocated_bytes_total counter
jvm_memory_pool_allocated_bytes_total{pool="CodeHeap 'profiled nmethods'",} 6736640.0
jvm_memory_pool_allocated_bytes_total{pool="G1 Old Gen",} 1.2736936E7
jvm_memory_pool_allocated_bytes_total{pool="G1 Eden Space",} 7.5497472E7
jvm_memory_pool_allocated_bytes_total{pool="CodeHeap 'non-profiled nmethods'",} 1668608.0
jvm_memory_pool_allocated_bytes_total{pool="G1 Survivor Space",} 5242880.0
jvm_memory_pool_allocated_bytes_total{pool="Compressed Class Space",} 4223024.0
jvm_memory_pool_allocated_bytes_total{pool="Metaspace",} 3.4801312E7
jvm_memory_pool_allocated_bytes_total{pool="CodeHeap 'non-nmethods'",} 1348096.0
# HELP jvm_gc_collection_seconds Time spent in a given JVM garbage collector in seconds.
# TYPE jvm_gc_collection_seconds summary
jvm_gc_collection_seconds_count{gc="G1 Young Generation",} 5.0
jvm_gc_collection_seconds_sum{gc="G1 Young Generation",} 0.028
jvm_gc_collection_seconds_count{gc="G1 Old Generation",} 0.0
jvm_gc_collection_seconds_sum{gc="G1 Old Generation",} 0.0
# HELP process_cpu_seconds_total Total user and system CPU time spent in seconds.
# TYPE process_cpu_seconds_total counter
process_cpu_seconds_total 4.61
# HELP process_start_time_seconds Start time of the process since unix epoch in seconds.
# TYPE process_start_time_seconds gauge
process_start_time_seconds 1.662123176422E9
# HELP process_open_fds Number of open file descriptors.
# TYPE process_open_fds gauge
process_open_fds 158.0
# HELP process_max_fds Maximum number of open file descriptors.
# TYPE process_max_fds gauge
process_max_fds 1048576.0
# HELP process_virtual_memory_bytes Virtual memory size in bytes.
# TYPE process_virtual_memory_bytes gauge
process_virtual_memory_bytes 3.831484416E9
# HELP process_resident_memory_bytes Resident memory size in bytes.
# TYPE process_resident_memory_bytes gauge
process_resident_memory_bytes 2.33562112E8
# HELP jvm_buffer_pool_used_bytes Used bytes of a given JVM buffer pool.
# TYPE jvm_buffer_pool_used_bytes gauge
jvm_buffer_pool_used_bytes{pool="mapped",} 0.0
jvm_buffer_pool_used_bytes{pool="direct",} 38468.0
# HELP jvm_buffer_pool_capacity_bytes Bytes capacity of a given JVM buffer pool.
# TYPE jvm_buffer_pool_capacity_bytes gauge
jvm_buffer_pool_capacity_bytes{pool="mapped",} 0.0
jvm_buffer_pool_capacity_bytes{pool="direct",} 38468.0
# HELP jvm_buffer_pool_used_buffers Used buffers of a given JVM buffer pool.
# TYPE jvm_buffer_pool_used_buffers gauge
jvm_buffer_pool_used_buffers{pool="mapped",} 0.0
jvm_buffer_pool_used_buffers{pool="direct",} 7.0
# HELP jvm_info VM version info
# TYPE jvm_info gauge
jvm_info{runtime="OpenJDK Runtime Environment",vendor="Alpine",version="11.0.16.1+1-alpine-r0",} 1.0
# HELP jvm_classes_loaded The number of classes that are currently loaded in the JVM
# TYPE jvm_classes_loaded gauge
jvm_classes_loaded 7580.0
# HELP jvm_classes_loaded_total The total number of classes that have been loaded since the JVM has started execution
# TYPE jvm_classes_loaded_total counter
jvm_classes_loaded_total 7580.0
# HELP jvm_classes_unloaded_total The total number of classes that have been unloaded since the JVM has started execution
# TYPE jvm_classes_unloaded_total counter
jvm_classes_unloaded_total 0.0
# HELP jvm_threads_current Current thread count of a JVM
# TYPE jvm_threads_current gauge
jvm_threads_current 23.0
# HELP jvm_threads_daemon Daemon thread count of a JVM
# TYPE jvm_threads_daemon gauge
jvm_threads_daemon 8.0
# HELP jvm_threads_peak Peak thread count of a JVM
# TYPE jvm_threads_peak gauge
jvm_threads_peak 23.0
# HELP jvm_threads_started_total Started thread count of a JVM
# TYPE jvm_threads_started_total counter
jvm_threads_started_total 24.0
# HELP jvm_threads_deadlocked Cycles of JVM-threads that are in deadlock waiting to acquire object monitors or ownable synchronizers
# TYPE jvm_threads_deadlocked gauge
jvm_threads_deadlocked 0.0
# HELP jvm_threads_deadlocked_monitor Cycles of JVM-threads that are in deadlock waiting to acquire object monitors
# TYPE jvm_threads_deadlocked_monitor gauge
jvm_threads_deadlocked_monitor 0.0
# HELP jvm_threads_state Current count of threads by state
# TYPE jvm_threads_state gauge
jvm_threads_state{state="RUNNABLE",} 8.0
jvm_threads_state{state="WAITING",} 5.0
jvm_threads_state{state="BLOCKED",} 0.0
jvm_threads_state{state="TERMINATED",} 0.0
jvm_threads_state{state="TIMED_WAITING",} 10.0
jvm_threads_state{... (set the log level to DEBUG or TRACE to see the full content) 
 </msg>
<msg timestamp="20220902 13:53:01.119" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.106" endtime="20220902 13:53:01.119"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:01.120" level="INFO">Received response from policy # HELP pdpx_policy_deployments_total The total number of policy deployments.
# TYPE pdpx_policy_deployments_total counter
pdpx_policy_deployments_total{operation="deploy",status="SUCCESS",} 1.0
# HELP jvm_memory_objects_pending_finalization The number of objects waiting in the finalizer queue.
# TYPE jvm_memory_objects_pending_finalization gauge
jvm_memory_objects_pending_finalization 0.0
# HELP jvm_memory_bytes_used Used bytes of a given JVM memory area.
# TYPE jvm_memory_bytes_used gauge
jvm_memory_bytes_used{area="heap",} 5.953396E7
jvm_memory_bytes_used{area="nonheap",} 5.7053E7
# HELP jvm_memory_bytes_committed Committed (bytes) of a given JVM memory area.
# TYPE jvm_memory_bytes_committed gauge
jvm_memory_bytes_committed{area="heap",} 1.71966464E8
jvm_memory_bytes_committed{area="nonheap",} 6.160384E7
# HELP jvm_memory_bytes_max Max (bytes) of a given JVM memory area.
# TYPE jvm_memory_bytes_max gauge
jvm_memory_bytes_max{area="heap",} 2.059403264E9
jvm_memory_bytes_max{area="nonheap",} -1.0
# HELP jvm_memory_bytes_init Initial bytes of a given JVM memory area.
# TYPE jvm_memory_bytes_init gauge
jvm_memory_bytes_init{area="heap",} 1.30023424E8
jvm_memory_bytes_init{area="nonheap",} 7667712.0
# HELP jvm_memory_pool_bytes_used Used bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_bytes_used gauge
jvm_memory_pool_bytes_used{pool="CodeHeap 'non-nmethods'",} 1367680.0
jvm_memory_pool_bytes_used{pool="Metaspace",} 4.0145656E7
jvm_memory_pool_bytes_used{pool="CodeHeap 'profiled nmethods'",} 8467840.0
jvm_memory_pool_bytes_used{pool="Compressed Class Space",} 4944464.0
jvm_memory_pool_bytes_used{pool="G1 Eden Space",} 4.2991616E7
jvm_memory_pool_bytes_used{pool="G1 Old Gen",} 1.1299464E7
jvm_memory_pool_bytes_used{pool="G1 Survivor Space",} 5242880.0
jvm_memory_pool_bytes_used{pool="CodeHeap 'non-profiled nmethods'",} 2127360.0
# HELP jvm_memory_pool_bytes_committed Committed bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_bytes_committed gauge
jvm_memory_pool_bytes_committed{pool="CodeHeap 'non-nmethods'",} 2555904.0
jvm_memory_pool_bytes_committed{pool="Metaspace",} 4.2205184E7
jvm_memory_pool_bytes_committed{pool="CodeHeap 'profiled nmethods'",} 8519680.0
jvm_memory_pool_bytes_committed{pool="Compressed Class Space",} 5767168.0
jvm_memory_pool_bytes_committed{pool="G1 Eden Space",} 7.7594624E7
jvm_memory_pool_bytes_committed{pool="G1 Old Gen",} 8.912896E7
jvm_memory_pool_bytes_committed{pool="G1 Survivor Space",} 5242880.0
jvm_memory_pool_bytes_committed{pool="CodeHeap 'non-profiled nmethods'",} 2555904.0
# HELP jvm_memory_pool_bytes_max Max bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_bytes_max gauge
jvm_memory_pool_bytes_max{pool="CodeHeap 'non-nmethods'",} 5832704.0
jvm_memory_pool_bytes_max{pool="Metaspace",} -1.0
jvm_memory_pool_bytes_max{pool="CodeHeap 'profiled nmethods'",} 1.22912768E8
jvm_memory_pool_bytes_max{pool="Compressed Class Space",} 1.073741824E9
jvm_memory_pool_bytes_max{pool="G1 Eden Space",} -1.0
jvm_memory_pool_bytes_max{pool="G1 Old Gen",} 2.059403264E9
jvm_memory_pool_bytes_max{pool="G1 Survivor Space",} -1.0
jvm_memory_pool_bytes_max{pool="CodeHeap 'non-profiled nmethods'",} 1.22912768E8
# HELP jvm_memory_pool_bytes_init Initial bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_bytes_init gauge
jvm_memory_pool_bytes_init{pool="CodeHeap 'non-nmethods'",} 2555904.0
jvm_memory_pool_bytes_init{pool="Metaspace",} 0.0
jvm_memory_pool_bytes_init{pool="CodeHeap 'profiled nmethods'",} 2555904.0
jvm_memory_pool_bytes_init{pool="Compressed Class Space",} 0.0
jvm_memory_pool_bytes_init{pool="G1 Eden Space",} 1.572864E7
jvm_memory_pool_bytes_init{pool="G1 Old Gen",} 1.14294784E8
jvm_memory_pool_bytes_init{pool="G1 Survivor Space",} 0.0
jvm_memory_pool_bytes_init{pool="CodeHeap 'non-profiled nmethods'",} 2555904.0
# HELP jvm_memory_pool_collection_used_bytes Used bytes after last collection of a given JVM memory pool.
# TYPE jvm_memory_pool_collection_used_bytes gauge
jvm_memory_pool_collection_used_bytes{pool="G1 Eden Space",} 0.0
jvm_memory_pool_collection_used_bytes{pool="G1 Old Gen",} 0.0
jvm_memory_pool_collection_used_bytes{pool="G1 Survivor Space",} 5242880.0
# HELP jvm_memory_pool_collection_committed_bytes Committed after last collection bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_collection_committed_bytes gauge
jvm_memory_pool_collection_committed_bytes{pool="G1 Eden Space",} 7.7594624E7
jvm_memory_pool_collection_committed_bytes{pool="G1 Old Gen",} 0.0
jvm_memory_pool_collection_committed_bytes{pool="G1 Survivor Space",} 5242880.0
# HELP jvm_memory_pool_collection_max_bytes Max bytes after last collection of a given JVM memory pool.
# TYPE jvm_memory_pool_collection_max_bytes gauge
jvm_memory_pool_collection_max_bytes{pool="G1 Eden Space",} -1.0
jvm_memory_pool_collection_max_bytes{pool="G1 Old Gen",} 2.059403264E9
jvm_memory_pool_collection_max_bytes{pool="G1 Survivor Space",} -1.0
# HELP jvm_memory_pool_collection_init_bytes Initial after last collection bytes of a given JVM memory pool.
# TYPE jvm_memory_pool_collection_init_bytes gauge
jvm_memory_pool_collection_init_bytes{pool="G1 Eden Space",} 1.572864E7
jvm_memory_pool_collection_init_bytes{pool="G1 Old Gen",} 1.14294784E8
jvm_memory_pool_collection_init_bytes{pool="G1 Survivor Space",} 0.0
# HELP pdpx_policy_decisions_total The total number of policy decisions.
# TYPE pdpx_policy_decisions_total counter
# HELP jvm_memory_pool_allocated_bytes_total Total bytes allocated in a given JVM memory pool. Only updated after GC, not continuously.
# TYPE jvm_memory_pool_allocated_bytes_total counter
jvm_memory_pool_allocated_bytes_total{pool="CodeHeap 'profiled nmethods'",} 6736640.0
jvm_memory_pool_allocated_bytes_total{pool="G1 Old Gen",} 1.2736936E7
jvm_memory_pool_allocated_bytes_total{pool="G1 Eden Space",} 7.5497472E7
jvm_memory_pool_allocated_bytes_total{pool="CodeHeap 'non-profiled nmethods'",} 1668608.0
jvm_memory_pool_allocated_bytes_total{pool="G1 Survivor Space",} 5242880.0
jvm_memory_pool_allocated_bytes_total{pool="Compressed Class Space",} 4223024.0
jvm_memory_pool_allocated_bytes_total{pool="Metaspace",} 3.4801312E7
jvm_memory_pool_allocated_bytes_total{pool="CodeHeap 'non-nmethods'",} 1348096.0
# HELP jvm_gc_collection_seconds Time spent in a given JVM garbage collector in seconds.
# TYPE jvm_gc_collection_seconds summary
jvm_gc_collection_seconds_count{gc="G1 Young Generation",} 5.0
jvm_gc_collection_seconds_sum{gc="G1 Young Generation",} 0.028
jvm_gc_collection_seconds_count{gc="G1 Old Generation",} 0.0
jvm_gc_collection_seconds_sum{gc="G1 Old Generation",} 0.0
# HELP process_cpu_seconds_total Total user and system CPU time spent in seconds.
# TYPE process_cpu_seconds_total counter
process_cpu_seconds_total 4.61
# HELP process_start_time_seconds Start time of the process since unix epoch in seconds.
# TYPE process_start_time_seconds gauge
process_start_time_seconds 1.662123176422E9
# HELP process_open_fds Number of open file descriptors.
# TYPE process_open_fds gauge
process_open_fds 158.0
# HELP process_max_fds Maximum number of open file descriptors.
# TYPE process_max_fds gauge
process_max_fds 1048576.0
# HELP process_virtual_memory_bytes Virtual memory size in bytes.
# TYPE process_virtual_memory_bytes gauge
process_virtual_memory_bytes 3.831484416E9
# HELP process_resident_memory_bytes Resident memory size in bytes.
# TYPE process_resident_memory_bytes gauge
process_resident_memory_bytes 2.33562112E8
# HELP jvm_buffer_pool_used_bytes Used bytes of a given JVM buffer pool.
# TYPE jvm_buffer_pool_used_bytes gauge
jvm_buffer_pool_used_bytes{pool="mapped",} 0.0
jvm_buffer_pool_used_bytes{pool="direct",} 38468.0
# HELP jvm_buffer_pool_capacity_bytes Bytes capacity of a given JVM buffer pool.
# TYPE jvm_buffer_pool_capacity_bytes gauge
jvm_buffer_pool_capacity_bytes{pool="mapped",} 0.0
jvm_buffer_pool_capacity_bytes{pool="direct",} 38468.0
# HELP jvm_buffer_pool_used_buffers Used buffers of a given JVM buffer pool.
# TYPE jvm_buffer_pool_used_buffers gauge
jvm_buffer_pool_used_buffers{pool="mapped",} 0.0
jvm_buffer_pool_used_buffers{pool="direct",} 7.0
# HELP jvm_info VM version info
# TYPE jvm_info gauge
jvm_info{runtime="OpenJDK Runtime Environment",vendor="Alpine",version="11.0.16.1+1-alpine-r0",} 1.0
# HELP jvm_classes_loaded The number of classes that are currently loaded in the JVM
# TYPE jvm_classes_loaded gauge
jvm_classes_loaded 7580.0
# HELP jvm_classes_loaded_total The total number of classes that have been loaded since the JVM has started execution
# TYPE jvm_classes_loaded_total counter
jvm_classes_loaded_total 7580.0
# HELP jvm_classes_unloaded_total The total number of classes that have been unloaded since the JVM has started execution
# TYPE jvm_classes_unloaded_total counter
jvm_classes_unloaded_total 0.0
# HELP jvm_threads_current Current thread count of a JVM
# TYPE jvm_threads_current gauge
jvm_threads_current 23.0
# HELP jvm_threads_daemon Daemon thread count of a JVM
# TYPE jvm_threads_daemon gauge
jvm_threads_daemon 8.0
# HELP jvm_threads_peak Peak thread count of a JVM
# TYPE jvm_threads_peak gauge
jvm_threads_peak 23.0
# HELP jvm_threads_started_total Started thread count of a JVM
# TYPE jvm_threads_started_total counter
jvm_threads_started_total 24.0
# HELP jvm_threads_deadlocked Cycles of JVM-threads that are in deadlock waiting to acquire object monitors or ownable synchronizers
# TYPE jvm_threads_deadlocked gauge
jvm_threads_deadlocked 0.0
# HELP jvm_threads_deadlocked_monitor Cycles of JVM-threads that are in deadlock waiting to acquire object monitors
# TYPE jvm_threads_deadlocked_monitor gauge
jvm_threads_deadlocked_monitor 0.0
# HELP jvm_threads_state Current count of threads by state
# TYPE jvm_threads_state gauge
jvm_threads_state{state="RUNNABLE",} 8.0
jvm_threads_state{state="WAITING",} 5.0
jvm_threads_state{state="BLOCKED",} 0.0
jvm_threads_state{state="TERMINATED",} 0.0
jvm_threads_state{state="TIMED_WAITING",} 10.0
jvm_threads_state{state="NEW",} 0.0
# HELP jvm_memory_pool_allocated_bytes_created Total bytes allocated in a given JVM memory pool. Only updated after GC, not continuously.
# TYPE jvm_memory_pool_allocated_bytes_created gauge
jvm_memory_pool_allocated_bytes_created{pool="CodeHeap 'profiled nmethods'",} 1.662123177408E9
jvm_memory_pool_allocated_bytes_created{pool="G1 Old Gen",} 1.66212317741E9
jvm_memory_pool_allocated_bytes_created{pool="G1 Eden Space",} 1.66212317741E9
jvm_memory_pool_allocated_bytes_created{pool="CodeHeap 'non-profiled nmethods'",} 1.66212317741E9
jvm_memory_pool_allocated_bytes_created{pool="G1 Survivor Space",} 1.66212317741E9
jvm_memory_pool_allocated_bytes_created{pool="Compressed Class Space",} 1.66212317741E9
jvm_memory_pool_allocated_bytes_created{pool="Metaspace",} 1.66212317741E9
jvm_memory_pool_allocated_bytes_created{pool="CodeHeap 'non-nmethods'",} 1.66212317741E9
# HELP pdpx_policy_deployments_created The total number of policy deployments.
# TYPE pdpx_policy_deployments_created gauge
pdpx_policy_deployments_created{operation="deploy",status="SUCCESS",} 1.662123177968E9
</msg>
<status status="PASS" starttime="20220902 13:53:01.120" endtime="20220902 13:53:01.120"/>
</kw>
<msg timestamp="20220902 13:53:01.120" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.105" endtime="20220902 13:53:01.120"/>
</kw>
<msg timestamp="20220902 13:53:01.120" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.105" endtime="20220902 13:53:01.120"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${resp.text}</arg>
<arg>jvm_threads_current</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20220902 13:53:01.120" endtime="20220902 13:53:01.121"/>
</kw>
<doc>Verify policy-xacml-pdp is exporting prometheus metrics</doc>
<status status="PASS" starttime="20220902 13:53:01.104" endtime="20220902 13:53:01.121"/>
</test>
<test id="s1-t4" name="MakeTopics" line="25">
<kw name="Run Process" library="Process">
<var>${result}</var>
<arg>${SCR_DMAAP}/make_topic.sh</arg>
<arg>POLICY-PDP-PAP</arg>
<doc>Runs a process and waits for it to complete.</doc>
<msg timestamp="20220902 13:53:01.121" level="INFO">Starting process:
/Users/liam/git/onap/policy/docker/csit/make_topic.sh POLICY-PDP-PAP</msg>
<msg timestamp="20220902 13:53:01.124" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20220902 13:53:01.137" level="INFO">Process completed.</msg>
<msg timestamp="20220902 13:53:01.137" level="INFO">${result} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.121" endtime="20220902 13:53:01.137"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${result.rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20220902 13:53:01.138" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.138" endtime="20220902 13:53:01.138"/>
</kw>
<doc>Creates the Policy topics</doc>
<status status="PASS" starttime="20220902 13:53:01.121" endtime="20220902 13:53:01.138"/>
</test>
<test id="s1-t5" name="ExecuteXacmlPolicy" line="30">
<kw name="CreateMonitorPolicy">
<doc>Create a Monitoring policy</doc>
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>${DATA2}/vCPE.policy.monitoring.input.tosca.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:53:01.139" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/models/models-examples/src/main/resources/policies/vCPE.policy.monitoring.input.tosca.json"&gt;/Users/liam/git/onap/policy/docker/models/models-examples/src/main/resources/policies/vCPE.policy.monitoring.input.tosca.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:53:01.139" level="INFO">${postjson} = {
    "tosca_definitions_version": "tosca_simple_yaml_1_1_0",
    "topology_template": {
        "policies": [
            {
                "onap.restart.tca": {
                    "type": "onap.pol...</msg>
<status status="PASS" starttime="20220902 13:53:01.139" endtime="20220902 13:53:01.139"/>
</kw>
<kw name="CreatePolicy" library="common-library">
<arg>/policy/api/v1/policytypes/onap.policies.monitoring.tcagen2/versions/1.0.0/policies</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>onap.restart.tca</arg>
<arg>1.0.0</arg>
<doc>Create the specific policy</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:01.140" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:01.140" endtime="20220902 13:53:01.140"/>
</kw>
<msg timestamp="20220902 13:53:01.140" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:01.139" endtime="20220902 13:53:01.140"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_API_IP}</arg>
<arg>${url}</arg>
<arg>${expectedstatus}</arg>
<arg>${postjson}</arg>
<arg>null</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:01.140" level="INFO">Creating session http://172.31.0.5:6969</msg>
<status status="PASS" starttime="20220902 13:53:01.140" endtime="20220902 13:53:01.140"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:01.140" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.5:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050c0bb0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:01.141" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050c0d90&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.140" endtime="20220902 13:53:01.141"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:01.141" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:01.141" endtime="20220902 13:53:01.141"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:01.587" level="INFO">POST Request : url=http://172.31.0.5:6969/policy/api/v1/policytypes/onap.policies.monitoring.tcagen2/versions/1.0.0/policies?null 
 path_url=/policy/api/v1/policytypes/onap.policies.monitoring.tcagen2/versions/1.0.0/policies?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '2731', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body={
    "tosca_definitions_version": "tosca_simple_yaml_1_1_0",
    "topology_template": {
        "policies": [
            {
                "onap.restart.tca": {
                    "type": "onap.policies.monitoring.tcagen2",
                    "type_version": "1.0.0",
                    "version": "1.0.0",
                    "name": "onap.restart.tca",
                    "metadata": {
                        "policy-id": "onap.restart.tca",
                        "policy-version": 1
                    },
                    "properties": {
                        "tca.policy" : {
                            "domain": "measurementsForVfScaling",
                            "metricsPerEventName": [
                                {
                                    "eventName": "Measurement_vGMUX",
                                    "controlLoopSchemaType": "VNF",
                                    "policyScope": "DCAE",
                                    "policyName": "DCAE.Config_tca-hi-lo",
                                    "policyVersion": "v0.0.1",
                                    "thresholds": [
                                        {
                                            "closedLoopControlName": "ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e",
                                            "version": "1.0.2",
                                            "fieldPath": "$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value",
                                            "thresholdValue": 0,
                                            "direction": "EQUAL",
                                            "severity": "MAJOR",
                                            "closedLoopEventStatus": "ABATED"
                                        },
                                        {
                                            "closedLoopControlName": "ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e",
                                            "version": "1.0.2",
                                            "fieldPath": "$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value",
                                            "thresholdValue": 0,
                                            "direction": "GREATER",
                                            "severity": "CRITICAL",
                                            "closedLoopEventStatus": "ONSET"
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                }
            }
        ]
    }
} 
 </msg>
<msg timestamp="20220902 13:53:01.587" level="INFO">POST Response : url=http://172.31.0.5:6969/policy/api/v1/policytypes/onap.policies.monitoring.tcagen2/versions/1.0.0/policies?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=7F4C9CAB7A0F1387767A4286A73E5BAF; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '9b66c921-f477-48ab-8dc1-dc59412db15d', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:53:01 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"tosca_definitions_version":"tosca_simple_yaml_1_1_0","topology_template":{"policies":[{"onap.restart.tca":{"type":"onap.policies.monitoring.tcagen2","type_version":"1.0.0","properties":{"tca.policy":{"domain":"measurementsForVfScaling","metricsPerEventName":[{"eventName":"Measurement_vGMUX","controlLoopSchemaType":"VNF","policyScope":"DCAE","policyName":"DCAE.Config_tca-hi-lo","policyVersion":"v0.0.1","thresholds":[{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0.0,"direction":"EQUAL","severity":"MAJOR","closedLoopEventStatus":"ABATED"},{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0.0,"direction":"GREATER","severity":"CRITICAL","closedLoopEventStatus":"ONSET"}]}]}},"name":"onap.restart.tca","version":"1.0.0","metadata":{"policy-id":"onap.restart.tca","policy-version":1.0}}}]},"name":"NULL","version":"0.0.0"} 
 </msg>
<msg timestamp="20220902 13:53:01.587" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.141" endtime="20220902 13:53:01.587"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:01.588" level="INFO">Received response from policy {"tosca_definitions_version":"tosca_simple_yaml_1_1_0","topology_template":{"policies":[{"onap.restart.tca":{"type":"onap.policies.monitoring.tcagen2","type_version":"1.0.0","properties":{"tca.policy":{"domain":"measurementsForVfScaling","metricsPerEventName":[{"eventName":"Measurement_vGMUX","controlLoopSchemaType":"VNF","policyScope":"DCAE","policyName":"DCAE.Config_tca-hi-lo","policyVersion":"v0.0.1","thresholds":[{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0.0,"direction":"EQUAL","severity":"MAJOR","closedLoopEventStatus":"ABATED"},{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0.0,"direction":"GREATER","severity":"CRITICAL","closedLoopEventStatus":"ONSET"}]}]}},"name":"onap.restart.tca","version":"1.0.0","metadata":{"policy-id":"onap.restart.tca","policy-version":1.0}}}]},"name":"NULL","version":"0.0.0"}</msg>
<status status="PASS" starttime="20220902 13:53:01.587" endtime="20220902 13:53:01.588"/>
</kw>
<msg timestamp="20220902 13:53:01.589" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.140" endtime="20220902 13:53:01.589"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${expectedstatus}==200</arg>
<arg>Dictionary Should Contain Key</arg>
<arg>${resp.json()['topology_template']['policies'][0]}</arg>
<arg>${policyname}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${resp.json()['topology_template']['policies'][0]}</arg>
<arg>${policyname}</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:01.589" endtime="20220902 13:53:01.590"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.589" endtime="20220902 13:53:01.590"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${expectedstatus}==200</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['topology_template']['policies'][0]['${policyname}']['version']}</arg>
<arg>${policyversion}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['topology_template']['policies'][0]['${policyname}']['version']}</arg>
<arg>${policyversion}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:53:01.591" endtime="20220902 13:53:01.591"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.590" endtime="20220902 13:53:01.591"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.139" endtime="20220902 13:53:01.591"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.139" endtime="20220902 13:53:01.591"/>
</kw>
<kw name="CreateOptimizationPolicy">
<doc>Create an Optimization policy</doc>
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>${DATA2}/vCPE.policies.optimization.input.tosca.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:53:01.591" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/models/models-examples/src/main/resources/policies/vCPE.policies.optimization.input.tosca.json"&gt;/Users/liam/git/onap/policy/docker/models/models-examples/src/main/resources/policies/vCPE.policies.optimization.input.tosca.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:53:01.592" level="INFO">${postjson} = {
    "tosca_definitions_version": "tosca_simple_yaml_1_1_0",
    "topology_template": {
        "policies": [
            {
                "OSDF_CASABLANCA.Affinity_Default": {
                    "...</msg>
<status status="PASS" starttime="20220902 13:53:01.591" endtime="20220902 13:53:01.592"/>
</kw>
<kw name="CreatePolicy" library="common-library">
<arg>/policy/api/v1/policytypes/onap.policies.optimization.resource.AffinityPolicy/versions/1.0.0/policies</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>OSDF_CASABLANCA.Affinity_Default</arg>
<arg>1.0.0</arg>
<doc>Create the specific policy</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:01.592" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:01.592" endtime="20220902 13:53:01.592"/>
</kw>
<msg timestamp="20220902 13:53:01.592" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:01.592" endtime="20220902 13:53:01.592"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_API_IP}</arg>
<arg>${url}</arg>
<arg>${expectedstatus}</arg>
<arg>${postjson}</arg>
<arg>null</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:01.592" level="INFO">Creating session http://172.31.0.5:6969</msg>
<status status="PASS" starttime="20220902 13:53:01.592" endtime="20220902 13:53:01.592"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:01.593" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.5:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050c1c90&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:01.593" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050c1e70&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.592" endtime="20220902 13:53:01.593"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:01.593" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:01.593" endtime="20220902 13:53:01.593"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:01.852" level="INFO">POST Request : url=http://172.31.0.5:6969/policy/api/v1/policytypes/onap.policies.optimization.resource.AffinityPolicy/versions/1.0.0/policies?null 
 path_url=/policy/api/v1/policytypes/onap.policies.optimization.resource.AffinityPolicy/versions/1.0.0/policies?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '24549', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body={
    "tosca_definitions_version": "tosca_simple_yaml_1_1_0",
    "topology_template": {
        "policies": [
            {
                "OSDF_CASABLANCA.Affinity_Default": {
                    "type": "onap.policies.optimization.resource.AffinityPolicy",
                    "version": "1.0.0",
                    "type_version": "1.0.0",
                    "name": "OSDF_CASABLANCA.Affinity_Default",
                    "metadata": {
                        "policy-id": "OSDF_CASABLANCA.Affinity_Default",
                        "policy-version": 1
                    },
                    "properties": {
                        "scope": [],
                        "services": [],
                        "resources": [],
                        "geography": [],
                        "identity": "affinity_vCPE",
                        "applicableResources": "any",
                        "affinityProperties": {
                            "qualifier": "same",
                            "category": "complex"
                        }
                    }
                }
            },
            {
                "OSDF_CASABLANCA.Affinity_Default_US": {
                    "type": "onap.policies.optimization.resource.AffinityPolicy",
                    "version": "1.0.0",
                    "type_version": "1.0.0",
                    "name": "OSDF_CASABLANCA.Affinity_Default_US",
                    "metadata": {
                        "policy-id": "OSDF_CASABLANCA.Affinity_Default_US",
                        "policy-version": 1
                    },
                    "properties": {
                        "scope": [],
                        "services": [],
                        "resources": [],
                        "geography": [
                            "US"
                        ],
                        "identity": "affinity_vCPE",
                        "applicableResources": "any",
                        "affinityProperties": {
                            "qualifier": "same",
                            "category": "complex"
                        }
                    }
                }
            },
            {
                "OSDF_CASABLANCA.Affinity_Default_vCPE_US_0": {
                    "type": "onap.policies.optimization.resource.AffinityPolicy",
                    "version": "1.0.0",
                    "type_version": "1.0.0",
                    "name": "OSDF_CASABLANCA.Affinity_Default_vCPE_US_0",
                    "metadata": {
                        "policy-id": "OSDF_CASABLANCA.Affinity_Default_vCPE_US_0",
                        "policy-version": 1
                    },
                    "properties": {
                        "scope": [],
                        "services": [
                            "vCPE"
                        ],
                        "resources": [],
                        "geography": [
                            "US"
                        ],
                        "identity": "affinity_vCPE",
                        "applicableResources": "any",
                        "affinityProperties": {
                            "qualifier": "different",
                            "category": "complex"
                        }
                    }
                }
            },
            {
                "OSDF_CASABLANCA.Affinity_vCPE_US_Gold_1": {
                    "type": "onap.policies.optimization.resource.AffinityPolicy",
                    "version": "1.0.0",
                    "type_version": "1.0.0",
                    "name": "OSDF_CASABLANCA.Affinity_vCPE_US_Gold_1",
                    "metadata": {
                        "policy-id": "OSDF_CASABLANCA.Affinity_vCPE_US_Gold_1",
                        "policy-version": 1
                    },
                    "properties": {
                        "scope": [
                            "gold"
                        ],
                        "services": [
                            "vCPE"
                        ],
                        "resources": [
                            "vGMuxInfra",
                            "vG"
                        ],
                        "geography": [
                            "US",
                            "INTERNATIONAL"
                        ],
                        "identity": "affinity_vCPE",
                        "applicableResources": "any",
                        "affinityProperties": {
                            "qualifier": "same",
                            "category": "availabilityZone"
                        }
                    }
                }
            },
            {
                "OSDF_CASABLANCA.Affinity_vCPE_US_Platinum_1": {
                    "type": "onap.policies.optimization.resource.AffinityPolicy",
                    "version": "1.0.0",
                    "type_version": "1.0.0",
                    "name": "OSDF_CASABLANCA.Affinity_vCPE_US_Platinum_1",
                    "metadata": {
                        "policy-id": "OSDF_CASABLANCA.Affinity_vCPE_US_Platinum_1",
                        "policy-version": 1
                    },
                    "properties": {
                        "scope": [
                            "platinum"
                        ],
                        "services": [
                            "vCPE"
                        ],
                        "resources": [
                            "vGMuxInfra",
                            "vG"
                        ],
                        "geography": [
                            "US",
                            "INTERNATIONAL"
                        ],
                        "identity": "affinity_vCPE",
                        "applicableResources": "any",
                        "affinityProperties": {
                            "qualifier": "different",
                            "category": "availabilityZone"
                        }
                    }
                }
            },
            {
                "OSDF_CASABLANCA.Capacity_vG_1": {
                    "type": "onap.policies.optimization.resource.Vim_fit",
                    "version": "1.0.0",
                    "type_version": "1.0.0",
                    "name": "OSDF_CASABLANCA.Capacity_vG_1",
                    "metadata": {
                        "policy-id": "OSDF_CASABLANCA.Capacity_vG_1",
                        "policy-version": 1
                    },
                    "properties": {
                        "scope": [],
                        "services": [
                            "vCPE"
                        ],
                        "resources": [
                            "vG"
                        ],
                        "geography": [
                            "US",
                            "INTERNATIONAL"
                        ],
                        "identity": "capacity_vG",
                        "applicableResources": "any",
                        "capacityProperty": {
                            "controller": "multicloud",
                            "request": "{\"vCPU\": 10, \"Memory\": {\"quantity\": {\"get_param\": \"REQUIRED_MEM\"}, \"unit\": \"GB\"}, \"Storage\": {\"quantity\": {\"get_param\": \"REQUIRED_DISK\"}, \"unit\": \"GB\"}}"
                        }
                    }
                }
            },
            {
                "OSDF_CASABLANCA.Capacity_vG_2": {
                    "type": "onap.policies.optimization.resource.Vim_fit",
                    "version": "1.0.0",
                    "type_version": "1.0.0",
                    "name": "OSDF_CASABLANCA.Capacity_vG_2",
                    "metadata": {
                        "policy-id": "OSDF_CASABLANCA.Capacity_vG_2",
                        "policy-version": 1
                    },
                    "properties": {
                        "scope": [],
                        "services": [
                            "vCPE"
                        ],
                        "resources": [
                            "vG"
                        ],
                        "geography": [
                            "US",
                            "INTERNATIONAL"
                        ],
                        "identity": "capacity_vG",
                        "applicableResources": "any",
                        "capacityProperty": {
                            "controller": "multicloud",
                            "request": "{\"vCPU\": 15, \"Memory\": {\"quantity\": {\"get_param\": \"REQUIRED_MEM\"}, \"unit\": \"MB\"}, \"Storage\": {\"quantity\": {\"get_param\": \"REQUIRED_DISK\"}, \"unit\": \"GB\"}}"
                        }
                    }
                }
            },
            {
                "OSDF_CASABLANCA.Distance_vG_1": {
                    "type": "onap.policies.optimization.resource.DistancePolicy",
                    "version": "1.0.0",
                    "type_version": "1.0.0",
                    "name": "OSDF_CASABLANCA.Distance_vG_1",
                    "metadata": {
                        "policy-id": "OSDF_CASABLANCA.Distance_vG_1",
                        "policy-version": 1
                    },
                    "properties": {
                        "scope": [
                            "platinum"
                        ],
                        "services": [
                            "vCPE"
                        ],
                        "resources": [
                            "vG"
                        ],
                        "geography": [
                            "US",
                            "INTERNATIONAL"
                        ],
                        "identity": "distance-vG",
                        "applicableResources": "any",
                        "distanceProperties": {
                            "locationInfo": "customer_loc",
        ... (set the log level to DEBUG or TRACE to see the full content) 
 </msg>
<msg timestamp="20220902 13:53:01.852" level="INFO">POST Response : url=http://172.31.0.5:6969/policy/api/v1/policytypes/onap.policies.optimization.resource.AffinityPolicy/versions/1.0.0/policies?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=54A2B0EC7576607783FE281F91509358; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '66ac516d-0222-4af4-9930-d4ed1d3291a6', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:53:01 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"tosca_definitions_version":"tosca_simple_yaml_1_1_0","topology_template":{"policies":[{"OSDF_CASABLANCA.Affinity_Default":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"scope":[],"services":[],"resources":[],"geography":[],"identity":"affinity_vCPE","applicableResources":"any","affinityProperties":{"qualifier":"same","category":"complex"}},"name":"OSDF_CASABLANCA.Affinity_Default","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_Default","policy-version":1.0}}},{"OSDF_CASABLANCA.Affinity_Default_US":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"scope":[],"services":[],"resources":[],"geography":["US"],"identity":"affinity_vCPE","applicableResources":"any","affinityProperties":{"qualifier":"same","category":"complex"}},"name":"OSDF_CASABLANCA.Affinity_Default_US","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_Default_US","policy-version":1.0}}},{"OSDF_CASABLANCA.Affinity_Default_vCPE_US_0":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"resources":[],"geography":["US"],"identity":"affinity_vCPE","applicableResources":"any","affinityProperties":{"qualifier":"different","category":"complex"}},"name":"OSDF_CASABLANCA.Affinity_Default_vCPE_US_0","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_Default_vCPE_US_0","policy-version":1.0}}},{"OSDF_CASABLANCA.Affinity_vCPE_US_Gold_1":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"scope":["gold"],"services":["vCPE"],"resources":["vGMuxInfra","vG"],"geography":["US","INTERNATIONAL"],"identity":"affinity_vCPE","applicableResources":"any","affinityProperties":{"qualifier":"same","category":"availabilityZone"}},"name":"OSDF_CASABLANCA.Affinity_vCPE_US_Gold_1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_vCPE_US_Gold_1","policy-version":1.0}}},{"OSDF_CASABLANCA.Affinity_vCPE_US_Platinum_1":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"scope":["platinum"],"services":["vCPE"],"resources":["vGMuxInfra","vG"],"geography":["US","INTERNATIONAL"],"identity":"affinity_vCPE","applicableResources":"any","affinityProperties":{"qualifier":"different","category":"availabilityZone"}},"name":"OSDF_CASABLANCA.Affinity_vCPE_US_Platinum_1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_vCPE_US_Platinum_1","policy-version":1.0}}},{"OSDF_CASABLANCA.Capacity_vG_1":{"type":"onap.policies.optimization.resource.Vim_fit","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"resources":["vG"],"geography":["US","INTERNATIONAL"],"identity":"capacity_vG","applicableResources":"any","capacityProperty":{"controller":"multicloud","request":"{\"vCPU\": 10, \"Memory\": {\"quantity\": {\"get_param\": \"REQUIRED_MEM\"}, \"unit\": \"GB\"}, \"Storage\": {\"quantity\": {\"get_param\": \"REQUIRED_DISK\"}, \"unit\": \"GB\"}}"}},"name":"OSDF_CASABLANCA.Capacity_vG_1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Capacity_vG_1","policy-version":1.0}}},{"OSDF_CASABLANCA.Capacity_vG_2":{"type":"onap.policies.optimization.resource.Vim_fit","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"resources":["vG"],"geography":["US","INTERNATIONAL"],"identity":"capacity_vG","applicableResources":"any","capacityProperty":{"controller":"multicloud","request":"{\"vCPU\": 15, \"Memory\": {\"quantity\": {\"get_param\": \"REQUIRED_MEM\"}, \"unit\": \"MB\"}, \"Storage\": {\"quantity\": {\"get_param\": \"REQUIRED_DISK\"}, \"unit\": \"GB\"}}"}},"name":"OSDF_CASABLANCA.Capacity_vG_2","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Capacity_vG_2","policy-version":1.0}}},{"OSDF_CASABLANCA.Distance_vG_1":{"type":"onap.policies.optimization.resource.DistancePolicy","type_version":"1.0.0","properties":{"scope":["platinum"],"services":["vCPE"],"resources":["vG"],"geography":["US","INTERNATIONAL"],"identity":"distance-vG","applicableResources":"any","distanceProperties":{"locationInfo":"customer_loc","distance":{"value":1500.0,"operator":"\u003c","unit":"km"}}},"name":"OSDF_CASABLANCA.Distance_vG_1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Distance_vG_1","policy-version":1.0}}},{"OSDF_CASABLANCA.hpa_policy_Default":{"type":"onap.policies.optimization.resource.HpaPolicy","type_version":"1.0.0","properties":{"scope":[],"services":[],"resources":[],"geography":[],"identity":"hpa-vG","flavorFeatures":[{"id":"vg_1","type":"vnfc","directives":[{"type":"flavor_directives","attributes":[{"attribute_name":"flavor_label_vm_01","attribute_value":""}]}],"flavorProperties":[{"hpa-feature":"basicCapabilities","mandatory":true,"architecture":"generic","directives":[],"hpa-feature-attributes":[{"hpa-attribute-key":"numVirtualCpu","hpa-attribute-value":8.0,"operator":["\u003e\u003d"],"unit":""},{"hpa-attribute-key":"virtualMemSize","hpa-attribute-value":6.0,"operator":["\u003c\u003d"],"unit":""}]},{"hpa-feature":"ovsDpdk","mandatory":false,"architecture":"generic","directives":[],"hpa-feature-attributes":[{"hpa-attribute-key":"dataProcessingAccelerationLibrary","hpa-attribute-value":"ovsDpdk_version","operator":["\u003d"],"unit":""}]}]}]},"name":"OSDF_CASABLANCA.hpa_policy_Default","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.hpa_policy_Default","policy-version":1.0}}},{"OSDF_CASABLANCA.hpa_policy_vG_1":{"type":"onap.policies.optimization.resource.HpaPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE","vOtherService"],"resources":["vG"],"geography":[],"identity":"hpa-vG","flavorFeatures":[{"id":"vg_1","type":"vnfc","directives":[{"type":"flavor_directives","attributes":[{"attribute_name":"flavor_label_vm_01","attribute_value":""}]}],"flavorProperties":[{"hpa-feature":"basicCapabilities","mandatory":true,"architecture":"generic","directives":[],"hpa-feature-attributes":[{"hpa-attribute-key":"numVirtualCpu","hpa-attribute-value":6.0,"operator":["\u003e\u003d"],"unit":""},{"hpa-attribute-key":"virtualMemSize","hpa-attribute-value":4.0,"operator":["\u003c\u003d"],"unit":""}]},{"hpa-feature":"ovsDpdk","mandatory":false,"architecture":"generic","directives":[],"hpa-feature-attributes":[{"hpa-attribute-key":"dataProcessingAccelerationLibrary","hpa-attribute-value":"ovsDpdk_version","operator":["\u003d"],"unit":""}]}]}]},"name":"OSDF_CASABLANCA.hpa_policy_vG_1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.hpa_policy_vG_1","policy-version":1.0}}},{"OSDF_CASABLANCA.queryPolicy_vCPE":{"type":"onap.policies.optimization.service.QueryPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"geography":["US","INTERNATIONAL"],"identity":"vCPE_Query_Policy","queryProperties":[{"attribute":"locationId","attribute_location":"customerLocation","value":""},{"attribute":"id","attribute_location":"vpnInfo.vpnId","value":""},{"attribute":"upstreamBW","attribute_location":"vpnInfo.upstreamBW","value":""},{"attribute":"customerLatitude","attribute_location":"customerLatitude","value":1.1},{"attribute":"customerLongitude","attribute_location":"customerLongitude","value":2.2}]},"name":"OSDF_CASABLANCA.queryPolicy_vCPE","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.queryPolicy_vCPE","policy-version":1.0}}},{"OSDF_CASABLANCA.SubscriberPolicy_v1":{"type":"onap.policies.optimization.service.SubscriberPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"identity":"subscriber_vCPE","subscriberProperties":{"subscriberName":["subscriber_x","subscriber_y"],"subscriberRole":["platinum"],"provStatus":["CAPPED"]}},"name":"OSDF_CASABLANCA.SubscriberPolicy_v1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.SubscriberPolicy_v1","policy-version":1.0}}},{"OSDF_CASABLANCA.SubscriberPolicy_v2":{"type":"onap.policies.optimization.service.SubscriberPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"identity":"subscriber_vCPE","subscriberProperties":{"subscriberName":["subscriber_a","subscriber_b"],"subscriberRole":["gold"],"provStatus":["CAPPED"]}},"name":"OSDF_CASABLANCA.SubscriberPolicy_v2","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.SubscriberPolicy_v2","policy-version":1.0}}},{"OSDF_CASABLANCA.vnfPolicy_vG":{"type":"onap.policies.optimization.resource.VnfPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"resources":["vG"],"geography":["US","INTERNATIONAL"],"identity":"vnf_vG","applicableResources":"any","vnfProperties":[{"inventoryProvider":"aai","serviceType":"","inventoryType":"cloudRegionId","customerId":""}]},"name":"OSDF_CASABLANCA.vnfPolicy_vG","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.vnfPolicy_vG","policy-version":1.0}}}]},"name":"NULL","version":"0.0.0"} 
 </msg>
<msg timestamp="20220902 13:53:01.852" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.593" endtime="20220902 13:53:01.852"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:01.854" level="INFO">Received response from policy {"tosca_definitions_version":"tosca_simple_yaml_1_1_0","topology_template":{"policies":[{"OSDF_CASABLANCA.Affinity_Default":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"scope":[],"services":[],"resources":[],"geography":[],"identity":"affinity_vCPE","applicableResources":"any","affinityProperties":{"qualifier":"same","category":"complex"}},"name":"OSDF_CASABLANCA.Affinity_Default","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_Default","policy-version":1.0}}},{"OSDF_CASABLANCA.Affinity_Default_US":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"scope":[],"services":[],"resources":[],"geography":["US"],"identity":"affinity_vCPE","applicableResources":"any","affinityProperties":{"qualifier":"same","category":"complex"}},"name":"OSDF_CASABLANCA.Affinity_Default_US","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_Default_US","policy-version":1.0}}},{"OSDF_CASABLANCA.Affinity_Default_vCPE_US_0":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"resources":[],"geography":["US"],"identity":"affinity_vCPE","applicableResources":"any","affinityProperties":{"qualifier":"different","category":"complex"}},"name":"OSDF_CASABLANCA.Affinity_Default_vCPE_US_0","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_Default_vCPE_US_0","policy-version":1.0}}},{"OSDF_CASABLANCA.Affinity_vCPE_US_Gold_1":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"scope":["gold"],"services":["vCPE"],"resources":["vGMuxInfra","vG"],"geography":["US","INTERNATIONAL"],"identity":"affinity_vCPE","applicableResources":"any","affinityProperties":{"qualifier":"same","category":"availabilityZone"}},"name":"OSDF_CASABLANCA.Affinity_vCPE_US_Gold_1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_vCPE_US_Gold_1","policy-version":1.0}}},{"OSDF_CASABLANCA.Affinity_vCPE_US_Platinum_1":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"scope":["platinum"],"services":["vCPE"],"resources":["vGMuxInfra","vG"],"geography":["US","INTERNATIONAL"],"identity":"affinity_vCPE","applicableResources":"any","affinityProperties":{"qualifier":"different","category":"availabilityZone"}},"name":"OSDF_CASABLANCA.Affinity_vCPE_US_Platinum_1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_vCPE_US_Platinum_1","policy-version":1.0}}},{"OSDF_CASABLANCA.Capacity_vG_1":{"type":"onap.policies.optimization.resource.Vim_fit","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"resources":["vG"],"geography":["US","INTERNATIONAL"],"identity":"capacity_vG","applicableResources":"any","capacityProperty":{"controller":"multicloud","request":"{\"vCPU\": 10, \"Memory\": {\"quantity\": {\"get_param\": \"REQUIRED_MEM\"}, \"unit\": \"GB\"}, \"Storage\": {\"quantity\": {\"get_param\": \"REQUIRED_DISK\"}, \"unit\": \"GB\"}}"}},"name":"OSDF_CASABLANCA.Capacity_vG_1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Capacity_vG_1","policy-version":1.0}}},{"OSDF_CASABLANCA.Capacity_vG_2":{"type":"onap.policies.optimization.resource.Vim_fit","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"resources":["vG"],"geography":["US","INTERNATIONAL"],"identity":"capacity_vG","applicableResources":"any","capacityProperty":{"controller":"multicloud","request":"{\"vCPU\": 15, \"Memory\": {\"quantity\": {\"get_param\": \"REQUIRED_MEM\"}, \"unit\": \"MB\"}, \"Storage\": {\"quantity\": {\"get_param\": \"REQUIRED_DISK\"}, \"unit\": \"GB\"}}"}},"name":"OSDF_CASABLANCA.Capacity_vG_2","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Capacity_vG_2","policy-version":1.0}}},{"OSDF_CASABLANCA.Distance_vG_1":{"type":"onap.policies.optimization.resource.DistancePolicy","type_version":"1.0.0","properties":{"scope":["platinum"],"services":["vCPE"],"resources":["vG"],"geography":["US","INTERNATIONAL"],"identity":"distance-vG","applicableResources":"any","distanceProperties":{"locationInfo":"customer_loc","distance":{"value":1500.0,"operator":"\u003c","unit":"km"}}},"name":"OSDF_CASABLANCA.Distance_vG_1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Distance_vG_1","policy-version":1.0}}},{"OSDF_CASABLANCA.hpa_policy_Default":{"type":"onap.policies.optimization.resource.HpaPolicy","type_version":"1.0.0","properties":{"scope":[],"services":[],"resources":[],"geography":[],"identity":"hpa-vG","flavorFeatures":[{"id":"vg_1","type":"vnfc","directives":[{"type":"flavor_directives","attributes":[{"attribute_name":"flavor_label_vm_01","attribute_value":""}]}],"flavorProperties":[{"hpa-feature":"basicCapabilities","mandatory":true,"architecture":"generic","directives":[],"hpa-feature-attributes":[{"hpa-attribute-key":"numVirtualCpu","hpa-attribute-value":8.0,"operator":["\u003e\u003d"],"unit":""},{"hpa-attribute-key":"virtualMemSize","hpa-attribute-value":6.0,"operator":["\u003c\u003d"],"unit":""}]},{"hpa-feature":"ovsDpdk","mandatory":false,"architecture":"generic","directives":[],"hpa-feature-attributes":[{"hpa-attribute-key":"dataProcessingAccelerationLibrary","hpa-attribute-value":"ovsDpdk_version","operator":["\u003d"],"unit":""}]}]}]},"name":"OSDF_CASABLANCA.hpa_policy_Default","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.hpa_policy_Default","policy-version":1.0}}},{"OSDF_CASABLANCA.hpa_policy_vG_1":{"type":"onap.policies.optimization.resource.HpaPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE","vOtherService"],"resources":["vG"],"geography":[],"identity":"hpa-vG","flavorFeatures":[{"id":"vg_1","type":"vnfc","directives":[{"type":"flavor_directives","attributes":[{"attribute_name":"flavor_label_vm_01","attribute_value":""}]}],"flavorProperties":[{"hpa-feature":"basicCapabilities","mandatory":true,"architecture":"generic","directives":[],"hpa-feature-attributes":[{"hpa-attribute-key":"numVirtualCpu","hpa-attribute-value":6.0,"operator":["\u003e\u003d"],"unit":""},{"hpa-attribute-key":"virtualMemSize","hpa-attribute-value":4.0,"operator":["\u003c\u003d"],"unit":""}]},{"hpa-feature":"ovsDpdk","mandatory":false,"architecture":"generic","directives":[],"hpa-feature-attributes":[{"hpa-attribute-key":"dataProcessingAccelerationLibrary","hpa-attribute-value":"ovsDpdk_version","operator":["\u003d"],"unit":""}]}]}]},"name":"OSDF_CASABLANCA.hpa_policy_vG_1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.hpa_policy_vG_1","policy-version":1.0}}},{"OSDF_CASABLANCA.queryPolicy_vCPE":{"type":"onap.policies.optimization.service.QueryPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"geography":["US","INTERNATIONAL"],"identity":"vCPE_Query_Policy","queryProperties":[{"attribute":"locationId","attribute_location":"customerLocation","value":""},{"attribute":"id","attribute_location":"vpnInfo.vpnId","value":""},{"attribute":"upstreamBW","attribute_location":"vpnInfo.upstreamBW","value":""},{"attribute":"customerLatitude","attribute_location":"customerLatitude","value":1.1},{"attribute":"customerLongitude","attribute_location":"customerLongitude","value":2.2}]},"name":"OSDF_CASABLANCA.queryPolicy_vCPE","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.queryPolicy_vCPE","policy-version":1.0}}},{"OSDF_CASABLANCA.SubscriberPolicy_v1":{"type":"onap.policies.optimization.service.SubscriberPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"identity":"subscriber_vCPE","subscriberProperties":{"subscriberName":["subscriber_x","subscriber_y"],"subscriberRole":["platinum"],"provStatus":["CAPPED"]}},"name":"OSDF_CASABLANCA.SubscriberPolicy_v1","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.SubscriberPolicy_v1","policy-version":1.0}}},{"OSDF_CASABLANCA.SubscriberPolicy_v2":{"type":"onap.policies.optimization.service.SubscriberPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"identity":"subscriber_vCPE","subscriberProperties":{"subscriberName":["subscriber_a","subscriber_b"],"subscriberRole":["gold"],"provStatus":["CAPPED"]}},"name":"OSDF_CASABLANCA.SubscriberPolicy_v2","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.SubscriberPolicy_v2","policy-version":1.0}}},{"OSDF_CASABLANCA.vnfPolicy_vG":{"type":"onap.policies.optimization.resource.VnfPolicy","type_version":"1.0.0","properties":{"scope":[],"services":["vCPE"],"resources":["vG"],"geography":["US","INTERNATIONAL"],"identity":"vnf_vG","applicableResources":"any","vnfProperties":[{"inventoryProvider":"aai","serviceType":"","inventoryType":"cloudRegionId","customerId":""}]},"name":"OSDF_CASABLANCA.vnfPolicy_vG","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.vnfPolicy_vG","policy-version":1.0}}}]},"name":"NULL","version":"0.0.0"}</msg>
<status status="PASS" starttime="20220902 13:53:01.853" endtime="20220902 13:53:01.854"/>
</kw>
<msg timestamp="20220902 13:53:01.854" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.592" endtime="20220902 13:53:01.854"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${expectedstatus}==200</arg>
<arg>Dictionary Should Contain Key</arg>
<arg>${resp.json()['topology_template']['policies'][0]}</arg>
<arg>${policyname}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${resp.json()['topology_template']['policies'][0]}</arg>
<arg>${policyname}</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:01.854" endtime="20220902 13:53:01.855"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.854" endtime="20220902 13:53:01.855"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${expectedstatus}==200</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['topology_template']['policies'][0]['${policyname}']['version']}</arg>
<arg>${policyversion}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['topology_template']['policies'][0]['${policyname}']['version']}</arg>
<arg>${policyversion}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:53:01.855" endtime="20220902 13:53:01.855"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.855" endtime="20220902 13:53:01.855"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.592" endtime="20220902 13:53:01.855"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.591" endtime="20220902 13:53:01.855"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>1 min</arg>
<arg>15 sec</arg>
<arg>GetDefaultDecision</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="GetDefaultDecision">
<doc>Get Default Decision with no policies in Xacml PDP</doc>
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.guard.decision.request.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:53:01.856" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.guard.decision.request.json"&gt;/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.guard.decision.request.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:53:01.856" level="INFO">${postjson} = {
  "ONAPName": "Guard",
  "ONAPComponent": "Guard-component",
  "ONAPInstance": "Guard-component-instance",
  "requestId": "unique-request-guard-1",
  "action": "guard",
  "resource": {
    "guard": ...</msg>
<status status="PASS" starttime="20220902 13:53:01.856" endtime="20220902 13:53:01.856"/>
</kw>
<kw name="DecisionPostReq">
<var>${resp}</var>
<arg>${postjson}</arg>
<arg>abbrev=true</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:01.857" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:01.856" endtime="20220902 13:53:01.857"/>
</kw>
<msg timestamp="20220902 13:53:01.857" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:01.856" endtime="20220902 13:53:01.857"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>/policy/pdpx/v1/decision</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>${abbr}</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:01.857" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:01.857" endtime="20220902 13:53:01.857"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:01.857" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050c2da0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:01.857" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050c2e60&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.857" endtime="20220902 13:53:01.857"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:01.857" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:01.857" endtime="20220902 13:53:01.857"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:02.178" level="INFO">POST Request : url=http://172.31.0.7:6969/policy/pdpx/v1/decision?abbrev=true 
 path_url=/policy/pdpx/v1/decision?abbrev=true 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '464', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body={
  "ONAPName": "Guard",
  "ONAPComponent": "Guard-component",
  "ONAPInstance": "Guard-component-instance",
  "requestId": "unique-request-guard-1",
  "action": "guard",
  "resource": {
    "guard": {
      "actor": "APPC",
      "operation": "ModifyConfig",
      "target": "f17face5-69cb-4c88-9e0b-7426db7edddd",
      "requestId": "c7c6a4aa-bb61-4a15-b831-ba1472dd4a65",
      "clname": "ControlLoop-vFirewall-d0a1dfc6-94f5-4fd4-a5b5-4630b438850a"
    }
  }
}
 
 </msg>
<msg timestamp="20220902 13:53:02.178" level="INFO">POST Response : url=http://172.31.0.7:6969/policy/pdpx/v1/decision?abbrev=true 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:01 GMT', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'ee03338a-037d-428c-a465-233c41093a39', 'Content-Type': 'application/json', 'Content-Length': '19', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body={"status":"Permit"} 
 </msg>
<msg timestamp="20220902 13:53:02.178" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.857" endtime="20220902 13:53:02.178"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:02.179" level="INFO">Received response from policy {"status":"Permit"}</msg>
<status status="PASS" starttime="20220902 13:53:02.178" endtime="20220902 13:53:02.179"/>
</kw>
<msg timestamp="20220902 13:53:02.180" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.857" endtime="20220902 13:53:02.180"/>
</kw>
<msg timestamp="20220902 13:53:02.180" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:01.856" endtime="20220902 13:53:02.180"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${status}</var>
<arg>${resp.json()}</arg>
<arg>status</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20220902 13:53:02.181" level="INFO">${status} = Permit</msg>
<status status="PASS" starttime="20220902 13:53:02.180" endtime="20220902 13:53:02.181"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${status}</arg>
<arg>Permit</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:53:02.181" endtime="20220902 13:53:02.182"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.856" endtime="20220902 13:53:02.182"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.855" endtime="20220902 13:53:02.182"/>
</kw>
<kw name="DeployPolicies">
<doc>Runs Policy PAP to deploy a policy</doc>
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/vCPE.policy.input.tosca.deploy.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:53:02.182" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/vCPE.policy.input.tosca.deploy.json"&gt;/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/vCPE.policy.input.tosca.deploy.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:53:02.182" level="INFO">${postjson} = {"policies":[
    {"policy-id":"onap.restart.tca"},
    {"policy-id":"OSDF_CASABLANCA.Affinity_Default"}
    ]
}
</msg>
<status status="PASS" starttime="20220902 13:53:02.182" endtime="20220902 13:53:02.182"/>
</kw>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:02.183" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:02.183" endtime="20220902 13:53:02.183"/>
</kw>
<msg timestamp="20220902 13:53:02.183" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:02.182" endtime="20220902 13:53:02.183"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps/policies</arg>
<arg>202</arg>
<arg>${postjson}</arg>
<arg>null</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:02.183" level="INFO">Creating session http://172.31.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:53:02.183" endtime="20220902 13:53:02.183"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:02.183" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050c08b0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:02.183" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050c18a0&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.183" endtime="20220902 13:53:02.183"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:02.184" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:02.183" endtime="20220902 13:53:02.184"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:02.660" level="INFO">POST Request : url=http://172.31.0.6:6969/policy/pap/v1/pdps/policies?null 
 path_url=/policy/pap/v1/pdps/policies?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '113', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body={"policies":[
    {"policy-id":"onap.restart.tca"},
    {"policy-id":"OSDF_CASABLANCA.Affinity_Default"}
    ]
}
 
 </msg>
<msg timestamp="20220902 13:53:02.660" level="INFO">POST Response : url=http://172.31.0.6:6969/policy/pap/v1/pdps/policies?null 
 status=202, reason= 
 headers={'Set-Cookie': 'JSESSIONID=E75BD27036F763CFD2A4ABDC5D2B96D7; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'dcb5ed89-7bc0-4608-b6e6-6f1db220a61a', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:53:02 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"message":"Use the policy status url to fetch the latest status. Kindly note that when a policy is successfully undeployed, it will no longer appear in policy status response.","uri":"/policy/pap/v1/policies/status"} 
 </msg>
<msg timestamp="20220902 13:53:02.661" level="INFO">${resp} = &lt;Response [202]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.184" endtime="20220902 13:53:02.661"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:02.663" level="INFO">Received response from policy {"message":"Use the policy status url to fetch the latest status. Kindly note that when a policy is successfully undeployed, it will no longer appear in policy status response.","uri":"/policy/pap/v1/policies/status"}</msg>
<status status="PASS" starttime="20220902 13:53:02.661" endtime="20220902 13:53:02.663"/>
</kw>
<status status="PASS" starttime="20220902 13:53:02.183" endtime="20220902 13:53:02.663"/>
</kw>
<kw name="Run Process" library="Process">
<var>${result}</var>
<arg>${SCR_DMAAP}/wait_topic.sh</arg>
<arg>POLICY-PDP-PAP</arg>
<arg>responseTo</arg>
<arg>xacml</arg>
<arg>ACTIVE</arg>
<arg>onap.restart.tca</arg>
<doc>Runs a process and waits for it to complete.</doc>
<msg timestamp="20220902 13:53:02.664" level="INFO">Starting process:
/Users/liam/git/onap/policy/docker/csit/wait_topic.sh POLICY-PDP-PAP responseTo xacml ACTIVE onap.restart.tca</msg>
<msg timestamp="20220902 13:53:02.668" level="INFO">Waiting for process to complete.</msg>
<msg timestamp="20220902 13:53:02.968" level="INFO">Process completed.</msg>
<msg timestamp="20220902 13:53:02.968" level="INFO">${result} = &lt;result object with rc 0&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.664" endtime="20220902 13:53:02.968"/>
</kw>
<kw name="Should Be Equal As Integers" library="BuiltIn">
<arg>${result.rc}</arg>
<arg>0</arg>
<doc>Fails if objects are unequal after converting them to integers.</doc>
<msg timestamp="20220902 13:53:02.969" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.968" endtime="20220902 13:53:02.969"/>
</kw>
<status status="PASS" starttime="20220902 13:53:02.182" endtime="20220902 13:53:02.969"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>1 min</arg>
<arg>15 sec</arg>
<arg>GetStatisticsAfterDeployed</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="GetStatisticsAfterDeployed">
<doc>Verify policy xacml-pdp statistics after policy is deployed</doc>
<kw name="PdpxGetReq">
<var>${resp}</var>
<arg>/policy/pdpx/v1/statistics</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:02.970" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:02.970" endtime="20220902 13:53:02.970"/>
</kw>
<msg timestamp="20220902 13:53:02.970" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:02.970" endtime="20220902 13:53:02.970"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>${url}</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:02.970" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:02.970" endtime="20220902 13:53:02.970"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:02.971" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050c2e30&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:02.971" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050c3970&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.971" endtime="20220902 13:53:02.971"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:02.971" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:02.971" endtime="20220902 13:53:02.971"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:02.980" level="INFO">GET Request : url=http://172.31.0.7:6969/policy/pdpx/v1/statistics?null 
 path_url=/policy/pdpx/v1/statistics?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:53:02.980" level="INFO">GET Response : url=http://172.31.0.7:6969/policy/pdpx/v1/statistics?null 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:02 GMT', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '8979b0dd-fc61-4e80-b7bc-97d9a19faae0', 'Content-Type': 'application/json', 'Content-Length': '358', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body={"code":200,"totalPolicyTypesCount":18,"totalPoliciesCount":3,"totalErrorCount":0,"permitDecisionsCount":0,"denyDecisionsCount":0,"deploySuccessCount":3,"deployFailureCount":0,"undeploySuccessCount":0,"undeployFailureCount":0,"indeterminantDecisionsCount":0,"notApplicableDecisionsCount":1,"applicationMetrics":{"guard":{"not_applicable_decisions_count":1}}} 
 </msg>
<msg timestamp="20220902 13:53:02.981" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.971" endtime="20220902 13:53:02.981"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:02.981" level="INFO">Received response from policy {"code":200,"totalPolicyTypesCount":18,"totalPoliciesCount":3,"totalErrorCount":0,"permitDecisionsCount":0,"denyDecisionsCount":0,"deploySuccessCount":3,"deployFailureCount":0,"undeploySuccessCount":0,"undeployFailureCount":0,"indeterminantDecisionsCount":0,"notApplicableDecisionsCount":1,"applicationMetrics":{"guard":{"not_applicable_decisions_count":1}}}</msg>
<status status="PASS" starttime="20220902 13:53:02.981" endtime="20220902 13:53:02.981"/>
</kw>
<msg timestamp="20220902 13:53:02.981" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.970" endtime="20220902 13:53:02.981"/>
</kw>
<msg timestamp="20220902 13:53:02.981" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.970" endtime="20220902 13:53:02.981"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['code']}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:53:02.981" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.981" endtime="20220902 13:53:02.982"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['totalPoliciesCount']}</arg>
<arg>3</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:53:02.982" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.982" endtime="20220902 13:53:02.982"/>
</kw>
<status status="PASS" starttime="20220902 13:53:02.969" endtime="20220902 13:53:02.982"/>
</kw>
<status status="PASS" starttime="20220902 13:53:02.969" endtime="20220902 13:53:02.982"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>1 min</arg>
<arg>15 sec</arg>
<arg>GetAbbreviatedDecisionResult</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="GetAbbreviatedDecisionResult">
<doc>Get Decision with abbreviated results from Policy Xacml PDP</doc>
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.monitoring.decision.request.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:53:02.982" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.monitoring.decision.request.json"&gt;/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.monitoring.decision.request.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:53:02.983" level="INFO">${postjson} = {
  "ONAPName": "DCAE",
  "ONAPComponent": "PolicyHandler",
  "ONAPInstance": "622431a4-9dea-4eae-b443-3b2164639c64",
  "action": "configure",
  "resource": {
      "policy-id": "onap.restart.tca"
  }...</msg>
<status status="PASS" starttime="20220902 13:53:02.982" endtime="20220902 13:53:02.983"/>
</kw>
<kw name="DecisionPostReq">
<var>${resp}</var>
<arg>${postjson}</arg>
<arg>abbrev=true</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:02.983" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:02.983" endtime="20220902 13:53:02.983"/>
</kw>
<msg timestamp="20220902 13:53:02.983" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:02.983" endtime="20220902 13:53:02.983"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>/policy/pdpx/v1/decision</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>${abbr}</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:02.984" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:02.983" endtime="20220902 13:53:02.984"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:02.984" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050f5fc0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:02.984" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050f61a0&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.984" endtime="20220902 13:53:02.984"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:02.984" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:02.984" endtime="20220902 13:53:02.984"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:03.036" level="INFO">POST Request : url=http://172.31.0.7:6969/policy/pdpx/v1/decision?abbrev=true 
 path_url=/policy/pdpx/v1/decision?abbrev=true 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '203', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body={
  "ONAPName": "DCAE",
  "ONAPComponent": "PolicyHandler",
  "ONAPInstance": "622431a4-9dea-4eae-b443-3b2164639c64",
  "action": "configure",
  "resource": {
      "policy-id": "onap.restart.tca"
  }
}
 
 </msg>
<msg timestamp="20220902 13:53:03.036" level="INFO">POST Response : url=http://172.31.0.7:6969/policy/pdpx/v1/decision?abbrev=true 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:02 GMT', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '6413e8af-436e-4446-995d-5abd197cdfa3', 'Content-Type': 'application/json', 'Content-Length': '146', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body={"policies":{"onap.restart.tca":{"type":"onap.policies.monitoring.tcagen2","metadata":{"policy-id":"onap.restart.tca","policy-version":"1.0.0"}}}} 
 </msg>
<msg timestamp="20220902 13:53:03.036" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.984" endtime="20220902 13:53:03.037"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.038" level="INFO">Received response from policy {"policies":{"onap.restart.tca":{"type":"onap.policies.monitoring.tcagen2","metadata":{"policy-id":"onap.restart.tca","policy-version":"1.0.0"}}}}</msg>
<status status="PASS" starttime="20220902 13:53:03.037" endtime="20220902 13:53:03.038"/>
</kw>
<msg timestamp="20220902 13:53:03.039" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.983" endtime="20220902 13:53:03.039"/>
</kw>
<msg timestamp="20220902 13:53:03.039" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:02.983" endtime="20220902 13:53:03.039"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${policy}</var>
<arg>${resp.json()['policies']}</arg>
<arg>onap.restart.tca</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20220902 13:53:03.040" level="INFO">${policy} = {'type': 'onap.policies.monitoring.tcagen2', 'metadata': {'policy-id': 'onap.restart.tca', 'policy-version': '1.0.0'}}</msg>
<status status="PASS" starttime="20220902 13:53:03.039" endtime="20220902 13:53:03.040"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>type</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.040" endtime="20220902 13:53:03.040"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>metadata</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.040" endtime="20220902 13:53:03.040"/>
</kw>
<kw name="Dictionary Should Not Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>type_version</arg>
<doc>Fails if ``key`` is found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.041" endtime="20220902 13:53:03.041"/>
</kw>
<kw name="Dictionary Should Not Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>properties</arg>
<doc>Fails if ``key`` is found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.041" endtime="20220902 13:53:03.041"/>
</kw>
<kw name="Dictionary Should Not Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>name</arg>
<doc>Fails if ``key`` is found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.041" endtime="20220902 13:53:03.041"/>
</kw>
<kw name="Dictionary Should Not Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>version</arg>
<doc>Fails if ``key`` is found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.041" endtime="20220902 13:53:03.041"/>
</kw>
<status status="PASS" starttime="20220902 13:53:02.982" endtime="20220902 13:53:03.041"/>
</kw>
<status status="PASS" starttime="20220902 13:53:02.982" endtime="20220902 13:53:03.041"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>1 min</arg>
<arg>15 sec</arg>
<arg>GetMonitoringDecision</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="GetMonitoringDecision">
<doc>Get Decision from Monitoring Policy Xacml PDP</doc>
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.monitoring.decision.request.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:53:03.042" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.monitoring.decision.request.json"&gt;/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.monitoring.decision.request.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:53:03.042" level="INFO">${postjson} = {
  "ONAPName": "DCAE",
  "ONAPComponent": "PolicyHandler",
  "ONAPInstance": "622431a4-9dea-4eae-b443-3b2164639c64",
  "action": "configure",
  "resource": {
      "policy-id": "onap.restart.tca"
  }...</msg>
<status status="PASS" starttime="20220902 13:53:03.042" endtime="20220902 13:53:03.042"/>
</kw>
<kw name="DecisionPostReq">
<var>${resp}</var>
<arg>${postjson}</arg>
<arg>null</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:03.042" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.042" endtime="20220902 13:53:03.042"/>
</kw>
<msg timestamp="20220902 13:53:03.042" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.042" endtime="20220902 13:53:03.042"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>/policy/pdpx/v1/decision</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>${abbr}</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.043" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:03.043" endtime="20220902 13:53:03.043"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:03.043" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050f51e0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:03.043" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050f62f0&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.043" endtime="20220902 13:53:03.043"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:03.043" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:03.043" endtime="20220902 13:53:03.043"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:03.054" level="INFO">POST Request : url=http://172.31.0.7:6969/policy/pdpx/v1/decision?null 
 path_url=/policy/pdpx/v1/decision?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '203', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body={
  "ONAPName": "DCAE",
  "ONAPComponent": "PolicyHandler",
  "ONAPInstance": "622431a4-9dea-4eae-b443-3b2164639c64",
  "action": "configure",
  "resource": {
      "policy-id": "onap.restart.tca"
  }
}
 
 </msg>
<msg timestamp="20220902 13:53:03.054" level="INFO">POST Response : url=http://172.31.0.7:6969/policy/pdpx/v1/decision?null 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:03 GMT', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '7ce18b5d-2f9f-49f1-9107-617166976fce', 'Content-Type': 'application/json', 'Content-Length': '1055', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body={"policies":{"onap.restart.tca":{"type":"onap.policies.monitoring.tcagen2","type_version":"1.0.0","properties":{"tca.policy":{"domain":"measurementsForVfScaling","metricsPerEventName":[{"eventName":"Measurement_vGMUX","controlLoopSchemaType":"VNF","policyScope":"DCAE","policyName":"DCAE.Config_tca-hi-lo","policyVersion":"v0.0.1","thresholds":[{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0,"direction":"EQUAL","severity":"MAJOR","closedLoopEventStatus":"ABATED"},{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0,"direction":"GREATER","severity":"CRITICAL","closedLoopEventStatus":"ONSET"}]}]}},"name":"onap.restart.tca","version":"1.0.0","metadata":{"policy-id":"onap.restart.tca","policy-version":"1.0.0"}}}} 
 </msg>
<msg timestamp="20220902 13:53:03.054" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.043" endtime="20220902 13:53:03.055"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.055" level="INFO">Received response from policy {"policies":{"onap.restart.tca":{"type":"onap.policies.monitoring.tcagen2","type_version":"1.0.0","properties":{"tca.policy":{"domain":"measurementsForVfScaling","metricsPerEventName":[{"eventName":"Measurement_vGMUX","controlLoopSchemaType":"VNF","policyScope":"DCAE","policyName":"DCAE.Config_tca-hi-lo","policyVersion":"v0.0.1","thresholds":[{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0,"direction":"EQUAL","severity":"MAJOR","closedLoopEventStatus":"ABATED"},{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0,"direction":"GREATER","severity":"CRITICAL","closedLoopEventStatus":"ONSET"}]}]}},"name":"onap.restart.tca","version":"1.0.0","metadata":{"policy-id":"onap.restart.tca","policy-version":"1.0.0"}}}}</msg>
<status status="PASS" starttime="20220902 13:53:03.055" endtime="20220902 13:53:03.055"/>
</kw>
<msg timestamp="20220902 13:53:03.055" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.043" endtime="20220902 13:53:03.055"/>
</kw>
<msg timestamp="20220902 13:53:03.055" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.042" endtime="20220902 13:53:03.055"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${policy}</var>
<arg>${resp.json()['policies']}</arg>
<arg>onap.restart.tca</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20220902 13:53:03.056" level="INFO">${policy} = {'type': 'onap.policies.monitoring.tcagen2', 'type_version': '1.0.0', 'properties': {'tca.policy': {'domain': 'measurementsForVfScaling', 'metricsPerEventName': [{'eventName': 'Measurement_vGMUX', 'co...</msg>
<status status="PASS" starttime="20220902 13:53:03.055" endtime="20220902 13:53:03.056"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>type</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.056" endtime="20220902 13:53:03.056"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>metadata</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.056" endtime="20220902 13:53:03.056"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>type_version</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.056" endtime="20220902 13:53:03.056"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>properties</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.056" endtime="20220902 13:53:03.056"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>name</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.056" endtime="20220902 13:53:03.056"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>version</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.056" endtime="20220902 13:53:03.056"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.042" endtime="20220902 13:53:03.056"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.041" endtime="20220902 13:53:03.056"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>1 min</arg>
<arg>15 sec</arg>
<arg>GetNamingDecision</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="GetNamingDecision">
<doc>Get Decision from Naming Policy Xacml PDP</doc>
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.naming.decision.request.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:53:03.057" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.naming.decision.request.json"&gt;/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.naming.decision.request.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:53:03.058" level="INFO">${postjson} = {
  "ONAPName": "SDNC",
  "ONAPComponent": "SDNC-component",
  "ONAPInstance": "SDNC-component-instance",
  "requestId": "unique-request-sdnc-1",
  "action": "naming",
  "resource": {
      "nfRole": ...</msg>
<status status="PASS" starttime="20220902 13:53:03.057" endtime="20220902 13:53:03.058"/>
</kw>
<kw name="DecisionPostReq">
<var>${resp}</var>
<arg>${postjson}</arg>
<arg>null</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:03.058" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.058" endtime="20220902 13:53:03.058"/>
</kw>
<msg timestamp="20220902 13:53:03.058" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.058" endtime="20220902 13:53:03.058"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>/policy/pdpx/v1/decision</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>${abbr}</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.059" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:03.059" endtime="20220902 13:53:03.059"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:03.059" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x105318160&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:03.059" level="INFO">${session} = &lt;requests.sessions.Session object at 0x105318340&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.059" endtime="20220902 13:53:03.059"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:03.060" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:03.059" endtime="20220902 13:53:03.060"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:03.076" level="INFO">POST Request : url=http://172.31.0.7:6969/policy/pdpx/v1/decision?null 
 path_url=/policy/pdpx/v1/decision?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '308', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body={
  "ONAPName": "SDNC",
  "ONAPComponent": "SDNC-component",
  "ONAPInstance": "SDNC-component-instance",
  "requestId": "unique-request-sdnc-1",
  "action": "naming",
  "resource": {
      "nfRole": [],
      "naming-type": [],
      "property-name": [],
      "policy-type": ["onap.policies.Naming"]
  }
}
 
 </msg>
<msg timestamp="20220902 13:53:03.076" level="INFO">POST Response : url=http://172.31.0.7:6969/policy/pdpx/v1/decision?null 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:03 GMT', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'e941b3cd-8461-4845-987a-e5f534886e16', 'Content-Type': 'application/json', 'Content-Length': '1598', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body={"policies":{"SDNC_Policy.ONAP_NF_NAMING_TIMESTAMP":{"type":"onap.policies.Naming","type_version":"1.0.0","properties":{"policy-instance-name":"ONAP_NF_NAMING_TIMESTAMP","naming-models":[{"naming-type":"VNF","naming-recipe":"AIC_CLOUD_REGION|DELIMITER|CONSTANT|DELIMITER|TIMESTAMP","name-operation":"to_lower_case()","naming-properties":[{"property-name":"AIC_CLOUD_REGION"},{"property-name":"CONSTANT","property-value":"onap-nf"},{"property-name":"TIMESTAMP"},{"property-value":"-","property-name":"DELIMITER"}]},{"naming-type":"VNFC","naming-recipe":"VNF_NAME|DELIMITER|NFC_NAMING_CODE|DELIMITER|SEQUENCE","name-operation":"to_lower_case()","naming-properties":[{"property-name":"VNF_NAME"},{"property-name":"SEQUENCE","increment-sequence":{"max":"zzz","scope":"ENTIRETY","start-value":"1","length":"3","increment":"1","sequence-type":"alpha-numeric"}},{"property-name":"NFC_NAMING_CODE"},{"property-value":"-","property-name":"DELIMITER"}]},{"naming-type":"VF-MODULE","naming-recipe":"VNF_NAME|DELIMITER|VF_MODULE_LABEL|DELIMITER|VF_MODULE_TYPE|DELIMITER|SEQUENCE","name-operation":"to_lower_case()","naming-properties":[{"property-name":"VNF_NAME"},{"property-value":"-","property-name":"DELIMITER"},{"property-name":"VF_MODULE_LABEL"},{"property-name":"VF_MODULE_TYPE"},{"property-name":"SEQUENCE","increment-sequence":{"max":"zzz","scope":"PRECEEDING","start-value":"1","length":"3","increment":"1","sequence-type":"alpha-numeric"}}]}]},"name":"SDNC_Policy.ONAP_NF_NAMING_TIMESTAMP","version":"1.0.0","metadata":{"policy-id":"SDNC_Policy.ONAP_NF_NAMING_TIMESTAMP","policy-version":"1.0.0"}}}} 
 </msg>
<msg timestamp="20220902 13:53:03.076" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.060" endtime="20220902 13:53:03.076"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.076" level="INFO">Received response from policy {"policies":{"SDNC_Policy.ONAP_NF_NAMING_TIMESTAMP":{"type":"onap.policies.Naming","type_version":"1.0.0","properties":{"policy-instance-name":"ONAP_NF_NAMING_TIMESTAMP","naming-models":[{"naming-type":"VNF","naming-recipe":"AIC_CLOUD_REGION|DELIMITER|CONSTANT|DELIMITER|TIMESTAMP","name-operation":"to_lower_case()","naming-properties":[{"property-name":"AIC_CLOUD_REGION"},{"property-name":"CONSTANT","property-value":"onap-nf"},{"property-name":"TIMESTAMP"},{"property-value":"-","property-name":"DELIMITER"}]},{"naming-type":"VNFC","naming-recipe":"VNF_NAME|DELIMITER|NFC_NAMING_CODE|DELIMITER|SEQUENCE","name-operation":"to_lower_case()","naming-properties":[{"property-name":"VNF_NAME"},{"property-name":"SEQUENCE","increment-sequence":{"max":"zzz","scope":"ENTIRETY","start-value":"1","length":"3","increment":"1","sequence-type":"alpha-numeric"}},{"property-name":"NFC_NAMING_CODE"},{"property-value":"-","property-name":"DELIMITER"}]},{"naming-type":"VF-MODULE","naming-recipe":"VNF_NAME|DELIMITER|VF_MODULE_LABEL|DELIMITER|VF_MODULE_TYPE|DELIMITER|SEQUENCE","name-operation":"to_lower_case()","naming-properties":[{"property-name":"VNF_NAME"},{"property-value":"-","property-name":"DELIMITER"},{"property-name":"VF_MODULE_LABEL"},{"property-name":"VF_MODULE_TYPE"},{"property-name":"SEQUENCE","increment-sequence":{"max":"zzz","scope":"PRECEEDING","start-value":"1","length":"3","increment":"1","sequence-type":"alpha-numeric"}}]}]},"name":"SDNC_Policy.ONAP_NF_NAMING_TIMESTAMP","version":"1.0.0","metadata":{"policy-id":"SDNC_Policy.ONAP_NF_NAMING_TIMESTAMP","policy-version":"1.0.0"}}}}</msg>
<status status="PASS" starttime="20220902 13:53:03.076" endtime="20220902 13:53:03.076"/>
</kw>
<msg timestamp="20220902 13:53:03.077" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.058" endtime="20220902 13:53:03.077"/>
</kw>
<msg timestamp="20220902 13:53:03.077" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.058" endtime="20220902 13:53:03.077"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${policy}</var>
<arg>${resp.json()['policies']}</arg>
<arg>SDNC_Policy.ONAP_NF_NAMING_TIMESTAMP</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20220902 13:53:03.077" level="INFO">${policy} = {'type': 'onap.policies.Naming', 'type_version': '1.0.0', 'properties': {'policy-instance-name': 'ONAP_NF_NAMING_TIMESTAMP', 'naming-models': [{'naming-type': 'VNF', 'naming-recipe': 'AIC_CLOUD_REGION...</msg>
<status status="PASS" starttime="20220902 13:53:03.077" endtime="20220902 13:53:03.077"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>type</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.077" endtime="20220902 13:53:03.077"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>type_version</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.077" endtime="20220902 13:53:03.077"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>properties</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.077" endtime="20220902 13:53:03.077"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>name</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.077" endtime="20220902 13:53:03.077"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.056" endtime="20220902 13:53:03.078"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.056" endtime="20220902 13:53:03.078"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>1 min</arg>
<arg>15 sec</arg>
<arg>GetOptimizationDecision</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="GetOptimizationDecision">
<doc>Get Decision from Optimization Policy Xacml PDP</doc>
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.optimization.decision.request.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:53:03.078" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.optimization.decision.request.json"&gt;/Users/liam/git/onap/policy/docker/csit/xacml-pdp/tests/data/onap.policy.optimization.decision.request.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:53:03.078" level="INFO">${postjson} = {
  "ONAPName": "OOF",
  "ONAPComponent": "OOF-component",
  "ONAPInstance": "OOF-component-instance",
  "context" : {
      "subscriberName": []
  },
  "action": "optimize",
  "resource": {
      "sc...</msg>
<status status="PASS" starttime="20220902 13:53:03.078" endtime="20220902 13:53:03.078"/>
</kw>
<kw name="DecisionPostReq">
<var>${resp}</var>
<arg>${postjson}</arg>
<arg>null</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:03.079" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.079" endtime="20220902 13:53:03.079"/>
</kw>
<msg timestamp="20220902 13:53:03.079" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.078" endtime="20220902 13:53:03.079"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>/policy/pdpx/v1/decision</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>${abbr}</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.079" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:03.079" endtime="20220902 13:53:03.079"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:03.079" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050c2410&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:03.079" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050c2f80&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.079" endtime="20220902 13:53:03.079"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:03.079" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:03.079" endtime="20220902 13:53:03.079"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:03.096" level="INFO">POST Request : url=http://172.31.0.7:6969/policy/pdpx/v1/decision?null 
 path_url=/policy/pdpx/v1/decision?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '283', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body={
  "ONAPName": "OOF",
  "ONAPComponent": "OOF-component",
  "ONAPInstance": "OOF-component-instance",
  "context" : {
      "subscriberName": []
  },
  "action": "optimize",
  "resource": {
      "scope": [],
      "services": [],
      "resources": [],
      "geography": []
  }
}
 
 </msg>
<msg timestamp="20220902 13:53:03.096" level="INFO">POST Response : url=http://172.31.0.7:6969/policy/pdpx/v1/decision?null 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:03 GMT', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '70e6a020-ef13-4e58-9da2-d75edd1c4e91', 'Content-Type': 'application/json', 'Content-Length': '467', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body={"policies":{"OSDF_CASABLANCA.Affinity_Default":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"geography":[],"identity":"affinity_vCPE","scope":[],"affinityProperties":{"qualifier":"same","category":"complex"},"resources":[],"services":[],"applicableResources":"any"},"name":"OSDF_CASABLANCA.Affinity_Default","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_Default","policy-version":"1.0.0"}}}} 
 </msg>
<msg timestamp="20220902 13:53:03.096" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.080" endtime="20220902 13:53:03.096"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.097" level="INFO">Received response from policy {"policies":{"OSDF_CASABLANCA.Affinity_Default":{"type":"onap.policies.optimization.resource.AffinityPolicy","type_version":"1.0.0","properties":{"geography":[],"identity":"affinity_vCPE","scope":[],"affinityProperties":{"qualifier":"same","category":"complex"},"resources":[],"services":[],"applicableResources":"any"},"name":"OSDF_CASABLANCA.Affinity_Default","version":"1.0.0","metadata":{"policy-id":"OSDF_CASABLANCA.Affinity_Default","policy-version":"1.0.0"}}}}</msg>
<status status="PASS" starttime="20220902 13:53:03.096" endtime="20220902 13:53:03.097"/>
</kw>
<msg timestamp="20220902 13:53:03.097" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.079" endtime="20220902 13:53:03.097"/>
</kw>
<msg timestamp="20220902 13:53:03.097" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.078" endtime="20220902 13:53:03.097"/>
</kw>
<kw name="Get From Dictionary" library="Collections">
<var>${policy}</var>
<arg>${resp.json()['policies']}</arg>
<arg>OSDF_CASABLANCA.Affinity_Default</arg>
<doc>Returns a value from the given ``dictionary`` based on the given ``key``.</doc>
<msg timestamp="20220902 13:53:03.097" level="INFO">${policy} = {'type': 'onap.policies.optimization.resource.AffinityPolicy', 'type_version': '1.0.0', 'properties': {'geography': [], 'identity': 'affinity_vCPE', 'scope': [], 'affinityProperties': {'qualifier': 's...</msg>
<status status="PASS" starttime="20220902 13:53:03.097" endtime="20220902 13:53:03.097"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>type</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.097" endtime="20220902 13:53:03.097"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>type_version</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.097" endtime="20220902 13:53:03.097"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>properties</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.097" endtime="20220902 13:53:03.097"/>
</kw>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${policy}</arg>
<arg>name</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:53:03.097" endtime="20220902 13:53:03.098"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.078" endtime="20220902 13:53:03.098"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.078" endtime="20220902 13:53:03.098"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>1 min</arg>
<arg>15 sec</arg>
<arg>GetStatisticsAfterDecision</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="GetStatisticsAfterDecision">
<doc>Runs Policy Xacml PDP Statistics after Decision request</doc>
<kw name="PdpxGetReq">
<var>${resp}</var>
<arg>/policy/pdpx/v1/statistics</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:03.098" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.098" endtime="20220902 13:53:03.098"/>
</kw>
<msg timestamp="20220902 13:53:03.098" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.098" endtime="20220902 13:53:03.098"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>${url}</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.099" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:03.099" endtime="20220902 13:53:03.099"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:03.099" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050c2440&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:03.099" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050c0850&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.099" endtime="20220902 13:53:03.099"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:03.099" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:03.099" endtime="20220902 13:53:03.099"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:03.106" level="INFO">GET Request : url=http://172.31.0.7:6969/policy/pdpx/v1/statistics?null 
 path_url=/policy/pdpx/v1/statistics?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:53:03.106" level="INFO">GET Response : url=http://172.31.0.7:6969/policy/pdpx/v1/statistics?null 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:03 GMT', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'e6465e8d-dd62-4428-84ed-b35bb97e3254', 'Content-Type': 'application/json', 'Content-Length': '482', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body={"code":200,"totalPolicyTypesCount":18,"totalPoliciesCount":3,"totalErrorCount":0,"permitDecisionsCount":4,"denyDecisionsCount":0,"deploySuccessCount":3,"deployFailureCount":0,"undeploySuccessCount":0,"undeployFailureCount":0,"indeterminantDecisionsCount":0,"notApplicableDecisionsCount":1,"applicationMetrics":{"optimization":{"permit_decisions_count":1},"guard":{"not_applicable_decisions_count":1},"naming":{"permit_decisions_count":1},"monitoring":{"permit_decisions_count":2}}} 
 </msg>
<msg timestamp="20220902 13:53:03.106" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.099" endtime="20220902 13:53:03.106"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.106" level="INFO">Received response from policy {"code":200,"totalPolicyTypesCount":18,"totalPoliciesCount":3,"totalErrorCount":0,"permitDecisionsCount":4,"denyDecisionsCount":0,"deploySuccessCount":3,"deployFailureCount":0,"undeploySuccessCount":0,"undeployFailureCount":0,"indeterminantDecisionsCount":0,"notApplicableDecisionsCount":1,"applicationMetrics":{"optimization":{"permit_decisions_count":1},"guard":{"not_applicable_decisions_count":1},"naming":{"permit_decisions_count":1},"monitoring":{"permit_decisions_count":2}}}</msg>
<status status="PASS" starttime="20220902 13:53:03.106" endtime="20220902 13:53:03.106"/>
</kw>
<msg timestamp="20220902 13:53:03.106" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.098" endtime="20220902 13:53:03.106"/>
</kw>
<msg timestamp="20220902 13:53:03.106" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.098" endtime="20220902 13:53:03.106"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['code']}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:53:03.107" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.106" endtime="20220902 13:53:03.107"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['permitDecisionsCount']}</arg>
<arg>4</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:53:03.107" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.107" endtime="20220902 13:53:03.107"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['notApplicableDecisionsCount']}</arg>
<arg>1</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:53:03.107" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.107" endtime="20220902 13:53:03.107"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.098" endtime="20220902 13:53:03.107"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.098" endtime="20220902 13:53:03.107"/>
</kw>
<kw name="UndeployMonitorPolicy">
<doc>Runs Policy PAP to undeploy a policy</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:03.108" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.108" endtime="20220902 13:53:03.108"/>
</kw>
<msg timestamp="20220902 13:53:03.108" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.108" endtime="20220902 13:53:03.108"/>
</kw>
<kw name="PerformDeleteRequest" library="common-library">
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps/policies/onap.restart.tca</arg>
<arg>202</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.108" level="INFO">Creating session http://172.31.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:53:03.108" endtime="20220902 13:53:03.108"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:03.108" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050f4bb0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:03.108" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050f5ae0&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.108" endtime="20220902 13:53:03.108"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:03.109" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:03.108" endtime="20220902 13:53:03.109"/>
</kw>
<kw name="DELETE On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a DELETE request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:03.348" level="INFO">DELETE Request : url=http://172.31.0.6:6969/policy/pap/v1/pdps/policies/onap.restart.tca 
 path_url=/policy/pap/v1/pdps/policies/onap.restart.tca 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '0', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:53:03.348" level="INFO">DELETE Response : url=http://172.31.0.6:6969/policy/pap/v1/pdps/policies/onap.restart.tca 
 status=202, reason= 
 headers={'Set-Cookie': 'JSESSIONID=076B2DBF73B7FA04BACBA2C627702FD9; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '1ec096a2-3dd8-4dcb-9079-931e034e7525', 'Content-Disposition': 'inline;filename=f.txt', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:53:02 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"message":"Use the policy status url to fetch the latest status. Kindly note that when a policy is successfully undeployed, it will no longer appear in policy status response.","uri":"/policy/pap/v1/policies/status"} 
 </msg>
<msg timestamp="20220902 13:53:03.349" level="INFO">${resp} = &lt;Response [202]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.109" endtime="20220902 13:53:03.349"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.350" level="INFO">Received response from policy {"message":"Use the policy status url to fetch the latest status. Kindly note that when a policy is successfully undeployed, it will no longer appear in policy status response.","uri":"/policy/pap/v1/policies/status"}</msg>
<status status="PASS" starttime="20220902 13:53:03.349" endtime="20220902 13:53:03.350"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.108" endtime="20220902 13:53:03.351"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.107" endtime="20220902 13:53:03.351"/>
</kw>
<kw name="Wait Until Keyword Succeeds" library="BuiltIn">
<arg>1 min</arg>
<arg>15 sec</arg>
<arg>GetStatisticsAfterUndeploy</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<kw name="GetStatisticsAfterUndeploy">
<doc>Runs Policy Xacml PDP Statistics after policy is undeployed</doc>
<kw name="PdpxGetReq">
<var>${resp}</var>
<arg>/policy/pdpx/v1/statistics</arg>
<kw name="HealthCheckAuth" library="common-library">
<var>${hcauth}</var>
<kw name="Create List" library="BuiltIn">
<var>${healthcheck}</var>
<arg>healthcheck</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:53:03.352" level="INFO">${healthcheck} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.352" endtime="20220902 13:53:03.352"/>
</kw>
<msg timestamp="20220902 13:53:03.352" level="INFO">${hcauth} = ['healthcheck', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:53:03.352" endtime="20220902 13:53:03.352"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PDPX_IP}</arg>
<arg>${url}</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${hcauth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.353" level="INFO">Creating session http://172.31.0.7:6969</msg>
<status status="PASS" starttime="20220902 13:53:03.352" endtime="20220902 13:53:03.353"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:53:03.353" level="INFO">Creating Session using : alias=policy, url=http://172.31.0.7:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1050f5630&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:53:03.353" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1050f4f10&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.353" endtime="20220902 13:53:03.353"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:53:03.353" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:53:03.353" endtime="20220902 13:53:03.353"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:53:03.360" level="INFO">GET Request : url=http://172.31.0.7:6969/policy/pdpx/v1/statistics?null 
 path_url=/policy/pdpx/v1/statistics?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic aGVhbHRoY2hlY2s6emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:53:03.360" level="INFO">GET Response : url=http://172.31.0.7:6969/policy/pdpx/v1/statistics?null 
 status=200, reason=OK 
 headers={'Date': 'Fri, 02 Sep 2022 12:53:03 GMT', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'f1255c02-671a-421d-b127-63f869158d3d', 'Content-Type': 'application/json', 'Content-Length': '482', 'Server': 'Jetty(9.4.48.v20220622)'} 
 body={"code":200,"totalPolicyTypesCount":18,"totalPoliciesCount":2,"totalErrorCount":0,"permitDecisionsCount":4,"denyDecisionsCount":0,"deploySuccessCount":3,"deployFailureCount":0,"undeploySuccessCount":1,"undeployFailureCount":0,"indeterminantDecisionsCount":0,"notApplicableDecisionsCount":1,"applicationMetrics":{"optimization":{"permit_decisions_count":1},"guard":{"not_applicable_decisions_count":1},"naming":{"permit_decisions_count":1},"monitoring":{"permit_decisions_count":2}}} 
 </msg>
<msg timestamp="20220902 13:53:03.360" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.353" endtime="20220902 13:53:03.360"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:53:03.360" level="INFO">Received response from policy {"code":200,"totalPolicyTypesCount":18,"totalPoliciesCount":2,"totalErrorCount":0,"permitDecisionsCount":4,"denyDecisionsCount":0,"deploySuccessCount":3,"deployFailureCount":0,"undeploySuccessCount":1,"undeployFailureCount":0,"indeterminantDecisionsCount":0,"notApplicableDecisionsCount":1,"applicationMetrics":{"optimization":{"permit_decisions_count":1},"guard":{"not_applicable_decisions_count":1},"naming":{"permit_decisions_count":1},"monitoring":{"permit_decisions_count":2}}}</msg>
<status status="PASS" starttime="20220902 13:53:03.360" endtime="20220902 13:53:03.360"/>
</kw>
<msg timestamp="20220902 13:53:03.360" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.352" endtime="20220902 13:53:03.360"/>
</kw>
<msg timestamp="20220902 13:53:03.360" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.351" endtime="20220902 13:53:03.360"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['code']}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:53:03.361" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.360" endtime="20220902 13:53:03.361"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['totalPoliciesCount']}</arg>
<arg>2</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:53:03.361" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:53:03.361" endtime="20220902 13:53:03.361"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.351" endtime="20220902 13:53:03.361"/>
</kw>
<status status="PASS" starttime="20220902 13:53:03.351" endtime="20220902 13:53:03.361"/>
</kw>
<status status="PASS" starttime="20220902 13:53:01.138" endtime="20220902 13:53:03.361"/>
</test>
<status status="PASS" starttime="20220902 13:53:00.954" endtime="20220902 13:53:03.362"/>
</suite>
<statistics>
<total>
<stat pass="5" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="5" fail="0" skip="0" id="s1" name="xacml-pdp">xacml-pdp</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
