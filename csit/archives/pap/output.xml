<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 5.1a2 (Python 3.10.6 on darwin)" generated="20220902 13:41:03.475" rpa="false" schemaversion="3">
<suite id="s1" name="pap" source="/Users/liam/git/onap/policy/docker/csit/pap/tests/pap-test.robot">
<test id="s1-t1" name="LoadPolicy" line="16">
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>${DATA}/vCPE.policy.monitoring.input.tosca.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:41:03.514" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/models/models-examples/src/main/resources/policies/vCPE.policy.monitoring.input.tosca.json"&gt;/Users/liam/git/onap/policy/docker/models/models-examples/src/main/resources/policies/vCPE.policy.monitoring.input.tosca.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:41:03.514" level="INFO">${postjson} = {
    "tosca_definitions_version": "tosca_simple_yaml_1_1_0",
    "topology_template": {
        "policies": [
            {
                "onap.restart.tca": {
                    "type": "onap.pol...</msg>
<status status="PASS" starttime="20220902 13:41:03.514" endtime="20220902 13:41:03.514"/>
</kw>
<kw name="CreatePolicy" library="common-library">
<arg>/policy/api/v1/policytypes/onap.policies.monitoring.tcagen2/versions/1.0.0/policies</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>onap.restart.tca</arg>
<arg>1.0.0</arg>
<doc>Create the specific policy</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:03.514" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:03.514" endtime="20220902 13:41:03.514"/>
</kw>
<msg timestamp="20220902 13:41:03.514" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:03.514" endtime="20220902 13:41:03.514"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_API_IP}</arg>
<arg>${url}</arg>
<arg>${expectedstatus}</arg>
<arg>${postjson}</arg>
<arg>null</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:03.515" level="INFO">Creating session http://172.27.0.5:6969</msg>
<status status="PASS" starttime="20220902 13:41:03.515" endtime="20220902 13:41:03.515"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:03.515" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.5:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102302350&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:03.515" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1023018a0&gt;</msg>
<status status="PASS" starttime="20220902 13:41:03.515" endtime="20220902 13:41:03.515"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:03.515" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:03.515" endtime="20220902 13:41:03.515"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:04.041" level="INFO">POST Request : url=http://172.27.0.5:6969/policy/api/v1/policytypes/onap.policies.monitoring.tcagen2/versions/1.0.0/policies?null 
 path_url=/policy/api/v1/policytypes/onap.policies.monitoring.tcagen2/versions/1.0.0/policies?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '2731', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body={
    "tosca_definitions_version": "tosca_simple_yaml_1_1_0",
    "topology_template": {
        "policies": [
            {
                "onap.restart.tca": {
                    "type": "onap.policies.monitoring.tcagen2",
                    "type_version": "1.0.0",
                    "version": "1.0.0",
                    "name": "onap.restart.tca",
                    "metadata": {
                        "policy-id": "onap.restart.tca",
                        "policy-version": 1
                    },
                    "properties": {
                        "tca.policy" : {
                            "domain": "measurementsForVfScaling",
                            "metricsPerEventName": [
                                {
                                    "eventName": "Measurement_vGMUX",
                                    "controlLoopSchemaType": "VNF",
                                    "policyScope": "DCAE",
                                    "policyName": "DCAE.Config_tca-hi-lo",
                                    "policyVersion": "v0.0.1",
                                    "thresholds": [
                                        {
                                            "closedLoopControlName": "ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e",
                                            "version": "1.0.2",
                                            "fieldPath": "$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value",
                                            "thresholdValue": 0,
                                            "direction": "EQUAL",
                                            "severity": "MAJOR",
                                            "closedLoopEventStatus": "ABATED"
                                        },
                                        {
                                            "closedLoopControlName": "ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e",
                                            "version": "1.0.2",
                                            "fieldPath": "$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value",
                                            "thresholdValue": 0,
                                            "direction": "GREATER",
                                            "severity": "CRITICAL",
                                            "closedLoopEventStatus": "ONSET"
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                }
            }
        ]
    }
} 
 </msg>
<msg timestamp="20220902 13:41:04.042" level="INFO">POST Response : url=http://172.27.0.5:6969/policy/api/v1/policytypes/onap.policies.monitoring.tcagen2/versions/1.0.0/policies?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=E9C0D813BAC453E836C7F8523FF621B5; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '5ca17025-b43e-4ce1-b00f-add95d83753c', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:04 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"tosca_definitions_version":"tosca_simple_yaml_1_1_0","topology_template":{"policies":[{"onap.restart.tca":{"type":"onap.policies.monitoring.tcagen2","type_version":"1.0.0","properties":{"tca.policy":{"domain":"measurementsForVfScaling","metricsPerEventName":[{"eventName":"Measurement_vGMUX","controlLoopSchemaType":"VNF","policyScope":"DCAE","policyName":"DCAE.Config_tca-hi-lo","policyVersion":"v0.0.1","thresholds":[{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0.0,"direction":"EQUAL","severity":"MAJOR","closedLoopEventStatus":"ABATED"},{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0.0,"direction":"GREATER","severity":"CRITICAL","closedLoopEventStatus":"ONSET"}]}]}},"name":"onap.restart.tca","version":"1.0.0","metadata":{"policy-id":"onap.restart.tca","policy-version":1.0}}}]},"name":"NULL","version":"0.0.0"} 
 </msg>
<msg timestamp="20220902 13:41:04.042" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:03.515" endtime="20220902 13:41:04.042"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:04.044" level="INFO">Received response from policy {"tosca_definitions_version":"tosca_simple_yaml_1_1_0","topology_template":{"policies":[{"onap.restart.tca":{"type":"onap.policies.monitoring.tcagen2","type_version":"1.0.0","properties":{"tca.policy":{"domain":"measurementsForVfScaling","metricsPerEventName":[{"eventName":"Measurement_vGMUX","controlLoopSchemaType":"VNF","policyScope":"DCAE","policyName":"DCAE.Config_tca-hi-lo","policyVersion":"v0.0.1","thresholds":[{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0.0,"direction":"EQUAL","severity":"MAJOR","closedLoopEventStatus":"ABATED"},{"closedLoopControlName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e","version":"1.0.2","fieldPath":"$.event.measurementsForVfScalingFields.additionalMeasurements[*].arrayOfFields[0].value","thresholdValue":0.0,"direction":"GREATER","severity":"CRITICAL","closedLoopEventStatus":"ONSET"}]}]}},"name":"onap.restart.tca","version":"1.0.0","metadata":{"policy-id":"onap.restart.tca","policy-version":1.0}}}]},"name":"NULL","version":"0.0.0"}</msg>
<status status="PASS" starttime="20220902 13:41:04.043" endtime="20220902 13:41:04.044"/>
</kw>
<msg timestamp="20220902 13:41:04.045" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:03.514" endtime="20220902 13:41:04.045"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${expectedstatus}==200</arg>
<arg>Dictionary Should Contain Key</arg>
<arg>${resp.json()['topology_template']['policies'][0]}</arg>
<arg>${policyname}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${resp.json()['topology_template']['policies'][0]}</arg>
<arg>${policyname}</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:41:04.045" endtime="20220902 13:41:04.046"/>
</kw>
<status status="PASS" starttime="20220902 13:41:04.045" endtime="20220902 13:41:04.046"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${expectedstatus}==200</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['topology_template']['policies'][0]['${policyname}']['version']}</arg>
<arg>${policyversion}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['topology_template']['policies'][0]['${policyname}']['version']}</arg>
<arg>${policyversion}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:04.046" endtime="20220902 13:41:04.047"/>
</kw>
<status status="PASS" starttime="20220902 13:41:04.046" endtime="20220902 13:41:04.047"/>
</kw>
<status status="PASS" starttime="20220902 13:41:03.514" endtime="20220902 13:41:04.047"/>
</kw>
<doc>Create a policy named 'onap.restart.tca' and version '1.0.0' using specific api</doc>
<status status="PASS" starttime="20220902 13:41:03.513" endtime="20220902 13:41:04.047"/>
</test>
<test id="s1-t2" name="LoadPolicyWithMetadataSet" line="21">
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>/Users/liam/git/onap/policy/docker/csit/pap/tests/data/apex.policy.decisionmaker.input.tosca.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:41:04.047" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/csit/pap/tests/data/apex.policy.decisionmaker.input.tosca.json"&gt;/Users/liam/git/onap/policy/docker/csit/pap/tests/data/apex.policy.decisionmaker.input.tosca.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:41:04.047" level="INFO">${postjson} = {
  "tosca_definitions_version": "tosca_simple_yaml_1_1_0",
  "topology_template": {
    "policies": [
      {
        "operational.apex.decisionMaker": {
          "type": "onap.policies.native.Apex"...</msg>
<status status="PASS" starttime="20220902 13:41:04.047" endtime="20220902 13:41:04.047"/>
</kw>
<kw name="CreatePolicy" library="common-library">
<arg>/policy/api/v1/policytypes/onap.policies.native.Apex/versions/1.0.0/policies</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>operational.apex.decisionMaker</arg>
<arg>1.0.0</arg>
<doc>Create the specific policy</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:04.048" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:04.048" endtime="20220902 13:41:04.048"/>
</kw>
<msg timestamp="20220902 13:41:04.048" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:04.048" endtime="20220902 13:41:04.048"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_API_IP}</arg>
<arg>${url}</arg>
<arg>${expectedstatus}</arg>
<arg>${postjson}</arg>
<arg>null</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:04.048" level="INFO">Creating session http://172.27.0.5:6969</msg>
<status status="PASS" starttime="20220902 13:41:04.048" endtime="20220902 13:41:04.048"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:04.048" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.5:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102322530&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:04.049" level="INFO">${session} = &lt;requests.sessions.Session object at 0x102322950&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.048" endtime="20220902 13:41:04.049"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:04.049" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:04.049" endtime="20220902 13:41:04.049"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:04.303" level="INFO">POST Request : url=http://172.27.0.5:6969/policy/api/v1/policytypes/onap.policies.native.Apex/versions/1.0.0/policies?null 
 path_url=/policy/api/v1/policytypes/onap.policies.native.Apex/versions/1.0.0/policies?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '7753', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body={
  "tosca_definitions_version": "tosca_simple_yaml_1_1_0",
  "topology_template": {
    "policies": [
      {
        "operational.apex.decisionMaker": {
          "type": "onap.policies.native.Apex",
          "type_version": "1.0.0",
          "name": "operational.apex.decisionMaker",
          "version": "1.0.0",
          "metadata": {
            "metadataSetName": "apexMetadata_decisionMaker",
            "metadataSetVersion": "1.0.0"
          },
          "properties": {
            "engineServiceParameters": {
              "name": "MyApexEngine",
              "version": "0.0.1",
              "id": 45,
              "instanceCount": 4,
              "deploymentPort": 12561,
              "engineParameters": {
                "executorParameters": {
                  "JAVASCRIPT": {
                    "parameterClassName": "org.onap.policy.apex.plugins.executor.javascript.JavascriptExecutorParameters"
                  }
                },
                "contextParameters": {
                  "parameterClassName": "org.onap.policy.apex.context.parameters.ContextParameters",
                  "schemaParameters": {
                    "Avro": {
                      "parameterClassName": "org.onap.policy.apex.plugins.context.schema.avro.AvroSchemaHelperParameters"
                    },
                    "Java": {
                      "parameterClassName": "org.onap.policy.apex.context.impl.schema.java.JavaSchemaHelperParameters",
                      "jsonAdapters": {
                        "Instant": {
                          "adaptedClass": "java.time.Instant",
                          "adaptorClass": "org.onap.policy.controlloop.util.Serialization$GsonInstantAdapter"
                        }
                      }
                    }
                  }
                },
                "taskParameters": [
                  {
                    "key": "ParameterKey1",
                    "value": "ParameterValue1"
                  },
                  {
                    "taskId": "AAILookupTask:0.0.1",
                    "key": "SomeKeyForThisTask",
                    "value": "Value"
                  }
                ]
              }
            },
            "eventInputParameters": {
              "GuardRequestorConsumer": {
                "carrierTechnologyParameters": {
                  "carrierTechnology": "RESTREQUESTOR",
                  "parameterClassName": "org.onap.policy.apex.plugins.event.carrier.restrequestor.RestRequestorCarrierTechnologyParameters",
                  "parameters": {
                    "url": "http://111.222.333.444:5555/pdp/api/getDecision",
                    "httpMethod": "POST",
                    "restRequestTimeout": 2000,
                    "httpHeader": "Authorization:aaaaaaaaa== ClientAuth:bbbbbbbbb="
                  }
                },
                "eventProtocolParameters": {
                  "eventProtocol": "JSON"
                },
                "eventName": "GuardResponseEvent",
                "eventNameFilter": "GuardResponseEvent",
                "requestorMode": true,
                "requestorPeer": "GuardRequestorProducer",
                "requestorTimeout": 500
              },
              "DCAEConsumer": {
                "carrierTechnologyParameters": {
                  "carrierTechnology": "RESTCLIENT",
                  "parameterClassName": "org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters",
                  "parameters": {
                    "url": "http://message-router:3904/events/unauthenticated.DCAE_CL_OUTPUT/APEX/1?timeout=60000"
                  }
                },
                "eventProtocolParameters": {
                  "eventProtocol": "JSON",
                  "parameters": {
                    "nameAlias": "closedLoopControlName",
                    "versionAlias": "version",
                    "sourceAlias": "from",
                    "pojoField": "VirtualControlLoopEvent"
                  }
                },
                "eventName": "ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e"
              },
              "APPCConsumer": {
                "carrierTechnologyParameters": {
                  "carrierTechnology": "RESTCLIENT",
                  "parameterClassName": "org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters",
                  "parameters": {
                    "url": "http://message-router:3904/events/APPC-LCM-WRITE/APEX/1?timeout=60000"
                  }
                },
                "eventProtocolParameters": {
                  "eventProtocol": "JSON",
                  "parameters": {
                    "versionAlias": "version",
                    "pojoField": "APPCLCMResponseEvent"
                  }
                },
                "eventName": "APPCRestartVNFResponseEvent",
                "eventNameFilter": "APPCRestartVNFResponseEvent"
              }
            },
            "eventOutputParameters": {
              "logProducer": {
                "carrierTechnologyParameters": {
                  "carrierTechnology": "FILE",
                  "parameters": {
                    "fileName": "/tmp/VCPEEventsOut.json"
                  }
                },
                "eventProtocolParameters": {
                  "eventProtocol": "JSON"
                }
              },
              "GuardRequestorProducer": {
                "carrierTechnologyParameters": {
                  "carrierTechnology": "RESTREQUESTOR",
                  "parameterClassName": "org.onap.policy.apex.plugins.event.carrier.restrequestor.RestRequestorCarrierTechnologyParameters"
                },
                "eventProtocolParameters": {
                  "eventProtocol": "JSON"
                },
                "eventNameFilter": "GuardRequestEvent",
                "requestorMode": true,
                "requestorPeer": "GuardRequestorConsumer",
                "requestorTimeout": 500
              },
              "APPCProducer": {
                "carrierTechnologyParameters": {
                  "carrierTechnology": "RESTCLIENT",
                  "parameterClassName": "org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters",
                  "parameters": {
                    "url": "http://message-router:3904/events/APPC-LCM-READ"
                  }
                },
                "eventProtocolParameters": {
                  "eventProtocol": "JSON",
                  "parameters": {
                    "versionAlias": "version",
                    "sourceAlias": "from",
                    "pojoField": "APPCLCMRequestEvent"
                  }
                },
                "eventNameFilter": "APPCRestartVNFRequestEvent"
              },
              "PolicyLogProducer": {
                "carrierTechnologyParameters": {
                  "carrierTechnology": "RESTCLIENT",
                  "parameterClassName": "org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters",
                  "parameters": {
                    "url": "http://message-router:3904/events/POLICY-CL-MGT"
                  }
                },
                "eventProtocolParameters": {
                  "eventProtocol": "JSON",
                  "parameters": {
                    "versionAlias": "version",
                    "sourceAlias": "from",
                    "pojoField": "VirtualControlLoopNotification"
                  }
                },
                "eventNameFilter": "ControlLoopLogEvent"
              }
            }
          }
        }
      }
    ]
  }
} 
 </msg>
<msg timestamp="20220902 13:41:04.304" level="INFO">POST Response : url=http://172.27.0.5:6969/policy/api/v1/policytypes/onap.policies.native.Apex/versions/1.0.0/policies?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=92A1D0D29A5C415432B78CDAC5C8969B; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'f0ad4ca2-0258-4460-a099-90c141c27bb9', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:04 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"tosca_definitions_version":"tosca_simple_yaml_1_1_0","topology_template":{"policies":[{"operational.apex.decisionMaker":{"type":"onap.policies.native.Apex","type_version":"1.0.0","properties":{"engineServiceParameters":{"name":"MyApexEngine","version":"0.0.1","id":45.0,"instanceCount":4.0,"deploymentPort":12561.0,"engineParameters":{"executorParameters":{"JAVASCRIPT":{"parameterClassName":"org.onap.policy.apex.plugins.executor.javascript.JavascriptExecutorParameters"}},"contextParameters":{"parameterClassName":"org.onap.policy.apex.context.parameters.ContextParameters","schemaParameters":{"Avro":{"parameterClassName":"org.onap.policy.apex.plugins.context.schema.avro.AvroSchemaHelperParameters"},"Java":{"parameterClassName":"org.onap.policy.apex.context.impl.schema.java.JavaSchemaHelperParameters","jsonAdapters":{"Instant":{"adaptedClass":"java.time.Instant","adaptorClass":"org.onap.policy.controlloop.util.Serialization$GsonInstantAdapter"}}}}},"taskParameters":[{"key":"ParameterKey1","value":"ParameterValue1"},{"taskId":"AAILookupTask:0.0.1","key":"SomeKeyForThisTask","value":"Value"}]}},"eventInputParameters":{"GuardRequestorConsumer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTREQUESTOR","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restrequestor.RestRequestorCarrierTechnologyParameters","parameters":{"url":"http://111.222.333.444:5555/pdp/api/getDecision","httpMethod":"POST","restRequestTimeout":2000.0,"httpHeader":"Authorization:aaaaaaaaa\u003d\u003d ClientAuth:bbbbbbbbb\u003d"}},"eventProtocolParameters":{"eventProtocol":"JSON"},"eventName":"GuardResponseEvent","eventNameFilter":"GuardResponseEvent","requestorMode":true,"requestorPeer":"GuardRequestorProducer","requestorTimeout":500.0},"DCAEConsumer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTCLIENT","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters","parameters":{"url":"http://message-router:3904/events/unauthenticated.DCAE_CL_OUTPUT/APEX/1?timeout\u003d60000"}},"eventProtocolParameters":{"eventProtocol":"JSON","parameters":{"nameAlias":"closedLoopControlName","versionAlias":"version","sourceAlias":"from","pojoField":"VirtualControlLoopEvent"}},"eventName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e"},"APPCConsumer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTCLIENT","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters","parameters":{"url":"http://message-router:3904/events/APPC-LCM-WRITE/APEX/1?timeout\u003d60000"}},"eventProtocolParameters":{"eventProtocol":"JSON","parameters":{"versionAlias":"version","pojoField":"APPCLCMResponseEvent"}},"eventName":"APPCRestartVNFResponseEvent","eventNameFilter":"APPCRestartVNFResponseEvent"}},"eventOutputParameters":{"logProducer":{"carrierTechnologyParameters":{"carrierTechnology":"FILE","parameters":{"fileName":"/tmp/VCPEEventsOut.json"}},"eventProtocolParameters":{"eventProtocol":"JSON"}},"GuardRequestorProducer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTREQUESTOR","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restrequestor.RestRequestorCarrierTechnologyParameters"},"eventProtocolParameters":{"eventProtocol":"JSON"},"eventNameFilter":"GuardRequestEvent","requestorMode":true,"requestorPeer":"GuardRequestorConsumer","requestorTimeout":500.0},"APPCProducer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTCLIENT","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters","parameters":{"url":"http://message-router:3904/events/APPC-LCM-READ"}},"eventProtocolParameters":{"eventProtocol":"JSON","parameters":{"versionAlias":"version","sourceAlias":"from","pojoField":"APPCLCMRequestEvent"}},"eventNameFilter":"APPCRestartVNFRequestEvent"},"PolicyLogProducer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTCLIENT","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters","parameters":{"url":"http://message-router:3904/events/POLICY-CL-MGT"}},"eventProtocolParameters":{"eventProtocol":"JSON","parameters":{"versionAlias":"version","sourceAlias":"from","pojoField":"VirtualControlLoopNotification"}},"eventNameFilter":"ControlLoopLogEvent"}}},"name":"operational.apex.decisionMaker","version":"1.0.0","metadata":{"metadataSetName":"apexMetadata_decisionMaker","metadataSetVersion":"1.0.0"}}}]},"name":"NULL","version":"0.0.0"} 
 </msg>
<msg timestamp="20220902 13:41:04.304" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.049" endtime="20220902 13:41:04.304"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:04.305" level="INFO">Received response from policy {"tosca_definitions_version":"tosca_simple_yaml_1_1_0","topology_template":{"policies":[{"operational.apex.decisionMaker":{"type":"onap.policies.native.Apex","type_version":"1.0.0","properties":{"engineServiceParameters":{"name":"MyApexEngine","version":"0.0.1","id":45.0,"instanceCount":4.0,"deploymentPort":12561.0,"engineParameters":{"executorParameters":{"JAVASCRIPT":{"parameterClassName":"org.onap.policy.apex.plugins.executor.javascript.JavascriptExecutorParameters"}},"contextParameters":{"parameterClassName":"org.onap.policy.apex.context.parameters.ContextParameters","schemaParameters":{"Avro":{"parameterClassName":"org.onap.policy.apex.plugins.context.schema.avro.AvroSchemaHelperParameters"},"Java":{"parameterClassName":"org.onap.policy.apex.context.impl.schema.java.JavaSchemaHelperParameters","jsonAdapters":{"Instant":{"adaptedClass":"java.time.Instant","adaptorClass":"org.onap.policy.controlloop.util.Serialization$GsonInstantAdapter"}}}}},"taskParameters":[{"key":"ParameterKey1","value":"ParameterValue1"},{"taskId":"AAILookupTask:0.0.1","key":"SomeKeyForThisTask","value":"Value"}]}},"eventInputParameters":{"GuardRequestorConsumer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTREQUESTOR","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restrequestor.RestRequestorCarrierTechnologyParameters","parameters":{"url":"http://111.222.333.444:5555/pdp/api/getDecision","httpMethod":"POST","restRequestTimeout":2000.0,"httpHeader":"Authorization:aaaaaaaaa\u003d\u003d ClientAuth:bbbbbbbbb\u003d"}},"eventProtocolParameters":{"eventProtocol":"JSON"},"eventName":"GuardResponseEvent","eventNameFilter":"GuardResponseEvent","requestorMode":true,"requestorPeer":"GuardRequestorProducer","requestorTimeout":500.0},"DCAEConsumer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTCLIENT","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters","parameters":{"url":"http://message-router:3904/events/unauthenticated.DCAE_CL_OUTPUT/APEX/1?timeout\u003d60000"}},"eventProtocolParameters":{"eventProtocol":"JSON","parameters":{"nameAlias":"closedLoopControlName","versionAlias":"version","sourceAlias":"from","pojoField":"VirtualControlLoopEvent"}},"eventName":"ControlLoop-vCPE-48f0c2c3-a172-4192-9ae3-052274181b6e"},"APPCConsumer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTCLIENT","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters","parameters":{"url":"http://message-router:3904/events/APPC-LCM-WRITE/APEX/1?timeout\u003d60000"}},"eventProtocolParameters":{"eventProtocol":"JSON","parameters":{"versionAlias":"version","pojoField":"APPCLCMResponseEvent"}},"eventName":"APPCRestartVNFResponseEvent","eventNameFilter":"APPCRestartVNFResponseEvent"}},"eventOutputParameters":{"logProducer":{"carrierTechnologyParameters":{"carrierTechnology":"FILE","parameters":{"fileName":"/tmp/VCPEEventsOut.json"}},"eventProtocolParameters":{"eventProtocol":"JSON"}},"GuardRequestorProducer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTREQUESTOR","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restrequestor.RestRequestorCarrierTechnologyParameters"},"eventProtocolParameters":{"eventProtocol":"JSON"},"eventNameFilter":"GuardRequestEvent","requestorMode":true,"requestorPeer":"GuardRequestorConsumer","requestorTimeout":500.0},"APPCProducer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTCLIENT","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters","parameters":{"url":"http://message-router:3904/events/APPC-LCM-READ"}},"eventProtocolParameters":{"eventProtocol":"JSON","parameters":{"versionAlias":"version","sourceAlias":"from","pojoField":"APPCLCMRequestEvent"}},"eventNameFilter":"APPCRestartVNFRequestEvent"},"PolicyLogProducer":{"carrierTechnologyParameters":{"carrierTechnology":"RESTCLIENT","parameterClassName":"org.onap.policy.apex.plugins.event.carrier.restclient.RestClientCarrierTechnologyParameters","parameters":{"url":"http://message-router:3904/events/POLICY-CL-MGT"}},"eventProtocolParameters":{"eventProtocol":"JSON","parameters":{"versionAlias":"version","sourceAlias":"from","pojoField":"VirtualControlLoopNotification"}},"eventNameFilter":"ControlLoopLogEvent"}}},"name":"operational.apex.decisionMaker","version":"1.0.0","metadata":{"metadataSetName":"apexMetadata_decisionMaker","metadataSetVersion":"1.0.0"}}}]},"name":"NULL","version":"0.0.0"}</msg>
<status status="PASS" starttime="20220902 13:41:04.304" endtime="20220902 13:41:04.306"/>
</kw>
<msg timestamp="20220902 13:41:04.306" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.048" endtime="20220902 13:41:04.306"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${expectedstatus}==200</arg>
<arg>Dictionary Should Contain Key</arg>
<arg>${resp.json()['topology_template']['policies'][0]}</arg>
<arg>${policyname}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Dictionary Should Contain Key" library="Collections">
<arg>${resp.json()['topology_template']['policies'][0]}</arg>
<arg>${policyname}</arg>
<doc>Fails if ``key`` is not found from ``dictionary``.</doc>
<status status="PASS" starttime="20220902 13:41:04.306" endtime="20220902 13:41:04.307"/>
</kw>
<status status="PASS" starttime="20220902 13:41:04.306" endtime="20220902 13:41:04.307"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${expectedstatus}==200</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['topology_template']['policies'][0]['${policyname}']['version']}</arg>
<arg>${policyversion}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['topology_template']['policies'][0]['${policyname}']['version']}</arg>
<arg>${policyversion}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:04.307" endtime="20220902 13:41:04.307"/>
</kw>
<status status="PASS" starttime="20220902 13:41:04.307" endtime="20220902 13:41:04.307"/>
</kw>
<status status="PASS" starttime="20220902 13:41:04.047" endtime="20220902 13:41:04.308"/>
</kw>
<doc>Create a policy named 'operational.apex.decisionMaker' and version '1.0.0' using specific api</doc>
<status status="PASS" starttime="20220902 13:41:04.047" endtime="20220902 13:41:04.308"/>
</test>
<test id="s1-t3" name="LoadNodeTemplates" line="26">
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>${NODETEMPLATES}/nodetemplates.metadatasets.input.tosca.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:41:04.308" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/models/models-examples/src/main/resources/nodetemplates/nodetemplates.metadatasets.input.tosca.json"&gt;/Users/liam/git/onap/policy/docker/models/models-examples/src/main/resources/nodetemplates/nodetemplates.metadatasets.input.tosca.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:41:04.308" level="INFO">${postjson} = {
  "tosca_definitions_version": "tosca_simple_yaml_1_1_0",
  "node_types": {
    "org.onap.nodetypes.policy.MetadataSet": {
      "derived_from": "tosca.nodetypes.Root",
      "version": "1.0.0"
    ...</msg>
<status status="PASS" starttime="20220902 13:41:04.308" endtime="20220902 13:41:04.308"/>
</kw>
<kw name="CreateNodeTemplate" library="common-library">
<arg>/policy/api/v1/nodetemplates</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>3</arg>
<doc>Create the node templates</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:04.309" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:04.309" endtime="20220902 13:41:04.309"/>
</kw>
<msg timestamp="20220902 13:41:04.309" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:04.309" endtime="20220902 13:41:04.309"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_API_IP}</arg>
<arg>${url}</arg>
<arg>${expectedstatus}</arg>
<arg>${postjson}</arg>
<arg>\</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:04.309" level="INFO">Creating session http://172.27.0.5:6969</msg>
<status status="PASS" starttime="20220902 13:41:04.309" endtime="20220902 13:41:04.309"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:04.309" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.5:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102323910&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:04.310" level="INFO">${session} = &lt;requests.sessions.Session object at 0x102323730&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.309" endtime="20220902 13:41:04.310"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:04.310" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:04.310" endtime="20220902 13:41:04.310"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:04.564" level="INFO">POST Request : url=http://172.27.0.5:6969/policy/api/v1/nodetemplates 
 path_url=/policy/api/v1/nodetemplates 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '77744', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body={
  "tosca_definitions_version": "tosca_simple_yaml_1_1_0",
  "node_types": {
    "org.onap.nodetypes.policy.MetadataSet": {
      "derived_from": "tosca.nodetypes.Root",
      "version": "1.0.0"
    }
  },

  "topology_template": {
    "node_templates": {
      "apexMetadata_grpc": {
        "version": "1.2.1",
        "type": "org.onap.nodetypes.policy.MetadataSet",
        "type_version": "1.0.0",
        "description": "Metadata set for GRPC",
        "metadata": {
          "policyModel": {
            "key": {
              "name": "GrpcPolicyModel",
              "version": "1.0.1"
            }
          },
          "threshold": 3.14,
          "state": "active"
        }
      },
      "apexMetadata_adaptive": {
        "version": "2.3.1",
        "type": "org.onap.nodetypes.policy.MetadataSet",
        "type_version": "1.0.0",
        "description": "Metadata set for an Adaptive Policy",
        "metadata": {
          "policyModel": {
            "key": {
              "name": "AdaptivePolicyModel",
              "version": "1.2.1"
            }
          },
          "radius": 1.23,
          "height": 2.13,
          "length": 45
        }
      },
      "apexMetadata_decisionMaker": {
        "version": "1.0.0",
        "type": "org.onap.nodetypes.policy.MetadataSet",
        "type_version": "1.0.0",
        "description": "Metadata set for an Adaptive Policy",
        "metadata": {
          "policyModel": {
            "key": {
              "name": "DecisionMakerPolicyModel",
              "version": "1.0.0"
            },
            "keyInformation": {
              "key": {
                "name": "DecisionMakerPolicyModel_KeyInfo",
                "version": "0.0.1"
              },
              "keyInfoMap": {
                "entry": [
                  {
                    "key": {
                      "name": "AnswerAlbum",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "AnswerAlbum",
                        "version": "0.0.1"
                      },
                      "UUID": "4ea21a2c-5dc7-337f-ba13-f427a4ae79a1",
                      "description": "Generated description for concept referred to by key \"AnswerAlbum:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "AnswerEvent",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "AnswerEvent",
                        "version": "0.0.1"
                      },
                      "UUID": "ce2233b8-bb89-3c5e-a18f-1d13089d2bb6",
                      "description": "Generated description for concept referred to by key \"AnswerEvent:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "AnswerInitPolicy",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "AnswerInitPolicy",
                        "version": "0.0.1"
                      },
                      "UUID": "c8254064-b171-3ccb-85c0-29b5719ee8fc",
                      "description": "Generated description for concept referred to by key \"AnswerInitPolicy:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "AnswerInitTask",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "AnswerInitTask",
                        "version": "0.0.1"
                      },
                      "UUID": "28fb33d2-a4e0-3046-8302-7baf9a2056d1",
                      "description": "Generated description for concept referred to by key \"AnswerInitTask:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "DecisionEvent",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "DecisionEvent",
                        "version": "0.0.1"
                      },
                      "UUID": "487acc75-b5a1-3285-90cf-98ecd6fb3500",
                      "description": "Generated description for concept referred to by key \"DecisionEvent:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "DecisionMakerPolicy",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "DecisionMakerPolicy",
                        "version": "0.0.1"
                      },
                      "UUID": "9e8dda9a-6f85-311d-842b-00b5b5578edd",
                      "description": "Generated description for concept referred to by key \"DecisionMakerPolicy:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "DecisionMakerPolicyModel",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "DecisionMakerPolicyModel",
                        "version": "0.0.1"
                      },
                      "UUID": "d7789464-e4d1-382e-8481-fba53fa7b9a9",
                      "description": "Generated description for concept referred to by key \"DecisionMakerPolicyModel:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "DecisionMakerPolicyModel_Albums",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "DecisionMakerPolicyModel_Albums",
                        "version": "0.0.1"
                      },
                      "UUID": "e5dfbadd-5229-3ad9-996c-eda030ef5dc1",
                      "description": "Generated description for concept referred to by key \"DecisionMakerPolicyModel_Albums:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "DecisionMakerPolicyModel_Events",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "DecisionMakerPolicyModel_Events",
                        "version": "0.0.1"
                      },
                      "UUID": "b4248202-ff8e-3d45-8b3d-0ed0fd2eaed4",
                      "description": "Generated description for concept referred to by key \"DecisionMakerPolicyModel_Events:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "DecisionMakerPolicyModel_KeyInfo",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "DecisionMakerPolicyModel_KeyInfo",
                        "version": "0.0.1"
                      },
                      "UUID": "693b1b29-c4c6-34ba-98e1-bc1a7576f0f8",
                      "description": "Generated description for concept referred to by key \"DecisionMakerPolicyModel_KeyInfo:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "DecisionMakerPolicyModel_Policies",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "DecisionMakerPolicyModel_Policies",
                        "version": "0.0.1"
                      },
                      "UUID": "2dee1e42-9caa-32b1-9298-784dcdcb9cae",
                      "description": "Generated description for concept referred to by key \"DecisionMakerPolicyModel_Policies:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "DecisionMakerPolicyModel_Schemas",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "DecisionMakerPolicyModel_Schemas",
                        "version": "0.0.1"
                      },
                      "UUID": "c256f102-2681-3f35-bbbd-1f4948587e15",
                      "description": "Generated description for concept referred to by key \"DecisionMakerPolicyModel_Schemas:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "DecisionMakerPolicyModel_Tasks",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "DecisionMakerPolicyModel_Tasks",
                        "version": "0.0.1"
                      },
                      "UUID": "660cbdba-687d-3a05-ba26-69daf93a8158",
                      "description": "Generated description for concept referred to by key \"DecisionMakerPolicyModel_Tasks:0.0.1\""
                    }
                  },
                  {
                    "key": {
                      "name": "DitheringAnswerTask",
                      "version": "0.0.1"
                    },
                    "value": {
                      "key": {
                        "name": "DitheringAnswerTask",
                        "version": "0.0.1"
                      },
                      "UUID": "da31cee8-2e84-39d2-9337-9ee3bf347c98",
                    ... (set the log level to DEBUG or TRACE to see the full content) 
 </msg>
<msg timestamp="20220902 13:41:04.565" level="INFO">POST Response : url=http://172.27.0.5:6969/policy/api/v1/nodetemplates 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=81AC4FF099A6E36B8AF04768ADFB96B1; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'acab17cc-a661-479d-805d-f39cda08e9ee', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:04 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"tosca_definitions_version":"tosca_simple_yaml_1_1_0","node_types":{"org.onap.nodetypes.policy.MetadataSet":{"name":"org.onap.nodetypes.policy.MetadataSet","version":"1.0.0","derived_from":"tosca.nodetypes.Root"}},"topology_template":{"node_templates":{"apexMetadata_grpc":{"type":"org.onap.nodetypes.policy.MetadataSet","type_version":"1.0.0","name":"apexMetadata_grpc","version":"1.2.1","metadata":{"policyModel":{"key":{"name":"GrpcPolicyModel","version":"1.0.1"}},"threshold":3.14,"state":"active"},"description":"Metadata set for GRPC"},"apexMetadata_adaptive":{"type":"org.onap.nodetypes.policy.MetadataSet","type_version":"1.0.0","name":"apexMetadata_adaptive","version":"2.3.1","metadata":{"policyModel":{"key":{"name":"AdaptivePolicyModel","version":"1.2.1"}},"radius":1.23,"height":2.13,"length":45.0},"description":"Metadata set for an Adaptive Policy"},"apexMetadata_decisionMaker":{"type":"org.onap.nodetypes.policy.MetadataSet","type_version":"1.0.0","name":"apexMetadata_decisionMaker","version":"1.0.0","metadata":{"policyModel":{"key":{"name":"DecisionMakerPolicyModel","version":"1.0.0"},"keyInformation":{"key":{"name":"DecisionMakerPolicyModel_KeyInfo","version":"0.0.1"},"keyInfoMap":{"entry":[{"key":{"name":"AnswerAlbum","version":"0.0.1"},"value":{"key":{"name":"AnswerAlbum","version":"0.0.1"},"UUID":"4ea21a2c-5dc7-337f-ba13-f427a4ae79a1","description":"Generated description for concept referred to by key \"AnswerAlbum:0.0.1\""}},{"key":{"name":"AnswerEvent","version":"0.0.1"},"value":{"key":{"name":"AnswerEvent","version":"0.0.1"},"UUID":"ce2233b8-bb89-3c5e-a18f-1d13089d2bb6","description":"Generated description for concept referred to by key \"AnswerEvent:0.0.1\""}},{"key":{"name":"AnswerInitPolicy","version":"0.0.1"},"value":{"key":{"name":"AnswerInitPolicy","version":"0.0.1"},"UUID":"c8254064-b171-3ccb-85c0-29b5719ee8fc","description":"Generated description for concept referred to by key \"AnswerInitPolicy:0.0.1\""}},{"key":{"name":"AnswerInitTask","version":"0.0.1"},"value":{"key":{"name":"AnswerInitTask","version":"0.0.1"},"UUID":"28fb33d2-a4e0-3046-8302-7baf9a2056d1","description":"Generated description for concept referred to by key \"AnswerInitTask:0.0.1\""}},{"key":{"name":"DecisionEvent","version":"0.0.1"},"value":{"key":{"name":"DecisionEvent","version":"0.0.1"},"UUID":"487acc75-b5a1-3285-90cf-98ecd6fb3500","description":"Generated description for concept referred to by key \"DecisionEvent:0.0.1\""}},{"key":{"name":"DecisionMakerPolicy","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicy","version":"0.0.1"},"UUID":"9e8dda9a-6f85-311d-842b-00b5b5578edd","description":"Generated description for concept referred to by key \"DecisionMakerPolicy:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel","version":"0.0.1"},"UUID":"d7789464-e4d1-382e-8481-fba53fa7b9a9","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_Albums","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_Albums","version":"0.0.1"},"UUID":"e5dfbadd-5229-3ad9-996c-eda030ef5dc1","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_Albums:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_Events","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_Events","version":"0.0.1"},"UUID":"b4248202-ff8e-3d45-8b3d-0ed0fd2eaed4","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_Events:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_KeyInfo","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_KeyInfo","version":"0.0.1"},"UUID":"693b1b29-c4c6-34ba-98e1-bc1a7576f0f8","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_KeyInfo:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_Policies","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_Policies","version":"0.0.1"},"UUID":"2dee1e42-9caa-32b1-9298-784dcdcb9cae","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_Policies:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_Schemas","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_Schemas","version":"0.0.1"},"UUID":"c256f102-2681-3f35-bbbd-1f4948587e15","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_Schemas:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_Tasks","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_Tasks","version":"0.0.1"},"UUID":"660cbdba-687d-3a05-ba26-69daf93a8158","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_Tasks:0.0.1\""}},{"key":{"name":"DitheringAnswerTask","version":"0.0.1"},"value":{"key":{"name":"DitheringAnswerTask","version":"0.0.1"},"UUID":"da31cee8-2e84-39d2-9337-9ee3bf347c98","description":"Generated description for concept referred to by key \"DitheringAnswerTask:0.0.1\""}},{"key":{"name":"LastAnswerAlbum","version":"0.0.1"},"value":{"key":{"name":"LastAnswerAlbum","version":"0.0.1"},"UUID":"21399145-3fbe-39a5-b863-8a59a8add4a8","description":"Generated description for concept referred to by key \"LastAnswerAlbum:0.0.1\""}},{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"value":{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"UUID":"02ec632a-aeae-31fe-8f6d-656e1875749f","description":"Generated description for concept referred to by key \"MakeDecisionEvent:0.0.1\""}},{"key":{"name":"OptimisticAnswerTask","version":"0.0.1"},"value":{"key":{"name":"OptimisticAnswerTask","version":"0.0.1"},"UUID":"818e6b9e-0109-31f5-a95c-17f6fb016027","description":"Generated description for concept referred to by key \"OptimisticAnswerTask:0.0.1\""}},{"key":{"name":"PessimisticAnswerTask","version":"0.0.1"},"value":{"key":{"name":"PessimisticAnswerTask","version":"0.0.1"},"UUID":"8f4a707e-0d8b-3e09-b921-332f6f81f302","description":"Generated description for concept referred to by key \"PessimisticAnswerTask:0.0.1\""}},{"key":{"name":"RandomAnswerTask","version":"0.0.1"},"value":{"key":{"name":"RandomAnswerTask","version":"0.0.1"},"UUID":"bfb0af88-b454-3b08-911f-7ff2475350bf","description":"Generated description for concept referred to by key \"RandomAnswerTask:0.0.1\""}},{"key":{"name":"RoundRobinAnswerTask","version":"0.0.1"},"value":{"key":{"name":"RoundRobinAnswerTask","version":"0.0.1"},"UUID":"eac6fb59-8aca-3011-b7ba-69875f1db4b6","description":"Generated description for concept referred to by key \"RoundRobinAnswerTask:0.0.1\""}},{"key":{"name":"SimpleIntegerType","version":"0.0.1"},"value":{"key":{"name":"SimpleIntegerType","version":"0.0.1"},"UUID":"ab00a5b8-7edd-340f-8140-4d14f571edfb","description":"Generated description for concept referred to by key \"SimpleIntegerType:0.0.1\""}},{"key":{"name":"SimpleStringType","version":"0.0.1"},"value":{"key":{"name":"SimpleStringType","version":"0.0.1"},"UUID":"8a4957cf-9493-3a76-8c22-a208e23259af","description":"Generated description for concept referred to by key \"SimpleStringType:0.0.1\""}}]}},"policies":{"key":{"name":"DecisionMakerPolicyModel_Policies","version":"0.0.1"},"policyMap":{"entry":[{"key":{"name":"AnswerInitPolicy","version":"0.0.1"},"value":{"policyKey":{"name":"AnswerInitPolicy","version":"0.0.1"},"template":"freestyle","state":{"entry":[{"key":"AnswerInitState","value":{"stateKey":{"parentKeyName":"AnswerInitPolicy","parentKeyVersion":"0.0.1","parentLocalName":"NULL","localName":"AnswerInitState"},"trigger":{"name":"AnswerEvent","version":"0.0.1"},"stateOutputs":{"entry":[{"key":"AnswerInitOutput","value":{"key":{"parentKeyName":"AnswerInitPolicy","parentKeyVersion":"0.0.1","parentLocalName":"AnswerInitState","localName":"AnswerInitOutput"},"outgoingEvent":{"name":"AnswerEvent","version":"0.0.1"},"outgoingEventReference":[{"name":"AnswerEvent","version":"0.0.1"}],"nextState":{"parentKeyName":"NULL","parentKeyVersion":"0.0.0","parentLocalName":"NULL","localName":"NULL"}}}]},"contextAlbumReference":[],"taskSelectionLogic":{"key":"NULL","logicFlavour":"UNDEFINED","logic":""},"stateFinalizerLogicMap":{"entry":[]},"defaultTask":{"name":"AnswerInitTask","version":"0.0.1"},"taskReferences":{"entry":[{"key":{"name":"AnswerInitTask","version":"0.0.1"},"value":{"key":{"parentKeyName":"AnswerInitPolicy","parentKeyVersion":"0.0.1","parentLocalName":"AnswerInitState","localName":"AnswerInitPolicy"},"outputType":"DIRECT","output":{"parentKeyName":"AnswerInitPolicy","parentKeyVersion":"0.0.1","parentLocalName":"AnswerInitState","localName":"AnswerInitOutput"}}}]}}}]},"firstState":"AnswerInitState"}},{"key":{"name":"DecisionMakerPolicy","version":"0.0.1"},"value":{"policyKey":{"name":"DecisionMakerPolicy","version":"0.0.1"},"template":"freestyle","state":{"entry":[{"key":"MakeDecisionState","value":{"stateKey":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"NULL","localName":"MakeDecisionState"},"trigger":{"name":"MakeDecisionEvent","version":"0.0.1"},"stateOutputs":{"entry":[{"key":"DecisionFinalOutput","value":{"key":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionFinalOutput"},"outgoingEvent":{"name":"DecisionEvent","version":"0.0.1"},"outgoingEventReference":[{"name":"DecisionEvent","version":"0.0.1"}],"nextState":{"parentKeyName":"NULL","parentKeyVersion":"0.0.0","parentLocalName":"NULL","localName":"NULL"}}}]},"contextAlbumReference":[],"taskSelectionLogic":{"key":"TaskSelectionLogic","logicFlavour":"JAVASCRIPT","logic":"/*\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_START\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0... (set the log level to DEBUG or TRACE to see the full content) 
 </msg>
<msg timestamp="20220902 13:41:04.565" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.310" endtime="20220902 13:41:04.565"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:04.567" level="INFO">Received response from policy {"tosca_definitions_version":"tosca_simple_yaml_1_1_0","node_types":{"org.onap.nodetypes.policy.MetadataSet":{"name":"org.onap.nodetypes.policy.MetadataSet","version":"1.0.0","derived_from":"tosca.nodetypes.Root"}},"topology_template":{"node_templates":{"apexMetadata_grpc":{"type":"org.onap.nodetypes.policy.MetadataSet","type_version":"1.0.0","name":"apexMetadata_grpc","version":"1.2.1","metadata":{"policyModel":{"key":{"name":"GrpcPolicyModel","version":"1.0.1"}},"threshold":3.14,"state":"active"},"description":"Metadata set for GRPC"},"apexMetadata_adaptive":{"type":"org.onap.nodetypes.policy.MetadataSet","type_version":"1.0.0","name":"apexMetadata_adaptive","version":"2.3.1","metadata":{"policyModel":{"key":{"name":"AdaptivePolicyModel","version":"1.2.1"}},"radius":1.23,"height":2.13,"length":45.0},"description":"Metadata set for an Adaptive Policy"},"apexMetadata_decisionMaker":{"type":"org.onap.nodetypes.policy.MetadataSet","type_version":"1.0.0","name":"apexMetadata_decisionMaker","version":"1.0.0","metadata":{"policyModel":{"key":{"name":"DecisionMakerPolicyModel","version":"1.0.0"},"keyInformation":{"key":{"name":"DecisionMakerPolicyModel_KeyInfo","version":"0.0.1"},"keyInfoMap":{"entry":[{"key":{"name":"AnswerAlbum","version":"0.0.1"},"value":{"key":{"name":"AnswerAlbum","version":"0.0.1"},"UUID":"4ea21a2c-5dc7-337f-ba13-f427a4ae79a1","description":"Generated description for concept referred to by key \"AnswerAlbum:0.0.1\""}},{"key":{"name":"AnswerEvent","version":"0.0.1"},"value":{"key":{"name":"AnswerEvent","version":"0.0.1"},"UUID":"ce2233b8-bb89-3c5e-a18f-1d13089d2bb6","description":"Generated description for concept referred to by key \"AnswerEvent:0.0.1\""}},{"key":{"name":"AnswerInitPolicy","version":"0.0.1"},"value":{"key":{"name":"AnswerInitPolicy","version":"0.0.1"},"UUID":"c8254064-b171-3ccb-85c0-29b5719ee8fc","description":"Generated description for concept referred to by key \"AnswerInitPolicy:0.0.1\""}},{"key":{"name":"AnswerInitTask","version":"0.0.1"},"value":{"key":{"name":"AnswerInitTask","version":"0.0.1"},"UUID":"28fb33d2-a4e0-3046-8302-7baf9a2056d1","description":"Generated description for concept referred to by key \"AnswerInitTask:0.0.1\""}},{"key":{"name":"DecisionEvent","version":"0.0.1"},"value":{"key":{"name":"DecisionEvent","version":"0.0.1"},"UUID":"487acc75-b5a1-3285-90cf-98ecd6fb3500","description":"Generated description for concept referred to by key \"DecisionEvent:0.0.1\""}},{"key":{"name":"DecisionMakerPolicy","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicy","version":"0.0.1"},"UUID":"9e8dda9a-6f85-311d-842b-00b5b5578edd","description":"Generated description for concept referred to by key \"DecisionMakerPolicy:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel","version":"0.0.1"},"UUID":"d7789464-e4d1-382e-8481-fba53fa7b9a9","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_Albums","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_Albums","version":"0.0.1"},"UUID":"e5dfbadd-5229-3ad9-996c-eda030ef5dc1","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_Albums:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_Events","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_Events","version":"0.0.1"},"UUID":"b4248202-ff8e-3d45-8b3d-0ed0fd2eaed4","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_Events:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_KeyInfo","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_KeyInfo","version":"0.0.1"},"UUID":"693b1b29-c4c6-34ba-98e1-bc1a7576f0f8","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_KeyInfo:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_Policies","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_Policies","version":"0.0.1"},"UUID":"2dee1e42-9caa-32b1-9298-784dcdcb9cae","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_Policies:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_Schemas","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_Schemas","version":"0.0.1"},"UUID":"c256f102-2681-3f35-bbbd-1f4948587e15","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_Schemas:0.0.1\""}},{"key":{"name":"DecisionMakerPolicyModel_Tasks","version":"0.0.1"},"value":{"key":{"name":"DecisionMakerPolicyModel_Tasks","version":"0.0.1"},"UUID":"660cbdba-687d-3a05-ba26-69daf93a8158","description":"Generated description for concept referred to by key \"DecisionMakerPolicyModel_Tasks:0.0.1\""}},{"key":{"name":"DitheringAnswerTask","version":"0.0.1"},"value":{"key":{"name":"DitheringAnswerTask","version":"0.0.1"},"UUID":"da31cee8-2e84-39d2-9337-9ee3bf347c98","description":"Generated description for concept referred to by key \"DitheringAnswerTask:0.0.1\""}},{"key":{"name":"LastAnswerAlbum","version":"0.0.1"},"value":{"key":{"name":"LastAnswerAlbum","version":"0.0.1"},"UUID":"21399145-3fbe-39a5-b863-8a59a8add4a8","description":"Generated description for concept referred to by key \"LastAnswerAlbum:0.0.1\""}},{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"value":{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"UUID":"02ec632a-aeae-31fe-8f6d-656e1875749f","description":"Generated description for concept referred to by key \"MakeDecisionEvent:0.0.1\""}},{"key":{"name":"OptimisticAnswerTask","version":"0.0.1"},"value":{"key":{"name":"OptimisticAnswerTask","version":"0.0.1"},"UUID":"818e6b9e-0109-31f5-a95c-17f6fb016027","description":"Generated description for concept referred to by key \"OptimisticAnswerTask:0.0.1\""}},{"key":{"name":"PessimisticAnswerTask","version":"0.0.1"},"value":{"key":{"name":"PessimisticAnswerTask","version":"0.0.1"},"UUID":"8f4a707e-0d8b-3e09-b921-332f6f81f302","description":"Generated description for concept referred to by key \"PessimisticAnswerTask:0.0.1\""}},{"key":{"name":"RandomAnswerTask","version":"0.0.1"},"value":{"key":{"name":"RandomAnswerTask","version":"0.0.1"},"UUID":"bfb0af88-b454-3b08-911f-7ff2475350bf","description":"Generated description for concept referred to by key \"RandomAnswerTask:0.0.1\""}},{"key":{"name":"RoundRobinAnswerTask","version":"0.0.1"},"value":{"key":{"name":"RoundRobinAnswerTask","version":"0.0.1"},"UUID":"eac6fb59-8aca-3011-b7ba-69875f1db4b6","description":"Generated description for concept referred to by key \"RoundRobinAnswerTask:0.0.1\""}},{"key":{"name":"SimpleIntegerType","version":"0.0.1"},"value":{"key":{"name":"SimpleIntegerType","version":"0.0.1"},"UUID":"ab00a5b8-7edd-340f-8140-4d14f571edfb","description":"Generated description for concept referred to by key \"SimpleIntegerType:0.0.1\""}},{"key":{"name":"SimpleStringType","version":"0.0.1"},"value":{"key":{"name":"SimpleStringType","version":"0.0.1"},"UUID":"8a4957cf-9493-3a76-8c22-a208e23259af","description":"Generated description for concept referred to by key \"SimpleStringType:0.0.1\""}}]}},"policies":{"key":{"name":"DecisionMakerPolicyModel_Policies","version":"0.0.1"},"policyMap":{"entry":[{"key":{"name":"AnswerInitPolicy","version":"0.0.1"},"value":{"policyKey":{"name":"AnswerInitPolicy","version":"0.0.1"},"template":"freestyle","state":{"entry":[{"key":"AnswerInitState","value":{"stateKey":{"parentKeyName":"AnswerInitPolicy","parentKeyVersion":"0.0.1","parentLocalName":"NULL","localName":"AnswerInitState"},"trigger":{"name":"AnswerEvent","version":"0.0.1"},"stateOutputs":{"entry":[{"key":"AnswerInitOutput","value":{"key":{"parentKeyName":"AnswerInitPolicy","parentKeyVersion":"0.0.1","parentLocalName":"AnswerInitState","localName":"AnswerInitOutput"},"outgoingEvent":{"name":"AnswerEvent","version":"0.0.1"},"outgoingEventReference":[{"name":"AnswerEvent","version":"0.0.1"}],"nextState":{"parentKeyName":"NULL","parentKeyVersion":"0.0.0","parentLocalName":"NULL","localName":"NULL"}}}]},"contextAlbumReference":[],"taskSelectionLogic":{"key":"NULL","logicFlavour":"UNDEFINED","logic":""},"stateFinalizerLogicMap":{"entry":[]},"defaultTask":{"name":"AnswerInitTask","version":"0.0.1"},"taskReferences":{"entry":[{"key":{"name":"AnswerInitTask","version":"0.0.1"},"value":{"key":{"parentKeyName":"AnswerInitPolicy","parentKeyVersion":"0.0.1","parentLocalName":"AnswerInitState","localName":"AnswerInitPolicy"},"outputType":"DIRECT","output":{"parentKeyName":"AnswerInitPolicy","parentKeyVersion":"0.0.1","parentLocalName":"AnswerInitState","localName":"AnswerInitOutput"}}}]}}}]},"firstState":"AnswerInitState"}},{"key":{"name":"DecisionMakerPolicy","version":"0.0.1"},"value":{"policyKey":{"name":"DecisionMakerPolicy","version":"0.0.1"},"template":"freestyle","state":{"entry":[{"key":"MakeDecisionState","value":{"stateKey":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"NULL","localName":"MakeDecisionState"},"trigger":{"name":"MakeDecisionEvent","version":"0.0.1"},"stateOutputs":{"entry":[{"key":"DecisionFinalOutput","value":{"key":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionFinalOutput"},"outgoingEvent":{"name":"DecisionEvent","version":"0.0.1"},"outgoingEventReference":[{"name":"DecisionEvent","version":"0.0.1"}],"nextState":{"parentKeyName":"NULL","parentKeyVersion":"0.0.0","parentLocalName":"NULL","localName":"NULL"}}}]},"contextAlbumReference":[],"taskSelectionLogic":{"key":"TaskSelectionLogic","logicFlavour":"JAVASCRIPT","logic":"/*\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_START\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n *  Copyright (C) 2016-2018 Ericsson. All rights reserved.\n *  Modifications Copyright (C) 2020 Nordix Foundation.\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_END\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n */\n\nexecutor.logger.info(executor.subject.id);\nexecutor.logger.info(executor.inFields);\n\nif (executor.inFields.get(\"mode\").equals(\"random\")) {\n    executor.subject.getTaskKey(\"RandomAnswerTask\").copyTo(executor.selectedTask);\n}\nelse if (executor.inFields.get(\"mode\").equals(\"pessimistic\")) {\n    executor.subject.getTaskKey(\"PessimisticAnswerTask\").copyTo(executor.selectedTask);\n}\nelse if (executor.inFields.get(\"mode\").equals(\"optimistic\")) {\n    executor.subject.getTaskKey(\"OptimisticAnswerTask\").copyTo(executor.selectedTask);\n}\nelse if (executor.inFields.get(\"mode\").equals(\"dithering\")) {\n    executor.subject.getTaskKey(\"DitheringAnswerTask\").copyTo(executor.selectedTask);\n}\nelse if (executor.inFields.get(\"mode\").equals(\"roundrobin\")) {\n    executor.subject.getTaskKey(\"RoundRobinAnswerTask\").copyTo(executor.selectedTask);\n}\n\nexecutor.logger.info(\"Answer Selected Task:\" + executor.selectedTask);\n\ntrue;"},"stateFinalizerLogicMap":{"entry":[]},"defaultTask":{"name":"RandomAnswerTask","version":"0.0.1"},"taskReferences":{"entry":[{"key":{"name":"DitheringAnswerTask","version":"0.0.1"},"value":{"key":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionMakerPolicy"},"outputType":"DIRECT","output":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionFinalOutput"}}},{"key":{"name":"OptimisticAnswerTask","version":"0.0.1"},"value":{"key":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionMakerPolicy"},"outputType":"DIRECT","output":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionFinalOutput"}}},{"key":{"name":"PessimisticAnswerTask","version":"0.0.1"},"value":{"key":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionMakerPolicy"},"outputType":"DIRECT","output":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionFinalOutput"}}},{"key":{"name":"RandomAnswerTask","version":"0.0.1"},"value":{"key":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionMakerPolicy"},"outputType":"DIRECT","output":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionFinalOutput"}}},{"key":{"name":"RoundRobinAnswerTask","version":"0.0.1"},"value":{"key":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionMakerPolicy"},"outputType":"DIRECT","output":{"parentKeyName":"DecisionMakerPolicy","parentKeyVersion":"0.0.1","parentLocalName":"MakeDecisionState","localName":"DecisionFinalOutput"}}}]}}}]},"firstState":"MakeDecisionState"}}]}},"tasks":{"key":{"name":"DecisionMakerPolicyModel_Tasks","version":"0.0.1"},"taskMap":{"entry":[{"key":{"name":"AnswerInitTask","version":"0.0.1"},"value":{"key":{"name":"AnswerInitTask","version":"0.0.1"},"inputEvent":{"key":{"name":"AnswerEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"a0","value":{"key":"a0","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a1","value":{"key":"a1","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a2","value":{"key":"a2","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a3","value":{"key":"a3","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a4","value":{"key":"a4","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a5","value":{"key":"a5","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a6","value":{"key":"a6","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""},"outputEvents":{"entry":[{"key":"AnswerEvent","value":{"key":{"name":"AnswerEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"a0","value":{"key":"a0","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a1","value":{"key":"a1","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a2","value":{"key":"a2","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a3","value":{"key":"a3","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a4","value":{"key":"a4","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a5","value":{"key":"a5","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a6","value":{"key":"a6","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""}}]},"taskParameters":{"entry":[]},"contextAlbumReference":[{"name":"AnswerAlbum","version":"0.0.1"},{"name":"LastAnswerAlbum","version":"0.0.1"}],"taskLogic":{"key":"TaskLogic","logicFlavour":"JAVASCRIPT","logic":"/*\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_START\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n *  Copyright (C) 2016-2018 Ericsson. All rights reserved.\n *  Modifications Copyright (C) 2020 Nordix Foundation.\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_END\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n */\n\nexecutor.logger.info(executor.subject.id);\nexecutor.logger.info(executor.inFields);\n\nvar answerAlbum \u003d executor.getContextAlbum(\"AnswerAlbum\");\n\nanswerAlbum.put(\"a0\", executor.inFields.get(\"a0\"));\nanswerAlbum.put(\"a1\", executor.inFields.get(\"a1\"));\nanswerAlbum.put(\"a2\", executor.inFields.get(\"a2\"));\nanswerAlbum.put(\"a3\", executor.inFields.get(\"a3\"));\nanswerAlbum.put(\"a4\", executor.inFields.get(\"a4\"));\nanswerAlbum.put(\"a5\", executor.inFields.get(\"a5\"));\nanswerAlbum.put(\"a6\", executor.inFields.get(\"a6\"));\n\nvar lastAnswerAlbum \u003d executor.getContextAlbum(\"LastAnswerAlbum\");\nlastAnswerAlbum.put(\"lastAnswer\", answerAlbum.size() - 1);\n\nexecutor.outFields.put(\"a0\", answerAlbum.get(\"a0\"));\nexecutor.outFields.put(\"a1\", answerAlbum.get(\"a1\"));\nexecutor.outFields.put(\"a2\", answerAlbum.get(\"a2\"));\nexecutor.outFields.put(\"a3\", answerAlbum.get(\"a3\"));\nexecutor.outFields.put(\"a4\", answerAlbum.get(\"a4\"));\nexecutor.outFields.put(\"a5\", answerAlbum.get(\"a5\"));\nexecutor.outFields.put(\"a6\", answerAlbum.get(\"a6\"));\n\nexecutor.logger.info(executor.outFields);\n\ntrue;"}}},{"key":{"name":"DitheringAnswerTask","version":"0.0.1"},"value":{"key":{"name":"DitheringAnswerTask","version":"0.0.1"},"inputEvent":{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"mode","value":{"key":"mode","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""},"outputEvents":{"entry":[{"key":"DecisionEvent","value":{"key":{"name":"DecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"decision","value":{"key":"decision","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""}}]},"taskParameters":{"entry":[]},"contextAlbumReference":[{"name":"AnswerAlbum","version":"0.0.1"}],"taskLogic":{"key":"TaskLogic","logicFlavour":"JAVASCRIPT","logic":"/*\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_START\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n *  Copyright (C) 2016-2018 Ericsson. All rights reserved.\n *  Modifications Copyright (C) 2020 Nordix Foundation.\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_END\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n */\n\nexecutor.logger.info(executor.subject.id);\nexecutor.logger.info(executor.inFields);\n\nvar size \u003d executor.getContextAlbum(\"AnswerAlbum\").size();\n\nvar selection \u003d 2 + Math.floor(Math.random() * 3);\n\nvar selectionA \u003d \"a\" + selection;\n\nexecutor.logger.info(size);\nexecutor.logger.info(selectionA);\n\nexecutor.outFields.put(\"decision\", executor.getContextAlbum(\"AnswerAlbum\").get(selectionA));\n\nexecutor.logger.info(executor.outFields);\n\ntrue;"}}},{"key":{"name":"OptimisticAnswerTask","version":"0.0.1"},"value":{"key":{"name":"OptimisticAnswerTask","version":"0.0.1"},"inputEvent":{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"mode","value":{"key":"mode","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""},"outputEvents":{"entry":[{"key":"DecisionEvent","value":{"key":{"name":"DecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"decision","value":{"key":"decision","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""}}]},"taskParameters":{"entry":[]},"contextAlbumReference":[{"name":"AnswerAlbum","version":"0.0.1"}],"taskLogic":{"key":"TaskLogic","logicFlavour":"JAVASCRIPT","logic":"/*\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_START\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n *  Copyright (C) 2016-2018 Ericsson. All rights reserved.\n *  Modifications Copyright (C) 2020 Nordix Foundation.\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_END\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n */\n\nexecutor.logger.info(executor.subject.id);\nexecutor.logger.info(executor.inFields);\n\nvar size \u003d executor.getContextAlbum(\"AnswerAlbum\").size();\n\nvar selection \u003d size - Math.floor(Math.random() * size / 2) - 1;\n\nvar selectionA \u003d \"a\" + selection;\n\nexecutor.logger.info(size);\nexecutor.logger.info(selectionA);\n\nexecutor.outFields.put(\"decision\", executor.getContextAlbum(\"AnswerAlbum\").get(selectionA));\n\nexecutor.logger.info(executor.outFields);\n\ntrue;"}}},{"key":{"name":"PessimisticAnswerTask","version":"0.0.1"},"value":{"key":{"name":"PessimisticAnswerTask","version":"0.0.1"},"inputEvent":{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"mode","value":{"key":"mode","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""},"outputEvents":{"entry":[{"key":"DecisionEvent","value":{"key":{"name":"DecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"decision","value":{"key":"decision","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""}}]},"taskParameters":{"entry":[]},"contextAlbumReference":[{"name":"AnswerAlbum","version":"0.0.1"}],"taskLogic":{"key":"TaskLogic","logicFlavour":"JAVASCRIPT","logic":"/*\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_START\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n *  Copyright (C) 2016-2018 Ericsson. All rights reserved.\n *  Modifications Copyright (C) 2020 Nordix Foundation.\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_END\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n */\n\nexecutor.logger.info(executor.subject.id);\nexecutor.logger.info(executor.inFields);\n\nvar size \u003d executor.getContextAlbum(\"AnswerAlbum\").size();\n\nvar selection \u003d Math.floor(Math.random() * size / 2);\n\nvar selectionA \u003d \"a\" + selection;\n\nexecutor.logger.info(size);\nexecutor.logger.info(selectionA);\n\nexecutor.outFields.put(\"decision\", executor.getContextAlbum(\"AnswerAlbum\").get(selectionA));\n\nexecutor.logger.info(executor.outFields);\n\ntrue;"}}},{"key":{"name":"RandomAnswerTask","version":"0.0.1"},"value":{"key":{"name":"RandomAnswerTask","version":"0.0.1"},"inputEvent":{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"mode","value":{"key":"mode","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""},"outputEvents":{"entry":[{"key":"DecisionEvent","value":{"key":{"name":"DecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"decision","value":{"key":"decision","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""}}]},"taskParameters":{"entry":[]},"contextAlbumReference":[{"name":"AnswerAlbum","version":"0.0.1"}],"taskLogic":{"key":"TaskLogic","logicFlavour":"JAVASCRIPT","logic":"/*\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_START\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n *  Copyright (C) 2016-2018 Ericsson. All rights reserved.\n *  Modifications Copyright (C) 2020 Nordix Foundation.\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_END\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n */\n\nexecutor.logger.info(executor.subject.id);\nexecutor.logger.info(executor.inFields);\n\nvar size \u003d executor.getContextAlbum(\"AnswerAlbum\").size();\n\nvar selection \u003d Math.floor(Math.random() * size);\n\nvar selectionA \u003d \"a\" + selection;\n\nexecutor.logger.info(size);\nexecutor.logger.info(selectionA);\n\nexecutor.outFields.put(\"decision\", executor.getContextAlbum(\"AnswerAlbum\").get(selectionA));\n\nexecutor.logger.info(executor.outFields);\n\ntrue;"}}},{"key":{"name":"RoundRobinAnswerTask","version":"0.0.1"},"value":{"key":{"name":"RoundRobinAnswerTask","version":"0.0.1"},"inputEvent":{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"mode","value":{"key":"mode","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""},"outputEvents":{"entry":[{"key":"DecisionEvent","value":{"key":{"name":"DecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"decision","value":{"key":"decision","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""}}]},"taskParameters":{"entry":[]},"contextAlbumReference":[{"name":"AnswerAlbum","version":"0.0.1"},{"name":"LastAnswerAlbum","version":"0.0.1"}],"taskLogic":{"key":"TaskLogic","logicFlavour":"JAVASCRIPT","logic":"/*\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_START\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n *  Copyright (C) 2016-2018 Ericsson. All rights reserved.\n *  Modifications Copyright (C) 2020 Nordix Foundation.\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * SPDX-License-Identifier: Apache-2.0\n * \u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003dLICENSE_END\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n */\n\nexecutor.logger.info(executor.subject.id);\nexecutor.logger.info(executor.inFields);\n\nvar size \u003d executor.getContextAlbum(\"AnswerAlbum\").size();\nvar lastAnswer \u003d executor.getContextAlbum(\"LastAnswerAlbum\").get(\"lastAnswer\");\n\nexecutor.logger.info(size);\nexecutor.logger.info(lastAnswer);\n\nvar answer \u003d ++lastAnswer;\nif (answer \u003e\u003d size) {\n    answer \u003d 0;\n}\n\nexecutor.getContextAlbum(\"LastAnswerAlbum\").put(\"lastAnswer\", answer)\n\nvar selectionA \u003d \"a\" + answer;\n\nexecutor.logger.info(selectionA);\n\nexecutor.outFields.put(\"decision\", executor.getContextAlbum(\"AnswerAlbum\").get(selectionA));\n\nexecutor.logger.info(executor.outFields);\n\ntrue;"}}}]}},"events":{"key":{"name":"DecisionMakerPolicyModel_Events","version":"0.0.1"},"eventMap":{"entry":[{"key":{"name":"AnswerEvent","version":"0.0.1"},"value":{"key":{"name":"AnswerEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"a0","value":{"key":"a0","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a1","value":{"key":"a1","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a2","value":{"key":"a2","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a3","value":{"key":"a3","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a4","value":{"key":"a4","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a5","value":{"key":"a5","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}},{"key":"a6","value":{"key":"a6","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""}},{"key":{"name":"DecisionEvent","version":"0.0.1"},"value":{"key":{"name":"DecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"decision","value":{"key":"decision","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""}},{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"value":{"key":{"name":"MakeDecisionEvent","version":"0.0.1"},"nameSpace":"org.onap.policy.apex.domains.decisionmaker","source":"DCAE","target":"apex","parameter":{"entry":[{"key":"mode","value":{"key":"mode","fieldSchemaKey":{"name":"SimpleStringType","version":"0.0.1"},"optional":false}}]},"toscaPolicyState":""}}]}},"albums":{"key":{"name":"DecisionMakerPolicyModel_Albums","version":"0.0.1"},"albums":{"entry":[{"key":{"name":"AnswerAlbum","version":"0.0.1"},"value":{"key":{"name":"AnswerAlbum","version":"0.0.1"},"scope":"policy","isWritable":true,"itemSchema":{"name":"SimpleStringType","version":"0.0.1"}}},{"key":{"name":"LastAnswerAlbum","version":"0.0.1"},"value":{"key":{"name":"LastAnswerAlbum","version":"0.0.1"},"scope":"policy","isWritable":true,"itemSchema":{"name":"SimpleIntegerType","version":"0.0.1"}}}]}},"schemas":{"key":{"name":"DecisionMakerPolicyModel_Schemas","version":"0.0.1"},"schemas":{"entry":[{"key":{"name":"SimpleIntegerType","version":"0.0.1"},"value":{"key":{"name":"SimpleIntegerType","version":"0.0.1"},"schemaFlavour":"Java","schemaDefinition":"java.lang.Integer"}},{"key":{"name":"SimpleStringType","version":"0.0.1"},"value":{"key":{"name":"SimpleStringType","version":"0.0.1"},"schemaFlavour":"Java","schemaDefinition":"java.lang.String"}}]}}}},"description":"Metadata set for an Adaptive Policy"}}},"name":"NULL","version":"0.0.0"}</msg>
<status status="PASS" starttime="20220902 13:41:04.565" endtime="20220902 13:41:04.567"/>
</kw>
<msg timestamp="20220902 13:41:04.567" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.309" endtime="20220902 13:41:04.567"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${expectedstatus}==200</arg>
<arg>Length Should Be</arg>
<arg>${resp.json()['topology_template']['node_templates']}</arg>
<arg>${nodeTemplateListLength}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['topology_template']['node_templates']}</arg>
<arg>${nodeTemplateListLength}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:04.569" level="INFO">Length is 3</msg>
<status status="PASS" starttime="20220902 13:41:04.568" endtime="20220902 13:41:04.569"/>
</kw>
<status status="PASS" starttime="20220902 13:41:04.568" endtime="20220902 13:41:04.569"/>
</kw>
<status status="PASS" starttime="20220902 13:41:04.308" endtime="20220902 13:41:04.569"/>
</kw>
<doc>Create node templates in database using specific api</doc>
<status status="PASS" starttime="20220902 13:41:04.308" endtime="20220902 13:41:04.569"/>
</test>
<test id="s1-t4" name="Healthcheck" line="31">
<kw name="GetReq">
<var>${resp}</var>
<arg>/policy/pap/v1/healthcheck</arg>
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:04.570" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:04.570" endtime="20220902 13:41:04.570"/>
</kw>
<msg timestamp="20220902 13:41:04.570" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:04.570" endtime="20220902 13:41:04.570"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>${url}</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:04.570" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:04.570" endtime="20220902 13:41:04.570"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:04.571" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102398a90&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:04.571" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1023988b0&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.570" endtime="20220902 13:41:04.571"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:04.571" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:04.571" endtime="20220902 13:41:04.571"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:04.835" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/healthcheck?null 
 path_url=/policy/pap/v1/healthcheck?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:04.835" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/healthcheck?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=E02A0A059070C697D894399D1578DA24; Path=/; HttpOnly', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:04 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"name":"Policy PAP","url":"policy-pap","healthy":true,"code":200,"message":"alive"} 
 </msg>
<msg timestamp="20220902 13:41:04.835" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.571" endtime="20220902 13:41:04.835"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:04.836" level="INFO">Received response from policy {"name":"Policy PAP","url":"policy-pap","healthy":true,"code":200,"message":"alive"}</msg>
<status status="PASS" starttime="20220902 13:41:04.835" endtime="20220902 13:41:04.836"/>
</kw>
<msg timestamp="20220902 13:41:04.836" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.570" endtime="20220902 13:41:04.836"/>
</kw>
<msg timestamp="20220902 13:41:04.837" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.570" endtime="20220902 13:41:04.837"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['code']}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:41:04.838" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.837" endtime="20220902 13:41:04.838"/>
</kw>
<doc>Verify policy pap health check</doc>
<status status="PASS" starttime="20220902 13:41:04.570" endtime="20220902 13:41:04.838"/>
</test>
<test id="s1-t5" name="Consolidated Healthcheck" line="36">
<kw name="GetReq">
<var>${resp}</var>
<arg>/policy/pap/v1/components/healthcheck</arg>
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:04.839" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:04.839" endtime="20220902 13:41:04.839"/>
</kw>
<msg timestamp="20220902 13:41:04.840" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:04.839" endtime="20220902 13:41:04.840"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>${url}</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:04.840" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:04.840" endtime="20220902 13:41:04.840"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:04.840" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x10239a5f0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:04.841" level="INFO">${session} = &lt;requests.sessions.Session object at 0x10239a920&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.840" endtime="20220902 13:41:04.841"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:04.841" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:04.841" endtime="20220902 13:41:04.841"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:05.304" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/components/healthcheck?null 
 path_url=/policy/pap/v1/components/healthcheck?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:05.304" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/components/healthcheck?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=38C4A089A6C722D2572D2E28B56CDE52; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'd84da48e-43f4-430e-ba05-e9857f16c978', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:04 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"pdps":{"apex":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]},"healthy":true,"api":{"name":"Policy API","url":"http://policy-api:6969/policy/api/v1/healthcheck","healthy":true,"code":200,"message":"alive"},"pap":{"name":"Policy PAP","url":"http://policy-pap:6969/policy/pap/v1/healthcheck","healthy":true,"code":200,"message":"alive"}} 
 </msg>
<msg timestamp="20220902 13:41:05.305" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.841" endtime="20220902 13:41:05.305"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:05.306" level="INFO">Received response from policy {"pdps":{"apex":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]},"healthy":true,"api":{"name":"Policy API","url":"http://policy-api:6969/policy/api/v1/healthcheck","healthy":true,"code":200,"message":"alive"},"pap":{"name":"Policy PAP","url":"http://policy-pap:6969/policy/pap/v1/healthcheck","healthy":true,"code":200,"message":"alive"}}</msg>
<status status="PASS" starttime="20220902 13:41:05.305" endtime="20220902 13:41:05.306"/>
</kw>
<msg timestamp="20220902 13:41:05.307" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.840" endtime="20220902 13:41:05.307"/>
</kw>
<msg timestamp="20220902 13:41:05.307" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:04.839" endtime="20220902 13:41:05.307"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['healthy']}</arg>
<arg>True</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:41:05.308" level="INFO">Argument types are:
&lt;class 'bool'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.307" endtime="20220902 13:41:05.308"/>
</kw>
<doc>Verify policy consolidated health check</doc>
<status status="PASS" starttime="20220902 13:41:04.838" endtime="20220902 13:41:05.308"/>
</test>
<test id="s1-t6" name="Metrics" line="41">
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:05.308" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:05.308" endtime="20220902 13:41:05.308"/>
</kw>
<msg timestamp="20220902 13:41:05.308" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:05.308" endtime="20220902 13:41:05.308"/>
</kw>
<kw name="GetMetrics" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:05.309" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:05.309" endtime="20220902 13:41:05.309"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:05.309" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x10239a8c0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:05.309" level="INFO">${session} = &lt;requests.sessions.Session object at 0x10239abc0&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.309" endtime="20220902 13:41:05.309"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>/metrics</arg>
<arg>expected_status=200</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:05.408" level="INFO">GET Request : url=http://172.27.0.6:6969/metrics 
 path_url=/metrics 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:05.409" level="INFO">GET Response : url=http://172.27.0.6:6969/metrics 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=86BA3814742DB17FF3E5519501DF9D57; Path=/; HttpOnly', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'text/plain;version=0.0.4;charset=utf-8', 'Content-Length': '17631', 'Date': 'Fri, 02 Sep 2022 12:41:04 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body=# HELP jvm_gc_memory_allocated_bytes_total Incremented for an increase in the size of the (young) heap memory pool after one GC to before the next
# TYPE jvm_gc_memory_allocated_bytes_total counter
jvm_gc_memory_allocated_bytes_total 1.286602752E9
# HELP spring_data_repository_invocations_seconds_max  
# TYPE spring_data_repository_invocations_seconds_max gauge
spring_data_repository_invocations_seconds_max{exception="None",method="getById",repository="PdpStatisticsRepository",state="SUCCESS",} 5.06792E-4
spring_data_repository_invocations_seconds_max{exception="None",method="save",repository="PdpGroupRepository",state="SUCCESS",} 0.036749042
spring_data_repository_invocations_seconds_max{exception="None",method="saveAll",repository="PolicyStatusRepository",state="SUCCESS",} 1.1083E-5
spring_data_repository_invocations_seconds_max{exception="None",method="saveAndFlush",repository="PdpStatisticsRepository",state="SUCCESS",} 0.034349875
spring_data_repository_invocations_seconds_max{exception="None",method="findByKeyName",repository="PdpGroupRepository",state="SUCCESS",} 0.119658333
spring_data_repository_invocations_seconds_max{exception="None",method="save",repository="PdpSubGroupRepository",state="SUCCESS",} 0.005934708
spring_data_repository_invocations_seconds_max{exception="None",method="findByPdpGroup",repository="PolicyStatusRepository",state="SUCCESS",} 0.002136125
spring_data_repository_invocations_seconds_max{exception="None",method="save",repository="PdpRepository",state="SUCCESS",} 0.0032345
spring_data_repository_invocations_seconds_max{exception="None",method="findAll",repository="PdpGroupRepository",state="SUCCESS",} 0.013293708
spring_data_repository_invocations_seconds_max{exception="None",method="findAll",repository="PolicyStatusRepository",state="SUCCESS",} 0.001747083
spring_data_repository_invocations_seconds_max{exception="None",method="deleteAll",repository="PolicyStatusRepository",state="SUCCESS",} 2.1291E-5
# HELP spring_data_repository_invocations_seconds  
# TYPE spring_data_repository_invocations_seconds summary
spring_data_repository_invocations_seconds_count{exception="None",method="getById",repository="PdpStatisticsRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="getById",repository="PdpStatisticsRepository",state="SUCCESS",} 5.06792E-4
spring_data_repository_invocations_seconds_count{exception="None",method="save",repository="PdpGroupRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="save",repository="PdpGroupRepository",state="SUCCESS",} 0.036749042
spring_data_repository_invocations_seconds_count{exception="None",method="saveAll",repository="PolicyStatusRepository",state="SUCCESS",} 8.0
spring_data_repository_invocations_seconds_sum{exception="None",method="saveAll",repository="PolicyStatusRepository",state="SUCCESS",} 4.6583E-5
spring_data_repository_invocations_seconds_count{exception="None",method="saveAndFlush",repository="PdpStatisticsRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="saveAndFlush",repository="PdpStatisticsRepository",state="SUCCESS",} 0.034349875
spring_data_repository_invocations_seconds_count{exception="None",method="findByKeyName",repository="PdpGroupRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="findByKeyName",repository="PdpGroupRepository",state="SUCCESS",} 0.119658333
spring_data_repository_invocations_seconds_count{exception="None",method="save",repository="PdpSubGroupRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="save",repository="PdpSubGroupRepository",state="SUCCESS",} 0.005934708
spring_data_repository_invocations_seconds_count{exception="None",method="findByPdpGroup",repository="PolicyStatusRepository",state="SUCCESS",} 4.0
spring_data_repository_invocations_seconds_sum{exception="None",method="findByPdpGroup",repository="PolicyStatusRepository",state="SUCCESS",} 0.005542292
spring_data_repository_invocations_seconds_count{exception="None",method="save",repository="PdpRepository",state="SUCCESS",} 2.0
spring_data_repository_invocations_seconds_sum{exception="None",method="save",repository="PdpRepository",state="SUCCESS",} 0.00407625
spring_data_repository_invocations_seconds_count{exception="None",method="findAll",repository="PdpGroupRepository",state="SUCCESS",} 4.0
spring_data_repository_invocations_seconds_sum{exception="None",method="findAll",repository="PdpGroupRepository",state="SUCCESS",} 0.022160916
spring_data_repository_invocations_seconds_count{exception="None",method="findAll",repository="PolicyStatusRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="findAll",repository="PolicyStatusRepository",state="SUCCESS",} 0.001747083
spring_data_repository_invocations_seconds_count{exception="None",method="deleteAll",repository="PolicyStatusRepository",state="SUCCESS",} 4.0
spring_data_repository_invocations_seconds_sum{exception="None",method="deleteAll",repository="PolicyStatusRepository",state="SUCCESS",} 3.0583E-5
# HELP hikaricp_connections_max Max connections
# TYPE hikaricp_connections_max gauge
hikaricp_connections_max{pool="HikariPool-1",} 10.0
# HELP hikaricp_connections_creation_seconds_max Connection creation time
# TYPE hikaricp_connections_creation_seconds_max gauge
hikaricp_connections_creation_seconds_max{pool="HikariPool-1",} 0.0
# HELP hikaricp_connections_creation_seconds Connection creation time
# TYPE hikaricp_connections_creation_seconds summary
hikaricp_connections_creation_seconds_count{pool="HikariPool-1",} 0.0
hikaricp_connections_creation_seconds_sum{pool="HikariPool-1",} 0.0
# HELP jdbc_connections_min Minimum number of idle connections in the pool.
# TYPE jdbc_connections_min gauge
jdbc_connections_min{name="dataSource",} 10.0
# HELP jvm_buffer_memory_used_bytes An estimate of the memory that the Java virtual machine is using for this buffer pool
# TYPE jvm_buffer_memory_used_bytes gauge
jvm_buffer_memory_used_bytes{id="mapped",} 0.0
jvm_buffer_memory_used_bytes{id="direct",} 40960.0
# HELP jvm_memory_committed_bytes The amount of memory in bytes that is committed for the Java virtual machine to use
# TYPE jvm_memory_committed_bytes gauge
jvm_memory_committed_bytes{area="nonheap",id="CodeHeap 'profiled nmethods'",} 2.7721728E7
jvm_memory_committed_bytes{area="heap",id="G1 Survivor Space",} 9437184.0
jvm_memory_committed_bytes{area="heap",id="G1 Old Gen",} 1.19537664E8
jvm_memory_committed_bytes{area="nonheap",id="Metaspace",} 1.05549824E8
jvm_memory_committed_bytes{area="nonheap",id="CodeHeap 'non-nmethods'",} 2555904.0
jvm_memory_committed_bytes{area="heap",id="G1 Eden Space",} 1.96083712E8
jvm_memory_committed_bytes{area="nonheap",id="Compressed Class Space",} 1.4286848E7
jvm_memory_committed_bytes{area="nonheap",id="CodeHeap 'non-profiled nmethods'",} 9306112.0
# HELP jvm_memory_max_bytes The maximum amount of memory in bytes that can be used for memory management
# TYPE jvm_memory_max_bytes gauge
jvm_memory_max_bytes{area="nonheap",id="CodeHeap 'profiled nmethods'",} 1.22912768E8
jvm_memory_max_bytes{area="heap",id="G1 Survivor Space",} -1.0
jvm_memory_max_bytes{area="heap",id="G1 Old Gen",} 2.059403264E9
jvm_memory_max_bytes{area="nonheap",id="Metaspace",} -1.0
jvm_memory_max_bytes{area="nonheap",id="CodeHeap 'non-nmethods'",} 5832704.0
jvm_memory_max_bytes{area="heap",id="G1 Eden Space",} -1.0
jvm_memory_max_bytes{area="nonheap",id="Compressed Class Space",} 1.073741824E9
jvm_memory_max_bytes{area="nonheap",id="CodeHeap 'non-profiled nmethods'",} 1.22912768E8
# HELP jvm_gc_max_data_size_bytes Max size of long-lived heap memory pool
# TYPE jvm_gc_max_data_size_bytes gauge
jvm_gc_max_data_size_bytes 2.059403264E9
# HELP hikaricp_connections_timeout_total Connection timeout total count
# TYPE hikaricp_connections_timeout_total counter
hikaricp_connections_timeout_total{pool="HikariPool-1",} 0.0
# HELP process_uptime_seconds The uptime of the Java virtual machine
# TYPE process_uptime_seconds gauge
process_uptime_seconds 12.37
# HELP jdbc_connections_max Maximum number of active connections that can be allocated at the same time.
# TYPE jdbc_connections_max gauge
jdbc_connections_max{name="dataSource",} 10.0
# HELP hikaricp_connections_pending Pending threads
# TYPE hikaricp_connections_pending gauge
hikaricp_connections_pending{pool="HikariPool-1",} 0.0
# HELP tomcat_sessions_active_current_sessions  
# TYPE tomcat_sessions_active_current_sessions gauge
tomcat_sessions_active_current_sessions 3.0
# HELP tomcat_sessions_rejected_sessions_total  
# TYPE tomcat_sessions_rejected_sessions_total counter
tomcat_sessions_rejected_sessions_total 0.0
# HELP hikaricp_connections_acquire_seconds Connection acquire time
# TYPE hikaricp_connections_acquire_seconds summary
hikaricp_connections_acquire_seconds_count{pool="HikariPool-1",} 19.0
hikaricp_connections_acquire_seconds_sum{pool="HikariPool-1",} 0.005047
# HELP hikaricp_connections_acquire_seconds_max Connection acquire time
# TYPE hikaricp_connections_acquire_seconds_max gauge
hikaricp_connections_acquire_seconds_max{pool="HikariPool-1",} 0.004388042
# HELP tomcat_sessions_created_sessions_total  
# TYPE tomcat_sessions_created_sessions_total counter
tomcat_sessions_created_sessions_total 3.0
# HELP pap_policy_deployments_total  
# TYPE pap_policy_deployments_total counter
pap_policy_deployments_total{operation="deploy",status="FAILURE",} 0.0
pap_policy_deployments_total{operation="undeploy",status="SUCCESS",} 0.0
pap_policy_deployments_total{operation="deploy",status="SUCCESS",} 0.0
pap_policy_deployments_total{operation="undeploy",status="FAILURE",} 0.0
# HELP jvm_buffer_total_capacity_bytes An estimate of the total capacity of the buffers in this pool
# TYPE jvm_buffer_total_capacity_bytes gauge
jvm_buffer_total_capacity_bytes... (set the log level to DEBUG or TRACE to see the full content) 
 </msg>
<msg timestamp="20220902 13:41:05.409" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.309" endtime="20220902 13:41:05.410"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:05.411" level="INFO">Received response from policy # HELP jvm_gc_memory_allocated_bytes_total Incremented for an increase in the size of the (young) heap memory pool after one GC to before the next
# TYPE jvm_gc_memory_allocated_bytes_total counter
jvm_gc_memory_allocated_bytes_total 1.286602752E9
# HELP spring_data_repository_invocations_seconds_max  
# TYPE spring_data_repository_invocations_seconds_max gauge
spring_data_repository_invocations_seconds_max{exception="None",method="getById",repository="PdpStatisticsRepository",state="SUCCESS",} 5.06792E-4
spring_data_repository_invocations_seconds_max{exception="None",method="save",repository="PdpGroupRepository",state="SUCCESS",} 0.036749042
spring_data_repository_invocations_seconds_max{exception="None",method="saveAll",repository="PolicyStatusRepository",state="SUCCESS",} 1.1083E-5
spring_data_repository_invocations_seconds_max{exception="None",method="saveAndFlush",repository="PdpStatisticsRepository",state="SUCCESS",} 0.034349875
spring_data_repository_invocations_seconds_max{exception="None",method="findByKeyName",repository="PdpGroupRepository",state="SUCCESS",} 0.119658333
spring_data_repository_invocations_seconds_max{exception="None",method="save",repository="PdpSubGroupRepository",state="SUCCESS",} 0.005934708
spring_data_repository_invocations_seconds_max{exception="None",method="findByPdpGroup",repository="PolicyStatusRepository",state="SUCCESS",} 0.002136125
spring_data_repository_invocations_seconds_max{exception="None",method="save",repository="PdpRepository",state="SUCCESS",} 0.0032345
spring_data_repository_invocations_seconds_max{exception="None",method="findAll",repository="PdpGroupRepository",state="SUCCESS",} 0.013293708
spring_data_repository_invocations_seconds_max{exception="None",method="findAll",repository="PolicyStatusRepository",state="SUCCESS",} 0.001747083
spring_data_repository_invocations_seconds_max{exception="None",method="deleteAll",repository="PolicyStatusRepository",state="SUCCESS",} 2.1291E-5
# HELP spring_data_repository_invocations_seconds  
# TYPE spring_data_repository_invocations_seconds summary
spring_data_repository_invocations_seconds_count{exception="None",method="getById",repository="PdpStatisticsRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="getById",repository="PdpStatisticsRepository",state="SUCCESS",} 5.06792E-4
spring_data_repository_invocations_seconds_count{exception="None",method="save",repository="PdpGroupRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="save",repository="PdpGroupRepository",state="SUCCESS",} 0.036749042
spring_data_repository_invocations_seconds_count{exception="None",method="saveAll",repository="PolicyStatusRepository",state="SUCCESS",} 8.0
spring_data_repository_invocations_seconds_sum{exception="None",method="saveAll",repository="PolicyStatusRepository",state="SUCCESS",} 4.6583E-5
spring_data_repository_invocations_seconds_count{exception="None",method="saveAndFlush",repository="PdpStatisticsRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="saveAndFlush",repository="PdpStatisticsRepository",state="SUCCESS",} 0.034349875
spring_data_repository_invocations_seconds_count{exception="None",method="findByKeyName",repository="PdpGroupRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="findByKeyName",repository="PdpGroupRepository",state="SUCCESS",} 0.119658333
spring_data_repository_invocations_seconds_count{exception="None",method="save",repository="PdpSubGroupRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="save",repository="PdpSubGroupRepository",state="SUCCESS",} 0.005934708
spring_data_repository_invocations_seconds_count{exception="None",method="findByPdpGroup",repository="PolicyStatusRepository",state="SUCCESS",} 4.0
spring_data_repository_invocations_seconds_sum{exception="None",method="findByPdpGroup",repository="PolicyStatusRepository",state="SUCCESS",} 0.005542292
spring_data_repository_invocations_seconds_count{exception="None",method="save",repository="PdpRepository",state="SUCCESS",} 2.0
spring_data_repository_invocations_seconds_sum{exception="None",method="save",repository="PdpRepository",state="SUCCESS",} 0.00407625
spring_data_repository_invocations_seconds_count{exception="None",method="findAll",repository="PdpGroupRepository",state="SUCCESS",} 4.0
spring_data_repository_invocations_seconds_sum{exception="None",method="findAll",repository="PdpGroupRepository",state="SUCCESS",} 0.022160916
spring_data_repository_invocations_seconds_count{exception="None",method="findAll",repository="PolicyStatusRepository",state="SUCCESS",} 1.0
spring_data_repository_invocations_seconds_sum{exception="None",method="findAll",repository="PolicyStatusRepository",state="SUCCESS",} 0.001747083
spring_data_repository_invocations_seconds_count{exception="None",method="deleteAll",repository="PolicyStatusRepository",state="SUCCESS",} 4.0
spring_data_repository_invocations_seconds_sum{exception="None",method="deleteAll",repository="PolicyStatusRepository",state="SUCCESS",} 3.0583E-5
# HELP hikaricp_connections_max Max connections
# TYPE hikaricp_connections_max gauge
hikaricp_connections_max{pool="HikariPool-1",} 10.0
# HELP hikaricp_connections_creation_seconds_max Connection creation time
# TYPE hikaricp_connections_creation_seconds_max gauge
hikaricp_connections_creation_seconds_max{pool="HikariPool-1",} 0.0
# HELP hikaricp_connections_creation_seconds Connection creation time
# TYPE hikaricp_connections_creation_seconds summary
hikaricp_connections_creation_seconds_count{pool="HikariPool-1",} 0.0
hikaricp_connections_creation_seconds_sum{pool="HikariPool-1",} 0.0
# HELP jdbc_connections_min Minimum number of idle connections in the pool.
# TYPE jdbc_connections_min gauge
jdbc_connections_min{name="dataSource",} 10.0
# HELP jvm_buffer_memory_used_bytes An estimate of the memory that the Java virtual machine is using for this buffer pool
# TYPE jvm_buffer_memory_used_bytes gauge
jvm_buffer_memory_used_bytes{id="mapped",} 0.0
jvm_buffer_memory_used_bytes{id="direct",} 40960.0
# HELP jvm_memory_committed_bytes The amount of memory in bytes that is committed for the Java virtual machine to use
# TYPE jvm_memory_committed_bytes gauge
jvm_memory_committed_bytes{area="nonheap",id="CodeHeap 'profiled nmethods'",} 2.7721728E7
jvm_memory_committed_bytes{area="heap",id="G1 Survivor Space",} 9437184.0
jvm_memory_committed_bytes{area="heap",id="G1 Old Gen",} 1.19537664E8
jvm_memory_committed_bytes{area="nonheap",id="Metaspace",} 1.05549824E8
jvm_memory_committed_bytes{area="nonheap",id="CodeHeap 'non-nmethods'",} 2555904.0
jvm_memory_committed_bytes{area="heap",id="G1 Eden Space",} 1.96083712E8
jvm_memory_committed_bytes{area="nonheap",id="Compressed Class Space",} 1.4286848E7
jvm_memory_committed_bytes{area="nonheap",id="CodeHeap 'non-profiled nmethods'",} 9306112.0
# HELP jvm_memory_max_bytes The maximum amount of memory in bytes that can be used for memory management
# TYPE jvm_memory_max_bytes gauge
jvm_memory_max_bytes{area="nonheap",id="CodeHeap 'profiled nmethods'",} 1.22912768E8
jvm_memory_max_bytes{area="heap",id="G1 Survivor Space",} -1.0
jvm_memory_max_bytes{area="heap",id="G1 Old Gen",} 2.059403264E9
jvm_memory_max_bytes{area="nonheap",id="Metaspace",} -1.0
jvm_memory_max_bytes{area="nonheap",id="CodeHeap 'non-nmethods'",} 5832704.0
jvm_memory_max_bytes{area="heap",id="G1 Eden Space",} -1.0
jvm_memory_max_bytes{area="nonheap",id="Compressed Class Space",} 1.073741824E9
jvm_memory_max_bytes{area="nonheap",id="CodeHeap 'non-profiled nmethods'",} 1.22912768E8
# HELP jvm_gc_max_data_size_bytes Max size of long-lived heap memory pool
# TYPE jvm_gc_max_data_size_bytes gauge
jvm_gc_max_data_size_bytes 2.059403264E9
# HELP hikaricp_connections_timeout_total Connection timeout total count
# TYPE hikaricp_connections_timeout_total counter
hikaricp_connections_timeout_total{pool="HikariPool-1",} 0.0
# HELP process_uptime_seconds The uptime of the Java virtual machine
# TYPE process_uptime_seconds gauge
process_uptime_seconds 12.37
# HELP jdbc_connections_max Maximum number of active connections that can be allocated at the same time.
# TYPE jdbc_connections_max gauge
jdbc_connections_max{name="dataSource",} 10.0
# HELP hikaricp_connections_pending Pending threads
# TYPE hikaricp_connections_pending gauge
hikaricp_connections_pending{pool="HikariPool-1",} 0.0
# HELP tomcat_sessions_active_current_sessions  
# TYPE tomcat_sessions_active_current_sessions gauge
tomcat_sessions_active_current_sessions 3.0
# HELP tomcat_sessions_rejected_sessions_total  
# TYPE tomcat_sessions_rejected_sessions_total counter
tomcat_sessions_rejected_sessions_total 0.0
# HELP hikaricp_connections_acquire_seconds Connection acquire time
# TYPE hikaricp_connections_acquire_seconds summary
hikaricp_connections_acquire_seconds_count{pool="HikariPool-1",} 19.0
hikaricp_connections_acquire_seconds_sum{pool="HikariPool-1",} 0.005047
# HELP hikaricp_connections_acquire_seconds_max Connection acquire time
# TYPE hikaricp_connections_acquire_seconds_max gauge
hikaricp_connections_acquire_seconds_max{pool="HikariPool-1",} 0.004388042
# HELP tomcat_sessions_created_sessions_total  
# TYPE tomcat_sessions_created_sessions_total counter
tomcat_sessions_created_sessions_total 3.0
# HELP pap_policy_deployments_total  
# TYPE pap_policy_deployments_total counter
pap_policy_deployments_total{operation="deploy",status="FAILURE",} 0.0
pap_policy_deployments_total{operation="undeploy",status="SUCCESS",} 0.0
pap_policy_deployments_total{operation="deploy",status="SUCCESS",} 0.0
pap_policy_deployments_total{operation="undeploy",status="FAILURE",} 0.0
# HELP jvm_buffer_total_capacity_bytes An estimate of the total capacity of the buffers in this pool
# TYPE jvm_buffer_total_capacity_bytes gauge
jvm_buffer_total_capacity_bytes{id="mapped",} 0.0
jvm_buffer_total_capacity_bytes{id="direct",} 40960.0
# HELP jvm_gc_memory_promoted_bytes_total Count of positive increases in the size of the old generation memory pool before GC to after GC
# TYPE jvm_gc_memory_promoted_bytes_total counter
jvm_gc_memory_promoted_bytes_total 3.4197816E7
# HELP tomcat_sessions_expired_sessions_total  
# TYPE tomcat_sessions_expired_sessions_total counter
tomcat_sessions_expired_sessions_total 0.0
# HELP hikaricp_connections_idle Idle connections
# TYPE hikaricp_connections_idle gauge
hikaricp_connections_idle{pool="HikariPool-1",} 10.0
# HELP process_start_time_seconds Start time of the process since unix epoch.
# TYPE process_start_time_seconds gauge
process_start_time_seconds 1.662122453056E9
# HELP hikaricp_connections_usage_seconds Connection usage time
# TYPE hikaricp_connections_usage_seconds summary
hikaricp_connections_usage_seconds_count{pool="HikariPool-1",} 19.0
hikaricp_connections_usage_seconds_sum{pool="HikariPool-1",} 0.195
# HELP hikaricp_connections_usage_seconds_max Connection usage time
# TYPE hikaricp_connections_usage_seconds_max gauge
hikaricp_connections_usage_seconds_max{pool="HikariPool-1",} 0.042
# HELP jvm_threads_peak_threads The peak live thread count since the Java virtual machine started or peak was reset
# TYPE jvm_threads_peak_threads gauge
jvm_threads_peak_threads 36.0
# HELP jvm_classes_loaded_classes The number of classes that are currently loaded in the Java virtual machine
# TYPE jvm_classes_loaded_classes gauge
jvm_classes_loaded_classes 18267.0
# HELP tomcat_sessions_active_max_sessions  
# TYPE tomcat_sessions_active_max_sessions gauge
tomcat_sessions_active_max_sessions 3.0
# HELP system_load_average_1m The sum of the number of runnable entities queued to available processors and the number of runnable entities running on the available processors averaged over a period of time
# TYPE system_load_average_1m gauge
system_load_average_1m 0.75634765625
# HELP jvm_threads_states_threads The current number of threads having NEW state
# TYPE jvm_threads_states_threads gauge
jvm_threads_states_threads{state="runnable",} 8.0
jvm_threads_states_threads{state="blocked",} 0.0
jvm_threads_states_threads{state="waiting",} 17.0
jvm_threads_states_threads{state="timed-waiting",} 11.0
jvm_threads_states_threads{state="new",} 0.0
jvm_threads_states_threads{state="terminated",} 0.0
# HELP process_files_open_files The open file descriptor count
# TYPE process_files_open_files gauge
process_files_open_files 34.0
# HELP process_cpu_usage The "recent cpu usage" for the Java Virtual Machine process
# TYPE process_cpu_usage gauge
process_cpu_usage 0.0
# HELP jvm_buffer_count_buffers An estimate of the number of buffers in the pool
# TYPE jvm_buffer_count_buffers gauge
jvm_buffer_count_buffers{id="mapped",} 0.0
jvm_buffer_count_buffers{id="direct",} 5.0
# HELP jdbc_connections_idle Number of established but idle connections.
# TYPE jdbc_connections_idle gauge
jdbc_connections_idle{name="dataSource",} 10.0
# HELP process_files_max_files The maximum file descriptor count
# TYPE process_files_max_files gauge
process_files_max_files 1048576.0
# HELP jvm_threads_daemon_threads The current number of live daemon threads
# TYPE jvm_threads_daemon_threads gauge
jvm_threads_daemon_threads 26.0
# HELP hikaricp_connections Total connections
# TYPE hikaricp_connections gauge
hikaricp_connections{pool="HikariPool-1",} 10.0
# HELP jdbc_connections_active Current number of active connections that have been allocated from the data source.
# TYPE jdbc_connections_active gauge
jdbc_connections_active{name="dataSource",} 0.0
# HELP system_cpu_usage The "recent cpu usage" for the whole system
# TYPE system_cpu_usage gauge
system_cpu_usage 0.0
# HELP jvm_gc_live_data_size_bytes Size of long-lived heap memory pool after reclamation
# TYPE jvm_gc_live_data_size_bytes gauge
jvm_gc_live_data_size_bytes 1.8704584E7
# HELP tomcat_sessions_alive_max_seconds  
# TYPE tomcat_sessions_alive_max_seconds gauge
tomcat_sessions_alive_max_seconds 0.0
# HELP jvm_threads_live_threads The current number of live threads including both daemon and non-daemon threads
# TYPE jvm_threads_live_threads gauge
jvm_threads_live_threads 36.0
# HELP hikaricp_connections_active Active connections
# TYPE hikaricp_connections_active gauge
hikaricp_connections_active{pool="HikariPool-1",} 0.0
# HELP jvm_classes_unloaded_classes_total The total number of classes unloaded since the Java virtual machine has started execution
# TYPE jvm_classes_unloaded_classes_total counter
jvm_classes_unloaded_classes_total 0.0
# HELP logback_events_total Number of error level events that made it to the logs
# TYPE logback_events_total counter
logback_events_total{level="warn",} 1.0
logback_events_total{level="debug",} 0.0
logback_events_total{level="error",} 0.0
logback_events_total{level="trace",} 0.0
logback_events_total{level="info",} 186.0
# HELP system_cpu_count The number of processors available to the Java virtual machine
# TYPE system_cpu_count gauge
system_cpu_count 5.0
# HELP jvm_gc_pause_seconds Time spent in GC pause
# TYPE jvm_gc_pause_seconds summary
jvm_gc_pause_seconds_count{action="end of minor GC",cause="Metadata GC Threshold",} 2.0
jvm_gc_pause_seconds_sum{action="end of minor GC",cause="Metadata GC Threshold",} 0.013
jvm_gc_pause_seconds_count{action="end of minor GC",cause="G1 Evacuation Pause",} 9.0
jvm_gc_pause_seconds_sum{action="end of minor GC",cause="G1 Evacuation Pause",} 0.092
# HELP jvm_gc_pause_seconds_max Time spent in GC pause
# TYPE jvm_gc_pause_seconds_max gauge
jvm_gc_pause_seconds_max{action="end of minor GC",cause="Metadata GC Threshold",} 0.008
jvm_gc_pause_seconds_max{action="end of minor GC",cause="G1 Evacuation Pause",} 0.017
# HELP http_server_requests_seconds  
# TYPE http_server_requests_seconds summary
http_server_requests_seconds_count{exception="None",method="GET",outcome="SUCCESS",status="200",uri="/policy/pap/v1/healthcheck",} 1.0
http_server_requests_seconds_sum{exception="None",method="GET",outcome="SUCCESS",status="200",uri="/policy/pap/v1/healthcheck",} 0.237009625
http_server_requests_seconds_count{exception="None",method="GET",outcome="SUCCESS",status="200",uri="/policy/pap/v1/components/healthcheck",} 1.0
http_server_requests_seconds_sum{exception="None",method="GET",outcome="SUCCESS",status="200",uri="/policy/pap/v1/components/healthcheck",} 0.458409167
# HELP http_server_requests_seconds_max  
# TYPE http_server_requests_seconds_max gauge
http_server_requests_seconds_max{exception="None",method="GET",outcome="SUCCESS",status="200",uri="/policy/pap/v1/healthcheck",} 0.237009625
http_server_requests_seconds_max{exception="None",method="GET",outcome="SUCCESS",status="200",uri="/policy/pap/v1/components/healthcheck",} 0.458409167
# HELP jvm_memory_used_bytes The amount of used memory
# TYPE jvm_memory_used_bytes gauge
jvm_memory_used_bytes{area="nonheap",id="CodeHeap 'profiled nmethods'",} 2.7706368E7
jvm_memory_used_bytes{area="heap",id="G1 Survivor Space",} 9437184.0
jvm_memory_used_bytes{area="heap",id="G1 Old Gen",} 3.7748736E7
jvm_memory_used_bytes{area="nonheap",id="Metaspace",} 1.01324224E8
jvm_memory_used_bytes{area="nonheap",id="CodeHeap 'non-nmethods'",} 1421696.0
jvm_memory_used_bytes{area="heap",id="G1 Eden Space",} 8.4934656E7
jvm_memory_used_bytes{area="nonheap",id="Compressed Class Space",} 1.2620192E7
jvm_memory_used_bytes{area="nonheap",id="CodeHeap 'non-profiled nmethods'",} 9265792.0
# HELP hikaricp_connections_min Min connections
# TYPE hikaricp_connections_min gauge
hikaricp_connections_min{pool="HikariPool-1",} 10.0
</msg>
<status status="PASS" starttime="20220902 13:41:05.410" endtime="20220902 13:41:05.412"/>
</kw>
<msg timestamp="20220902 13:41:05.412" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.309" endtime="20220902 13:41:05.412"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${resp.text}</arg>
<arg>http_server_requests_seconds_count{exception="None",method="GET",outcome="SUCCESS",status="200",uri="/policy/pap/v1/healthcheck",} 1.0</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20220902 13:41:05.412" endtime="20220902 13:41:05.412"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${resp.text}</arg>
<arg>http_server_requests_seconds_count{exception="None",method="GET",outcome="SUCCESS",status="200",uri="/policy/pap/v1/components/healthcheck",} 1.0</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20220902 13:41:05.412" endtime="20220902 13:41:05.413"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${resp.text}</arg>
<arg>spring_data_repository_invocations_seconds_count{exception="None",method="save",repository="PdpGroupRepository",state="SUCCESS",} 1.0</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20220902 13:41:05.413" endtime="20220902 13:41:05.413"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${resp.text}</arg>
<arg>spring_data_repository_invocations_seconds_count{exception="None",method="findByKeyName",repository="PdpGroupRepository",state="SUCCESS",} 1.0</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20220902 13:41:05.413" endtime="20220902 13:41:05.413"/>
</kw>
<kw name="Should Contain" library="BuiltIn">
<arg>${resp.text}</arg>
<arg>spring_data_repository_invocations_seconds_count{exception="None",method="findAll",repository="PolicyStatusRepository",state="SUCCESS",} 1.0</arg>
<doc>Fails if ``container`` does not contain ``item`` one or more times.</doc>
<status status="PASS" starttime="20220902 13:41:05.414" endtime="20220902 13:41:05.414"/>
</kw>
<doc>Verify policy pap is exporting prometheus metrics</doc>
<status status="PASS" starttime="20220902 13:41:05.308" endtime="20220902 13:41:05.414"/>
</test>
<test id="s1-t7" name="Statistics" line="51">
<kw name="GetReq">
<var>${resp}</var>
<arg>/policy/pap/v1/statistics</arg>
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:05.415" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:05.414" endtime="20220902 13:41:05.415"/>
</kw>
<msg timestamp="20220902 13:41:05.415" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:05.414" endtime="20220902 13:41:05.415"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>${url}</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:05.415" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:05.415" endtime="20220902 13:41:05.415"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:05.415" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x10239bc40&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:05.415" level="INFO">${session} = &lt;requests.sessions.Session object at 0x10239bca0&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.415" endtime="20220902 13:41:05.415"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:05.415" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:05.415" endtime="20220902 13:41:05.415"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:05.501" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/statistics?null 
 path_url=/policy/pap/v1/statistics?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:05.501" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/statistics?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=F4CB7C1CF19EC5FA510DD45D1E06A509; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'bb59bd27-ef0d-4c6f-ab54-d1c47915513d', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:04 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"code":200,"totalPdpCount":0,"totalPdpGroupCount":0,"totalPolicyDeployCount":0,"policyDeploySuccessCount":0,"policyDeployFailureCount":0,"totalPolicyDownloadCount":0,"policyDownloadSuccessCount":0,"policyDownloadFailureCount":0} 
 </msg>
<msg timestamp="20220902 13:41:05.501" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.415" endtime="20220902 13:41:05.501"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:05.502" level="INFO">Received response from policy {"code":200,"totalPdpCount":0,"totalPdpGroupCount":0,"totalPolicyDeployCount":0,"policyDeploySuccessCount":0,"policyDeployFailureCount":0,"totalPolicyDownloadCount":0,"policyDownloadSuccessCount":0,"policyDownloadFailureCount":0}</msg>
<status status="PASS" starttime="20220902 13:41:05.501" endtime="20220902 13:41:05.502"/>
</kw>
<msg timestamp="20220902 13:41:05.502" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.415" endtime="20220902 13:41:05.502"/>
</kw>
<msg timestamp="20220902 13:41:05.503" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.414" endtime="20220902 13:41:05.503"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['code']}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:41:05.504" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.503" endtime="20220902 13:41:05.504"/>
</kw>
<doc>Verify policy pap statistics</doc>
<status status="PASS" starttime="20220902 13:41:05.414" endtime="20220902 13:41:05.504"/>
</test>
<test id="s1-t8" name="AddPdpGroup" line="56">
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>/Users/liam/git/onap/policy/docker/csit/pap/tests/data/create.group.request.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:41:05.505" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/csit/pap/tests/data/create.group.request.json"&gt;/Users/liam/git/onap/policy/docker/csit/pap/tests/data/create.group.request.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:41:05.505" level="INFO">${postjson} = {
    "groups": [
        {
            "name": "testGroup",
            "pdpGroupState": "PASSIVE",
            "properties": {
                "hello": "world"
            },
            "pdpSubgrou...</msg>
<status status="PASS" starttime="20220902 13:41:05.505" endtime="20220902 13:41:05.505"/>
</kw>
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:05.505" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:05.505" endtime="20220902 13:41:05.505"/>
</kw>
<msg timestamp="20220902 13:41:05.506" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:05.505" endtime="20220902 13:41:05.506"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps/groups/batch</arg>
<arg>200</arg>
<arg>${postjson}</arg>
<arg>null</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:05.506" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:05.506" endtime="20220902 13:41:05.506"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:05.506" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102323610&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:05.506" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1023226e0&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.506" endtime="20220902 13:41:05.506"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:05.506" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:05.506" endtime="20220902 13:41:05.506"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:05.867" level="INFO">POST Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps/groups/batch?null 
 path_url=/policy/pap/v1/pdps/groups/batch?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '1551', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body={
    "groups": [
        {
            "name": "testGroup",
            "pdpGroupState": "PASSIVE",
            "properties": {
                "hello": "world"
            },
            "pdpSubgroups": [
                {
                    "pdpType": "pdpTypeA",
                    "desiredInstanceCount": 2,
                    "properties": {},
                    "supportedPolicyTypes": [
                        {
                            "name": "onap.policies.monitoring.tcagen2",
                            "version": "1.0.0"
                        }
                    ],
                    "policies": []
                },
                {
                    "pdpType": "pdpTypeB",
                    "desiredInstanceCount": 1,
                    "properties": {},
                    "supportedPolicyTypes": [
                        {
                            "name": "onap.policies.monitoring.tcagen2",
                            "version": "1.0.0"
                        }
                    ],
                    "policies": []
                },
                {
                    "pdpType": "pdpTypeC",
                    "desiredInstanceCount": 1,
                    "properties": {},
                    "supportedPolicyTypes": [
                        {
                            "name": "onap.policies.native.Apex",
                            "version": "1.0.0"
                        }
                    ],
                    "policies": []
                }
            ]
        }
    ]
}
 
 </msg>
<msg timestamp="20220902 13:41:05.867" level="INFO">POST Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps/groups/batch?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=56FED3726569FD77D1571C171205290B; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'f7d87b09-5702-43d6-86ac-452fa0d65080', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:05 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={} 
 </msg>
<msg timestamp="20220902 13:41:05.867" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.506" endtime="20220902 13:41:05.867"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:05.869" level="INFO">Received response from policy {}</msg>
<status status="PASS" starttime="20220902 13:41:05.868" endtime="20220902 13:41:05.869"/>
</kw>
<status status="PASS" starttime="20220902 13:41:05.506" endtime="20220902 13:41:05.869"/>
</kw>
<doc>Add a new PdpGroup named 'testGroup' in the policy database</doc>
<status status="PASS" starttime="20220902 13:41:05.504" endtime="20220902 13:41:05.869"/>
</test>
<test id="s1-t9" name="QueryPdpGroupsBeforeActivation" line="62">
<kw name="QueryPdpGroups" library="common-library">
<arg>2</arg>
<arg>defaultGroup</arg>
<arg>ACTIVE</arg>
<arg>0</arg>
<arg>testGroup</arg>
<arg>PASSIVE</arg>
<arg>0</arg>
<doc>Verify pdp group query - supports upto 2 groups</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:05.871" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:05.871" endtime="20220902 13:41:05.871"/>
</kw>
<msg timestamp="20220902 13:41:05.871" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:05.871" endtime="20220902 13:41:05.871"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:05.871" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:05.871" endtime="20220902 13:41:05.871"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:05.872" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102323820&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:05.872" level="INFO">${session} = &lt;requests.sessions.Session object at 0x102321c60&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.871" endtime="20220902 13:41:05.872"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:05.872" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:05.872" endtime="20220902 13:41:05.872"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:05.968" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps?null 
 path_url=/policy/pap/v1/pdps?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:05.968" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=5D0A55111965332C09AF5C2645DBCAF6; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '9a3b5827-1d62-4e15-809d-47e29f37606b', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:05 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"groups":[{"name":"defaultGroup","description":"The default group that registers all supported policy types and pdps.","pdpGroupState":"ACTIVE","properties":{},"pdpSubgroups":[{"pdpType":"apex","supportedPolicyTypes":[{"name":"onap.policies.controlloop.operational.common.Apex","version":"1.0.0"},{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":1,"desiredInstanceCount":1,"properties":{},"pdpInstances":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]}]},{"name":"testGroup","pdpGroupState":"PASSIVE","properties":{"hello":"world"},"pdpSubgroups":[{"pdpType":"pdpTypeA","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":2,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeB","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeC","supportedPolicyTypes":[{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]}]}]} 
 </msg>
<msg timestamp="20220902 13:41:05.968" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.872" endtime="20220902 13:41:05.968"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:05.969" level="INFO">Received response from policy {"groups":[{"name":"defaultGroup","description":"The default group that registers all supported policy types and pdps.","pdpGroupState":"ACTIVE","properties":{},"pdpSubgroups":[{"pdpType":"apex","supportedPolicyTypes":[{"name":"onap.policies.controlloop.operational.common.Apex","version":"1.0.0"},{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":1,"desiredInstanceCount":1,"properties":{},"pdpInstances":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]}]},{"name":"testGroup","pdpGroupState":"PASSIVE","properties":{"hello":"world"},"pdpSubgroups":[{"pdpType":"pdpTypeA","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":2,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeB","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeC","supportedPolicyTypes":[{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]}]}]}</msg>
<status status="PASS" starttime="20220902 13:41:05.968" endtime="20220902 13:41:05.969"/>
</kw>
<msg timestamp="20220902 13:41:05.970" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.871" endtime="20220902 13:41:05.970"/>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups']}</arg>
<arg>${groupsLength}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:05.971" level="INFO">Length is 2</msg>
<status status="PASS" starttime="20220902 13:41:05.970" endtime="20220902 13:41:05.971"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][0]['name']}</arg>
<arg>${group1Name}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:05.971" endtime="20220902 13:41:05.972"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][0]['pdpGroupState']}</arg>
<arg>${group1State}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:05.972" endtime="20220902 13:41:05.972"/>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups'][0]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup1}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:05.972" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20220902 13:41:05.972" endtime="20220902 13:41:05.972"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['groups'][1]['name']}</arg>
<arg>${group2Name}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][1]['name']}</arg>
<arg>${group2Name}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:05.973" endtime="20220902 13:41:05.973"/>
</kw>
<status status="PASS" starttime="20220902 13:41:05.972" endtime="20220902 13:41:05.973"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['groups'][1]['pdpGroupState']}</arg>
<arg>${group2State}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][1]['pdpGroupState']}</arg>
<arg>${group2State}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:05.973" endtime="20220902 13:41:05.973"/>
</kw>
<status status="PASS" starttime="20220902 13:41:05.973" endtime="20220902 13:41:05.973"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Length Should Be</arg>
<arg>${resp.json()['groups'][1]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup2}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups'][1]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup2}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:05.974" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20220902 13:41:05.973" endtime="20220902 13:41:05.974"/>
</kw>
<status status="PASS" starttime="20220902 13:41:05.973" endtime="20220902 13:41:05.974"/>
</kw>
<status status="PASS" starttime="20220902 13:41:05.870" endtime="20220902 13:41:05.974"/>
</kw>
<doc>Verify PdpGroups before activation</doc>
<status status="PASS" starttime="20220902 13:41:05.870" endtime="20220902 13:41:05.974"/>
</test>
<test id="s1-t10" name="ActivatePdpGroup" line="66">
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:05.974" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:05.974" endtime="20220902 13:41:05.974"/>
</kw>
<msg timestamp="20220902 13:41:05.974" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:05.974" endtime="20220902 13:41:05.974"/>
</kw>
<kw name="PerformPutRequest" library="common-library">
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps/groups/testGroup</arg>
<arg>200</arg>
<arg>state=ACTIVE</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:05.975" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:05.975" endtime="20220902 13:41:05.975"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:05.975" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1023b11b0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:05.975" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1023b2290&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.975" endtime="20220902 13:41:05.975"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:05.975" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:05.975" endtime="20220902 13:41:05.975"/>
</kw>
<kw name="PUT On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a PUT request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:06.083" level="INFO">PUT Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps/groups/testGroup?state=ACTIVE 
 path_url=/policy/pap/v1/pdps/groups/testGroup?state=ACTIVE 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '0', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:06.084" level="INFO">PUT Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps/groups/testGroup?state=ACTIVE 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=678AB1EC97DFD8C948013AB211F03192; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '639565be-faa8-4561-9fe8-a46a804c02a8', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:05 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={} 
 </msg>
<msg timestamp="20220902 13:41:06.084" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:05.975" endtime="20220902 13:41:06.084"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.085" level="INFO">Received response from policy {}</msg>
<status status="PASS" starttime="20220902 13:41:06.084" endtime="20220902 13:41:06.085"/>
</kw>
<status status="PASS" starttime="20220902 13:41:05.974" endtime="20220902 13:41:06.085"/>
</kw>
<doc>Change the state of PdpGroup named 'testGroup' to ACTIVE</doc>
<status status="PASS" starttime="20220902 13:41:05.974" endtime="20220902 13:41:06.086"/>
</test>
<test id="s1-t11" name="QueryPdpGroupsAfterActivation" line="71">
<kw name="QueryPdpGroups" library="common-library">
<arg>2</arg>
<arg>defaultGroup</arg>
<arg>ACTIVE</arg>
<arg>0</arg>
<arg>testGroup</arg>
<arg>ACTIVE</arg>
<arg>0</arg>
<doc>Verify pdp group query - supports upto 2 groups</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:06.087" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.086" endtime="20220902 13:41:06.087"/>
</kw>
<msg timestamp="20220902 13:41:06.087" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.086" endtime="20220902 13:41:06.087"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.087" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:06.087" endtime="20220902 13:41:06.087"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:06.087" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1023b3490&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:06.087" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1023b3670&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.087" endtime="20220902 13:41:06.087"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:06.087" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:06.087" endtime="20220902 13:41:06.087"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:06.184" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps?null 
 path_url=/policy/pap/v1/pdps?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:06.184" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=738B2DFA7C8EA9D8A89BA62920375300; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'f704ca90-9cca-4828-a6ea-9e0eb34e7091', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:05 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"groups":[{"name":"defaultGroup","description":"The default group that registers all supported policy types and pdps.","pdpGroupState":"ACTIVE","properties":{},"pdpSubgroups":[{"pdpType":"apex","supportedPolicyTypes":[{"name":"onap.policies.controlloop.operational.common.Apex","version":"1.0.0"},{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":1,"desiredInstanceCount":1,"properties":{},"pdpInstances":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]}]},{"name":"testGroup","pdpGroupState":"ACTIVE","properties":{"hello":"world"},"pdpSubgroups":[{"pdpType":"pdpTypeA","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":2,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeB","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeC","supportedPolicyTypes":[{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]}]}]} 
 </msg>
<msg timestamp="20220902 13:41:06.184" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.088" endtime="20220902 13:41:06.184"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.185" level="INFO">Received response from policy {"groups":[{"name":"defaultGroup","description":"The default group that registers all supported policy types and pdps.","pdpGroupState":"ACTIVE","properties":{},"pdpSubgroups":[{"pdpType":"apex","supportedPolicyTypes":[{"name":"onap.policies.controlloop.operational.common.Apex","version":"1.0.0"},{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":1,"desiredInstanceCount":1,"properties":{},"pdpInstances":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]}]},{"name":"testGroup","pdpGroupState":"ACTIVE","properties":{"hello":"world"},"pdpSubgroups":[{"pdpType":"pdpTypeA","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":2,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeB","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeC","supportedPolicyTypes":[{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]}]}]}</msg>
<status status="PASS" starttime="20220902 13:41:06.184" endtime="20220902 13:41:06.186"/>
</kw>
<msg timestamp="20220902 13:41:06.186" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.087" endtime="20220902 13:41:06.186"/>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups']}</arg>
<arg>${groupsLength}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:06.187" level="INFO">Length is 2</msg>
<status status="PASS" starttime="20220902 13:41:06.186" endtime="20220902 13:41:06.187"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][0]['name']}</arg>
<arg>${group1Name}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.187" endtime="20220902 13:41:06.187"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][0]['pdpGroupState']}</arg>
<arg>${group1State}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.187" endtime="20220902 13:41:06.187"/>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups'][0]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup1}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:06.188" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20220902 13:41:06.187" endtime="20220902 13:41:06.188"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['groups'][1]['name']}</arg>
<arg>${group2Name}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][1]['name']}</arg>
<arg>${group2Name}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.188" endtime="20220902 13:41:06.188"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.188" endtime="20220902 13:41:06.188"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['groups'][1]['pdpGroupState']}</arg>
<arg>${group2State}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][1]['pdpGroupState']}</arg>
<arg>${group2State}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.188" endtime="20220902 13:41:06.189"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.188" endtime="20220902 13:41:06.189"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Length Should Be</arg>
<arg>${resp.json()['groups'][1]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup2}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups'][1]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup2}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:06.189" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20220902 13:41:06.189" endtime="20220902 13:41:06.189"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.189" endtime="20220902 13:41:06.189"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.086" endtime="20220902 13:41:06.189"/>
</kw>
<doc>Verify PdpGroups after activation</doc>
<status status="PASS" starttime="20220902 13:41:06.086" endtime="20220902 13:41:06.189"/>
</test>
<test id="s1-t12" name="DeployPdpGroups" line="75">
<kw name="Get File" library="OperatingSystem">
<var>${postjson}</var>
<arg>/Users/liam/git/onap/policy/docker/csit/pap/tests/data/deploy.group.request.json</arg>
<doc>Returns the contents of a specified file.</doc>
<msg timestamp="20220902 13:41:06.190" level="INFO" html="true">Getting file '&lt;a href="file:///Users/liam/git/onap/policy/docker/csit/pap/tests/data/deploy.group.request.json"&gt;/Users/liam/git/onap/policy/docker/csit/pap/tests/data/deploy.group.request.json&lt;/a&gt;'.</msg>
<msg timestamp="20220902 13:41:06.190" level="INFO">${postjson} = {
    "groups": [
        {
            "name": "testGroup",
            "deploymentSubgroups": [
                {
                    "pdpType": "pdpTypeA",
                    "action": "POST",
   ...</msg>
<status status="PASS" starttime="20220902 13:41:06.190" endtime="20220902 13:41:06.190"/>
</kw>
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:06.190" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.190" endtime="20220902 13:41:06.190"/>
</kw>
<msg timestamp="20220902 13:41:06.190" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.190" endtime="20220902 13:41:06.190"/>
</kw>
<kw name="PerformPostRequest" library="common-library">
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps/deployments/batch</arg>
<arg>202</arg>
<arg>${postjson}</arg>
<arg>null</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.190" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:06.190" endtime="20220902 13:41:06.191"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:06.191" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1023ec4c0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:06.191" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1023ec6a0&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.191" endtime="20220902 13:41:06.191"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:06.191" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:06.191" endtime="20220902 13:41:06.191"/>
</kw>
<kw name="POST On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>data=${postjson}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:06.487" level="INFO">POST Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps/deployments/batch?null 
 path_url=/policy/pap/v1/pdps/deployments/batch?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '801', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body={
    "groups": [
        {
            "name": "testGroup",
            "deploymentSubgroups": [
                {
                    "pdpType": "pdpTypeA",
                    "action": "POST",
                    "policies": [
                        {
                            "name": "onap.restart.tca",
                            "version": "1.0.0"
                        }
                    ]
                },
                {
                    "pdpType": "pdpTypeC",
                    "action": "POST",
                    "policies": [
                        {
                            "name": "operational.apex.decisionMaker",
                            "version": "1.0.0"
                        }
                    ]
                }
            ]
        }
    ]
}
 
 </msg>
<msg timestamp="20220902 13:41:06.487" level="INFO">POST Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps/deployments/batch?null 
 status=202, reason= 
 headers={'Set-Cookie': 'JSESSIONID=AD16EC7BD0254681A787AC30DEE5B9AD; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'edbe5ec5-13cf-470e-8925-e0b223e53b4c', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:05 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"message":"Use the policy status url to fetch the latest status. Kindly note that when a policy is successfully undeployed, it will no longer appear in policy status response.","uri":"/policy/pap/v1/policies/status"} 
 </msg>
<msg timestamp="20220902 13:41:06.487" level="INFO">${resp} = &lt;Response [202]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.191" endtime="20220902 13:41:06.487"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.489" level="INFO">Received response from policy {"message":"Use the policy status url to fetch the latest status. Kindly note that when a policy is successfully undeployed, it will no longer appear in policy status response.","uri":"/policy/pap/v1/policies/status"}</msg>
<status status="PASS" starttime="20220902 13:41:06.488" endtime="20220902 13:41:06.489"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.190" endtime="20220902 13:41:06.489"/>
</kw>
<doc>Deploy policies in PdpGroups</doc>
<status status="PASS" starttime="20220902 13:41:06.189" endtime="20220902 13:41:06.489"/>
</test>
<test id="s1-t13" name="QueryPdpGroupsAfterDeploy" line="81">
<kw name="QueryPdpGroups" library="common-library">
<arg>2</arg>
<arg>defaultGroup</arg>
<arg>ACTIVE</arg>
<arg>0</arg>
<arg>testGroup</arg>
<arg>ACTIVE</arg>
<arg>1</arg>
<doc>Verify pdp group query - supports upto 2 groups</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:06.490" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.490" endtime="20220902 13:41:06.490"/>
</kw>
<msg timestamp="20220902 13:41:06.490" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.490" endtime="20220902 13:41:06.490"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.490" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:06.490" endtime="20220902 13:41:06.490"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:06.490" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1023b19f0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:06.490" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1023b1a80&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.490" endtime="20220902 13:41:06.490"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:06.491" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:06.491" endtime="20220902 13:41:06.491"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:06.583" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps?null 
 path_url=/policy/pap/v1/pdps?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:06.584" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=3A0399A9950F21FED69F0A784F0B9151; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '1f770f38-b0dd-46f7-95ee-d457f3ab6fe8', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:05 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"groups":[{"name":"defaultGroup","description":"The default group that registers all supported policy types and pdps.","pdpGroupState":"ACTIVE","properties":{},"pdpSubgroups":[{"pdpType":"apex","supportedPolicyTypes":[{"name":"onap.policies.controlloop.operational.common.Apex","version":"1.0.0"},{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":1,"desiredInstanceCount":1,"properties":{},"pdpInstances":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]}]},{"name":"testGroup","pdpGroupState":"ACTIVE","properties":{"hello":"world"},"pdpSubgroups":[{"pdpType":"pdpTypeA","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[{"name":"onap.restart.tca","version":"1.0.0"}],"currentInstanceCount":0,"desiredInstanceCount":2,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeB","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeC","supportedPolicyTypes":[{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[{"name":"operational.apex.decisionMaker","version":"1.0.0"}],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]}]}]} 
 </msg>
<msg timestamp="20220902 13:41:06.584" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.491" endtime="20220902 13:41:06.584"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.585" level="INFO">Received response from policy {"groups":[{"name":"defaultGroup","description":"The default group that registers all supported policy types and pdps.","pdpGroupState":"ACTIVE","properties":{},"pdpSubgroups":[{"pdpType":"apex","supportedPolicyTypes":[{"name":"onap.policies.controlloop.operational.common.Apex","version":"1.0.0"},{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":1,"desiredInstanceCount":1,"properties":{},"pdpInstances":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]}]},{"name":"testGroup","pdpGroupState":"ACTIVE","properties":{"hello":"world"},"pdpSubgroups":[{"pdpType":"pdpTypeA","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[{"name":"onap.restart.tca","version":"1.0.0"}],"currentInstanceCount":0,"desiredInstanceCount":2,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeB","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeC","supportedPolicyTypes":[{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[{"name":"operational.apex.decisionMaker","version":"1.0.0"}],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]}]}]}</msg>
<status status="PASS" starttime="20220902 13:41:06.584" endtime="20220902 13:41:06.585"/>
</kw>
<msg timestamp="20220902 13:41:06.585" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.490" endtime="20220902 13:41:06.585"/>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups']}</arg>
<arg>${groupsLength}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:06.587" level="INFO">Length is 2</msg>
<status status="PASS" starttime="20220902 13:41:06.585" endtime="20220902 13:41:06.587"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][0]['name']}</arg>
<arg>${group1Name}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.588" endtime="20220902 13:41:06.588"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][0]['pdpGroupState']}</arg>
<arg>${group1State}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.588" endtime="20220902 13:41:06.588"/>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups'][0]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup1}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:06.589" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20220902 13:41:06.588" endtime="20220902 13:41:06.589"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['groups'][1]['name']}</arg>
<arg>${group2Name}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][1]['name']}</arg>
<arg>${group2Name}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.589" endtime="20220902 13:41:06.589"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.589" endtime="20220902 13:41:06.589"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['groups'][1]['pdpGroupState']}</arg>
<arg>${group2State}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][1]['pdpGroupState']}</arg>
<arg>${group2State}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.589" endtime="20220902 13:41:06.589"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.589" endtime="20220902 13:41:06.589"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Length Should Be</arg>
<arg>${resp.json()['groups'][1]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup2}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups'][1]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup2}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:06.590" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20220902 13:41:06.590" endtime="20220902 13:41:06.590"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.589" endtime="20220902 13:41:06.590"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.489" endtime="20220902 13:41:06.590"/>
</kw>
<doc>Verify PdpGroups after undeploy</doc>
<status status="PASS" starttime="20220902 13:41:06.489" endtime="20220902 13:41:06.590"/>
</test>
<test id="s1-t14" name="QueryPolicyAuditAfterDeploy" line="85">
<kw name="QueryPolicyAudit" library="common-library">
<arg>/policy/pap/v1/policies/audit</arg>
<arg>200</arg>
<arg>testGroup</arg>
<arg>pdpTypeA</arg>
<arg>onap.restart.tca</arg>
<arg>DEPLOYMENT</arg>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:06.591" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.590" endtime="20220902 13:41:06.591"/>
</kw>
<msg timestamp="20220902 13:41:06.591" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.590" endtime="20220902 13:41:06.591"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>${url}</arg>
<arg>${expectedstatus}</arg>
<arg>recordCount=2</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.591" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:06.591" endtime="20220902 13:41:06.591"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:06.591" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102399720&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:06.591" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1023b32e0&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.591" endtime="20220902 13:41:06.591"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:06.591" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:06.591" endtime="20220902 13:41:06.591"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:06.690" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/policies/audit?recordCount=2 
 path_url=/policy/pap/v1/policies/audit?recordCount=2 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:06.691" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/policies/audit?recordCount=2 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=87D891D91D99EEB5F7E63E6DF5F811F5; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'dbbd9bc5-524e-4b72-a8aa-4f7f40eebe19', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:05 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body=[{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"},{"auditId":53,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}] 
 </msg>
<msg timestamp="20220902 13:41:06.691" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.592" endtime="20220902 13:41:06.691"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.693" level="INFO">Received response from policy [{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"},{"auditId":53,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}]</msg>
<status status="PASS" starttime="20220902 13:41:06.691" endtime="20220902 13:41:06.693"/>
</kw>
<msg timestamp="20220902 13:41:06.693" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.591" endtime="20220902 13:41:06.693"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from queryPolicyAudit ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.694" level="INFO">Received response from queryPolicyAudit [{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"},{"auditId":53,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}]</msg>
<status status="PASS" starttime="20220902 13:41:06.693" endtime="20220902 13:41:06.694"/>
</kw>
<for flavor="IN">
<var>${responseEntry}</var>
<value>@{resp.json()}</value>
<iter>
<var name="${responseEntry}">{'auditId': 52, 'pdpGroup': 'testGroup', 'pdpType': 'pdpTypeA', 'policy': {'name': 'onap.restart.tca', 'version': '1.0.0'}, 'action': 'DEPLOYMENT', 'timestamp': '2022-09-02T12:41:06Z', 'user': 'policy...</var>
<kw name="Exit For Loop If" library="BuiltIn">
<arg>'${responseEntry['policy']['name']}'=='${policyName}'</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<msg timestamp="20220902 13:41:06.695" level="INFO">Exiting for loop altogether.</msg>
<status status="PASS" starttime="20220902 13:41:06.695" endtime="20220902 13:41:06.695"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.695" endtime="20220902 13:41:06.695"/>
</iter>
<status status="PASS" starttime="20220902 13:41:06.694" endtime="20220902 13:41:06.695"/>
</for>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['pdpGroup']}</arg>
<arg>${pdpGroup}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.695" endtime="20220902 13:41:06.696"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['pdpType']}</arg>
<arg>${pdpType}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.696" endtime="20220902 13:41:06.696"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['policy']['name']}</arg>
<arg>${policyName}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.696" endtime="20220902 13:41:06.696"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['policy']['version']}</arg>
<arg>1.0.0</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.696" endtime="20220902 13:41:06.696"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['action']}</arg>
<arg>${expectedAction}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.696" endtime="20220902 13:41:06.697"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['user']}</arg>
<arg>policyadmin</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.697" endtime="20220902 13:41:06.697"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.590" endtime="20220902 13:41:06.697"/>
</kw>
<doc>Verify policy audit record after deploy</doc>
<status status="PASS" starttime="20220902 13:41:06.590" endtime="20220902 13:41:06.697"/>
</test>
<test id="s1-t15" name="QueryPolicyAuditWithMetadataSetAfterDeploy" line="89">
<kw name="QueryPolicyAudit" library="common-library">
<arg>/policy/pap/v1/policies/audit</arg>
<arg>200</arg>
<arg>testGroup</arg>
<arg>pdpTypeC</arg>
<arg>operational.apex.decisionMaker</arg>
<arg>DEPLOYMENT</arg>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:06.698" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.698" endtime="20220902 13:41:06.698"/>
</kw>
<msg timestamp="20220902 13:41:06.698" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.698" endtime="20220902 13:41:06.698"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>${url}</arg>
<arg>${expectedstatus}</arg>
<arg>recordCount=2</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.699" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:06.698" endtime="20220902 13:41:06.699"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:06.699" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102322830&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:06.699" level="INFO">${session} = &lt;requests.sessions.Session object at 0x102323340&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.699" endtime="20220902 13:41:06.699"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:06.699" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:06.699" endtime="20220902 13:41:06.699"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:06.786" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/policies/audit?recordCount=2 
 path_url=/policy/pap/v1/policies/audit?recordCount=2 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:06.786" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/policies/audit?recordCount=2 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=F7C0BC82F5B5D9EB20BE17173BA3A9B8; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '98146e94-311d-4855-8282-f4830e51b5e7', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:05 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body=[{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"},{"auditId":53,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}] 
 </msg>
<msg timestamp="20220902 13:41:06.787" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.699" endtime="20220902 13:41:06.787"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.788" level="INFO">Received response from policy [{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"},{"auditId":53,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}]</msg>
<status status="PASS" starttime="20220902 13:41:06.787" endtime="20220902 13:41:06.788"/>
</kw>
<msg timestamp="20220902 13:41:06.788" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.698" endtime="20220902 13:41:06.788"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from queryPolicyAudit ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.789" level="INFO">Received response from queryPolicyAudit [{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"},{"auditId":53,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}]</msg>
<status status="PASS" starttime="20220902 13:41:06.788" endtime="20220902 13:41:06.789"/>
</kw>
<for flavor="IN">
<var>${responseEntry}</var>
<value>@{resp.json()}</value>
<iter>
<var name="${responseEntry}">{'auditId': 52, 'pdpGroup': 'testGroup', 'pdpType': 'pdpTypeA', 'policy': {'name': 'onap.restart.tca', 'version': '1.0.0'}, 'action': 'DEPLOYMENT', 'timestamp': '2022-09-02T12:41:06Z', 'user': 'policy...</var>
<kw name="Exit For Loop If" library="BuiltIn">
<arg>'${responseEntry['policy']['name']}'=='${policyName}'</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<status status="PASS" starttime="20220902 13:41:06.789" endtime="20220902 13:41:06.790"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.789" endtime="20220902 13:41:06.790"/>
</iter>
<iter>
<var name="${responseEntry}">{'auditId': 53, 'pdpGroup': 'testGroup', 'pdpType': 'pdpTypeC', 'policy': {'name': 'operational.apex.decisionMaker', 'version': '1.0.0'}, 'action': 'DEPLOYMENT', 'timestamp': '2022-09-02T12:41:06Z', '...</var>
<kw name="Exit For Loop If" library="BuiltIn">
<arg>'${responseEntry['policy']['name']}'=='${policyName}'</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<msg timestamp="20220902 13:41:06.790" level="INFO">Exiting for loop altogether.</msg>
<status status="PASS" starttime="20220902 13:41:06.790" endtime="20220902 13:41:06.790"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.790" endtime="20220902 13:41:06.790"/>
</iter>
<status status="PASS" starttime="20220902 13:41:06.789" endtime="20220902 13:41:06.790"/>
</for>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['pdpGroup']}</arg>
<arg>${pdpGroup}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.790" endtime="20220902 13:41:06.791"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['pdpType']}</arg>
<arg>${pdpType}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.791" endtime="20220902 13:41:06.791"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['policy']['name']}</arg>
<arg>${policyName}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.791" endtime="20220902 13:41:06.791"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['policy']['version']}</arg>
<arg>1.0.0</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.791" endtime="20220902 13:41:06.791"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['action']}</arg>
<arg>${expectedAction}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.792" endtime="20220902 13:41:06.792"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['user']}</arg>
<arg>policyadmin</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:06.792" endtime="20220902 13:41:06.792"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.698" endtime="20220902 13:41:06.792"/>
</kw>
<doc>Verify policy audit record after deploy</doc>
<status status="PASS" starttime="20220902 13:41:06.697" endtime="20220902 13:41:06.792"/>
</test>
<test id="s1-t16" name="UndeployPolicy" line="93">
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:06.793" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.793" endtime="20220902 13:41:06.793"/>
</kw>
<msg timestamp="20220902 13:41:06.793" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:06.792" endtime="20220902 13:41:06.793"/>
</kw>
<kw name="PerformDeleteRequest" library="common-library">
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps/policies/onap.restart.tca</arg>
<arg>202</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:06.793" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:06.793" endtime="20220902 13:41:06.793"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:06.793" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102323d90&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:06.793" level="INFO">${session} = &lt;requests.sessions.Session object at 0x102321ab0&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.793" endtime="20220902 13:41:06.793"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:06.793" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:06.793" endtime="20220902 13:41:06.793"/>
</kw>
<kw name="DELETE On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a DELETE request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:07.002" level="INFO">DELETE Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps/policies/onap.restart.tca 
 path_url=/policy/pap/v1/pdps/policies/onap.restart.tca 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '0', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:07.002" level="INFO">DELETE Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps/policies/onap.restart.tca 
 status=202, reason= 
 headers={'Set-Cookie': 'JSESSIONID=11DE2A4B56963C6C7173F906C3B718B3; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'ad692fce-1f4f-45e5-b14f-383ffcf030d4', 'Content-Disposition': 'inline;filename=f.txt', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:06 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"message":"Use the policy status url to fetch the latest status. Kindly note that when a policy is successfully undeployed, it will no longer appear in policy status response.","uri":"/policy/pap/v1/policies/status"} 
 </msg>
<msg timestamp="20220902 13:41:07.003" level="INFO">${resp} = &lt;Response [202]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:06.794" endtime="20220902 13:41:07.003"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:07.004" level="INFO">Received response from policy {"message":"Use the policy status url to fetch the latest status. Kindly note that when a policy is successfully undeployed, it will no longer appear in policy status response.","uri":"/policy/pap/v1/policies/status"}</msg>
<status status="PASS" starttime="20220902 13:41:07.003" endtime="20220902 13:41:07.004"/>
</kw>
<status status="PASS" starttime="20220902 13:41:06.793" endtime="20220902 13:41:07.004"/>
</kw>
<doc>Undeploy a policy named 'onap.restart.tca' from PdpGroups</doc>
<status status="PASS" starttime="20220902 13:41:06.792" endtime="20220902 13:41:07.005"/>
</test>
<test id="s1-t17" name="UndeployPolicyWithMetadataSet" line="98">
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:07.005" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:07.005" endtime="20220902 13:41:07.005"/>
</kw>
<msg timestamp="20220902 13:41:07.005" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:07.005" endtime="20220902 13:41:07.005"/>
</kw>
<kw name="PerformDeleteRequest" library="common-library">
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps/policies/operational.apex.decisionMaker</arg>
<arg>202</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:07.006" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:07.006" endtime="20220902 13:41:07.006"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:07.006" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102303340&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:07.006" level="INFO">${session} = &lt;requests.sessions.Session object at 0x102302890&gt;</msg>
<status status="PASS" starttime="20220902 13:41:07.006" endtime="20220902 13:41:07.006"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:07.006" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:07.006" endtime="20220902 13:41:07.006"/>
</kw>
<kw name="DELETE On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a DELETE request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:07.210" level="INFO">DELETE Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps/policies/operational.apex.decisionMaker 
 path_url=/policy/pap/v1/pdps/policies/operational.apex.decisionMaker 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '0', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:07.210" level="INFO">DELETE Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps/policies/operational.apex.decisionMaker 
 status=202, reason= 
 headers={'Set-Cookie': 'JSESSIONID=155436C9E37AFAD6E69BA2FFDE6EB902; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'c25525f9-90ca-46da-a4c9-1f3539af9014', 'Content-Disposition': 'inline;filename=f.txt', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:06 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"message":"Use the policy status url to fetch the latest status. Kindly note that when a policy is successfully undeployed, it will no longer appear in policy status response.","uri":"/policy/pap/v1/policies/status"} 
 </msg>
<msg timestamp="20220902 13:41:07.211" level="INFO">${resp} = &lt;Response [202]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:07.006" endtime="20220902 13:41:07.211"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:07.212" level="INFO">Received response from policy {"message":"Use the policy status url to fetch the latest status. Kindly note that when a policy is successfully undeployed, it will no longer appear in policy status response.","uri":"/policy/pap/v1/policies/status"}</msg>
<status status="PASS" starttime="20220902 13:41:07.211" endtime="20220902 13:41:07.212"/>
</kw>
<status status="PASS" starttime="20220902 13:41:07.005" endtime="20220902 13:41:07.212"/>
</kw>
<doc>Undeploy a policy named 'operational.apex.decisionMaker' from PdpGroups</doc>
<status status="PASS" starttime="20220902 13:41:07.005" endtime="20220902 13:41:07.213"/>
</test>
<test id="s1-t18" name="QueryPdpGroupsAfterUndeploy" line="103">
<kw name="QueryPdpGroups" library="common-library">
<arg>2</arg>
<arg>defaultGroup</arg>
<arg>ACTIVE</arg>
<arg>0</arg>
<arg>testGroup</arg>
<arg>ACTIVE</arg>
<arg>0</arg>
<doc>Verify pdp group query - supports upto 2 groups</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:07.214" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:07.214" endtime="20220902 13:41:07.214"/>
</kw>
<msg timestamp="20220902 13:41:07.214" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:07.214" endtime="20220902 13:41:07.214"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:07.214" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:07.214" endtime="20220902 13:41:07.214"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:07.215" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102399ae0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:07.215" level="INFO">${session} = &lt;requests.sessions.Session object at 0x10239ab60&gt;</msg>
<status status="PASS" starttime="20220902 13:41:07.214" endtime="20220902 13:41:07.215"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:07.215" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:07.215" endtime="20220902 13:41:07.215"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:07.307" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps?null 
 path_url=/policy/pap/v1/pdps?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:07.307" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=A8EE99ACC2DE313150B3A1766C0387A1; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '8139b786-e724-432b-a2ce-15cfb8216ff9', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:06 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"groups":[{"name":"defaultGroup","description":"The default group that registers all supported policy types and pdps.","pdpGroupState":"ACTIVE","properties":{},"pdpSubgroups":[{"pdpType":"apex","supportedPolicyTypes":[{"name":"onap.policies.controlloop.operational.common.Apex","version":"1.0.0"},{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":1,"desiredInstanceCount":1,"properties":{},"pdpInstances":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]}]},{"name":"testGroup","pdpGroupState":"ACTIVE","properties":{"hello":"world"},"pdpSubgroups":[{"pdpType":"pdpTypeA","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":2,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeB","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeC","supportedPolicyTypes":[{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]}]}]} 
 </msg>
<msg timestamp="20220902 13:41:07.307" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:07.215" endtime="20220902 13:41:07.307"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:07.309" level="INFO">Received response from policy {"groups":[{"name":"defaultGroup","description":"The default group that registers all supported policy types and pdps.","pdpGroupState":"ACTIVE","properties":{},"pdpSubgroups":[{"pdpType":"apex","supportedPolicyTypes":[{"name":"onap.policies.controlloop.operational.common.Apex","version":"1.0.0"},{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":1,"desiredInstanceCount":1,"properties":{},"pdpInstances":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]}]},{"name":"testGroup","pdpGroupState":"ACTIVE","properties":{"hello":"world"},"pdpSubgroups":[{"pdpType":"pdpTypeA","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":2,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeB","supportedPolicyTypes":[{"name":"onap.policies.monitoring.tcagen2","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]},{"pdpType":"pdpTypeC","supportedPolicyTypes":[{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":0,"desiredInstanceCount":1,"properties":{},"pdpInstances":[]}]}]}</msg>
<status status="PASS" starttime="20220902 13:41:07.307" endtime="20220902 13:41:07.309"/>
</kw>
<msg timestamp="20220902 13:41:07.309" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:07.214" endtime="20220902 13:41:07.309"/>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups']}</arg>
<arg>${groupsLength}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:07.310" level="INFO">Length is 2</msg>
<status status="PASS" starttime="20220902 13:41:07.309" endtime="20220902 13:41:07.310"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][0]['name']}</arg>
<arg>${group1Name}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:07.310" endtime="20220902 13:41:07.311"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][0]['pdpGroupState']}</arg>
<arg>${group1State}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:07.311" endtime="20220902 13:41:07.311"/>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups'][0]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup1}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:07.311" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20220902 13:41:07.311" endtime="20220902 13:41:07.311"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['groups'][1]['name']}</arg>
<arg>${group2Name}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][1]['name']}</arg>
<arg>${group2Name}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:07.312" endtime="20220902 13:41:07.312"/>
</kw>
<status status="PASS" starttime="20220902 13:41:07.311" endtime="20220902 13:41:07.312"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['groups'][1]['pdpGroupState']}</arg>
<arg>${group2State}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][1]['pdpGroupState']}</arg>
<arg>${group2State}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:07.312" endtime="20220902 13:41:07.312"/>
</kw>
<status status="PASS" starttime="20220902 13:41:07.312" endtime="20220902 13:41:07.312"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Length Should Be</arg>
<arg>${resp.json()['groups'][1]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup2}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups'][1]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup2}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:07.313" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20220902 13:41:07.312" endtime="20220902 13:41:07.313"/>
</kw>
<status status="PASS" starttime="20220902 13:41:07.312" endtime="20220902 13:41:07.313"/>
</kw>
<status status="PASS" starttime="20220902 13:41:07.214" endtime="20220902 13:41:07.313"/>
</kw>
<doc>Verify PdpGroups after undeploy</doc>
<status status="PASS" starttime="20220902 13:41:07.213" endtime="20220902 13:41:07.313"/>
</test>
<test id="s1-t19" name="QueryPolicyAuditAfterUnDeploy" line="107">
<kw name="Sleep" library="BuiltIn">
<arg>10 seconds</arg>
<doc>Pauses the test executed for the given time.</doc>
<msg timestamp="20220902 13:41:17.314" level="INFO">Slept 10 seconds</msg>
<status status="PASS" starttime="20220902 13:41:07.313" endtime="20220902 13:41:17.315"/>
</kw>
<kw name="QueryPolicyAudit" library="common-library">
<arg>/policy/pap/v1/policies/audit</arg>
<arg>200</arg>
<arg>testGroup</arg>
<arg>pdpTypeA</arg>
<arg>onap.restart.tca</arg>
<arg>UNDEPLOYMENT</arg>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:17.320" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:17.320" endtime="20220902 13:41:17.320"/>
</kw>
<msg timestamp="20220902 13:41:17.321" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:17.318" endtime="20220902 13:41:17.321"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>${url}</arg>
<arg>${expectedstatus}</arg>
<arg>recordCount=2</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.322" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:17.321" endtime="20220902 13:41:17.322"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:17.322" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1023b2200&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:17.322" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1023b23e0&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.322" endtime="20220902 13:41:17.322"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:17.323" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:17.322" endtime="20220902 13:41:17.323"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:17.456" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/policies/audit?recordCount=2 
 path_url=/policy/pap/v1/policies/audit?recordCount=2 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:17.457" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/policies/audit?recordCount=2 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=0CD299F415C045EA9C3DE597F5C9005C; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '3e67f785-b683-47a2-a358-5c551f45d04f', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:17 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body=[{"auditId":55,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"UNDEPLOYMENT","timestamp":"2022-09-02T12:41:07Z","user":"policyadmin"},{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}] 
 </msg>
<msg timestamp="20220902 13:41:17.457" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.323" endtime="20220902 13:41:17.457"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.458" level="INFO">Received response from policy [{"auditId":55,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"UNDEPLOYMENT","timestamp":"2022-09-02T12:41:07Z","user":"policyadmin"},{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}]</msg>
<status status="PASS" starttime="20220902 13:41:17.457" endtime="20220902 13:41:17.458"/>
</kw>
<msg timestamp="20220902 13:41:17.459" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.321" endtime="20220902 13:41:17.459"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from queryPolicyAudit ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.459" level="INFO">Received response from queryPolicyAudit [{"auditId":55,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"UNDEPLOYMENT","timestamp":"2022-09-02T12:41:07Z","user":"policyadmin"},{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}]</msg>
<status status="PASS" starttime="20220902 13:41:17.459" endtime="20220902 13:41:17.460"/>
</kw>
<for flavor="IN">
<var>${responseEntry}</var>
<value>@{resp.json()}</value>
<iter>
<var name="${responseEntry}">{'auditId': 55, 'pdpGroup': 'testGroup', 'pdpType': 'pdpTypeC', 'policy': {'name': 'operational.apex.decisionMaker', 'version': '1.0.0'}, 'action': 'UNDEPLOYMENT', 'timestamp': '2022-09-02T12:41:07Z',...</var>
<kw name="Exit For Loop If" library="BuiltIn">
<arg>'${responseEntry['policy']['name']}'=='${policyName}'</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<status status="PASS" starttime="20220902 13:41:17.460" endtime="20220902 13:41:17.460"/>
</kw>
<status status="PASS" starttime="20220902 13:41:17.460" endtime="20220902 13:41:17.460"/>
</iter>
<iter>
<var name="${responseEntry}">{'auditId': 52, 'pdpGroup': 'testGroup', 'pdpType': 'pdpTypeA', 'policy': {'name': 'onap.restart.tca', 'version': '1.0.0'}, 'action': 'DEPLOYMENT', 'timestamp': '2022-09-02T12:41:06Z', 'user': 'policy...</var>
<kw name="Exit For Loop If" library="BuiltIn">
<arg>'${responseEntry['policy']['name']}'=='${policyName}'</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<msg timestamp="20220902 13:41:17.461" level="INFO">Exiting for loop altogether.</msg>
<status status="PASS" starttime="20220902 13:41:17.461" endtime="20220902 13:41:17.461"/>
</kw>
<status status="PASS" starttime="20220902 13:41:17.461" endtime="20220902 13:41:17.461"/>
</iter>
<status status="PASS" starttime="20220902 13:41:17.460" endtime="20220902 13:41:17.461"/>
</for>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['pdpGroup']}</arg>
<arg>${pdpGroup}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.461" endtime="20220902 13:41:17.461"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['pdpType']}</arg>
<arg>${pdpType}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.461" endtime="20220902 13:41:17.462"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['policy']['name']}</arg>
<arg>${policyName}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.462" endtime="20220902 13:41:17.462"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['policy']['version']}</arg>
<arg>1.0.0</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.462" endtime="20220902 13:41:17.462"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['action']}</arg>
<arg>${expectedAction}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<msg timestamp="20220902 13:41:17.462" level="FAIL">DEPLOYMENT != UNDEPLOYMENT</msg>
<status status="FAIL" starttime="20220902 13:41:17.462" endtime="20220902 13:41:17.462"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['user']}</arg>
<arg>policyadmin</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="NOT RUN" starttime="20220902 13:41:17.463" endtime="20220902 13:41:17.463"/>
</kw>
<status status="FAIL" starttime="20220902 13:41:17.316" endtime="20220902 13:41:17.463"/>
</kw>
<doc>Verify policy audit record after undeploy</doc>
<status status="FAIL" starttime="20220902 13:41:07.313" endtime="20220902 13:41:17.463">DEPLOYMENT != UNDEPLOYMENT</status>
</test>
<test id="s1-t20" name="QueryPolicyAuditWithMetadataSetAfterUnDeploy" line="112">
<kw name="QueryPolicyAudit" library="common-library">
<arg>/policy/pap/v1/policies/audit</arg>
<arg>200</arg>
<arg>testGroup</arg>
<arg>pdpTypeC</arg>
<arg>operational.apex.decisionMaker</arg>
<arg>UNDEPLOYMENT</arg>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:17.463" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:17.463" endtime="20220902 13:41:17.464"/>
</kw>
<msg timestamp="20220902 13:41:17.464" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:17.463" endtime="20220902 13:41:17.464"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>${url}</arg>
<arg>${expectedstatus}</arg>
<arg>recordCount=2</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.464" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:17.464" endtime="20220902 13:41:17.464"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:17.464" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x10239b970&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:17.464" level="INFO">${session} = &lt;requests.sessions.Session object at 0x102398250&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.464" endtime="20220902 13:41:17.464"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:17.464" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:17.464" endtime="20220902 13:41:17.464"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:17.547" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/policies/audit?recordCount=2 
 path_url=/policy/pap/v1/policies/audit?recordCount=2 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:17.547" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/policies/audit?recordCount=2 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=E8C7E737B98E0EEA70DC896ADC93F1CC; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '692b5246-f35c-476d-bcc8-f7af4376ee8f', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:17 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body=[{"auditId":55,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"UNDEPLOYMENT","timestamp":"2022-09-02T12:41:07Z","user":"policyadmin"},{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}] 
 </msg>
<msg timestamp="20220902 13:41:17.547" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.464" endtime="20220902 13:41:17.547"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.549" level="INFO">Received response from policy [{"auditId":55,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"UNDEPLOYMENT","timestamp":"2022-09-02T12:41:07Z","user":"policyadmin"},{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}]</msg>
<status status="PASS" starttime="20220902 13:41:17.548" endtime="20220902 13:41:17.549"/>
</kw>
<msg timestamp="20220902 13:41:17.549" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.464" endtime="20220902 13:41:17.549"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from queryPolicyAudit ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.550" level="INFO">Received response from queryPolicyAudit [{"auditId":55,"pdpGroup":"testGroup","pdpType":"pdpTypeC","policy":{"name":"operational.apex.decisionMaker","version":"1.0.0"},"action":"UNDEPLOYMENT","timestamp":"2022-09-02T12:41:07Z","user":"policyadmin"},{"auditId":52,"pdpGroup":"testGroup","pdpType":"pdpTypeA","policy":{"name":"onap.restart.tca","version":"1.0.0"},"action":"DEPLOYMENT","timestamp":"2022-09-02T12:41:06Z","user":"policyadmin"}]</msg>
<status status="PASS" starttime="20220902 13:41:17.549" endtime="20220902 13:41:17.550"/>
</kw>
<for flavor="IN">
<var>${responseEntry}</var>
<value>@{resp.json()}</value>
<iter>
<var name="${responseEntry}">{'auditId': 55, 'pdpGroup': 'testGroup', 'pdpType': 'pdpTypeC', 'policy': {'name': 'operational.apex.decisionMaker', 'version': '1.0.0'}, 'action': 'UNDEPLOYMENT', 'timestamp': '2022-09-02T12:41:07Z',...</var>
<kw name="Exit For Loop If" library="BuiltIn">
<arg>'${responseEntry['policy']['name']}'=='${policyName}'</arg>
<doc>Stops executing the enclosing FOR loop if the ``condition`` is true.</doc>
<msg timestamp="20220902 13:41:17.551" level="INFO">Exiting for loop altogether.</msg>
<status status="PASS" starttime="20220902 13:41:17.551" endtime="20220902 13:41:17.551"/>
</kw>
<status status="PASS" starttime="20220902 13:41:17.550" endtime="20220902 13:41:17.551"/>
</iter>
<status status="PASS" starttime="20220902 13:41:17.550" endtime="20220902 13:41:17.551"/>
</for>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['pdpGroup']}</arg>
<arg>${pdpGroup}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.551" endtime="20220902 13:41:17.551"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['pdpType']}</arg>
<arg>${pdpType}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.551" endtime="20220902 13:41:17.552"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['policy']['name']}</arg>
<arg>${policyName}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.552" endtime="20220902 13:41:17.552"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['policy']['version']}</arg>
<arg>1.0.0</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.552" endtime="20220902 13:41:17.552"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['action']}</arg>
<arg>${expectedAction}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.552" endtime="20220902 13:41:17.552"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${responseEntry['user']}</arg>
<arg>policyadmin</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.553" endtime="20220902 13:41:17.553"/>
</kw>
<status status="PASS" starttime="20220902 13:41:17.463" endtime="20220902 13:41:17.553"/>
</kw>
<doc>Verify policy audit record after undeploy</doc>
<status status="PASS" starttime="20220902 13:41:17.463" endtime="20220902 13:41:17.553"/>
</test>
<test id="s1-t21" name="DeactivatePdpGroup" line="116">
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:17.553" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:17.553" endtime="20220902 13:41:17.553"/>
</kw>
<msg timestamp="20220902 13:41:17.553" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:17.553" endtime="20220902 13:41:17.553"/>
</kw>
<kw name="PerformPutRequest" library="common-library">
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps/groups/testGroup</arg>
<arg>200</arg>
<arg>state=PASSIVE</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.554" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:17.554" endtime="20220902 13:41:17.554"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:17.554" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x1023efca0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:17.554" level="INFO">${session} = &lt;requests.sessions.Session object at 0x1023efe80&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.554" endtime="20220902 13:41:17.554"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:17.554" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:17.554" endtime="20220902 13:41:17.554"/>
</kw>
<kw name="PUT On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a PUT request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:17.644" level="INFO">PUT Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps/groups/testGroup?state=PASSIVE 
 path_url=/policy/pap/v1/pdps/groups/testGroup?state=PASSIVE 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '0', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:17.644" level="INFO">PUT Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps/groups/testGroup?state=PASSIVE 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=E8BB18D530A9A2A49C7EF118423EC423; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': 'd317b4c2-d720-4cd8-8d6f-62b7ebb587d4', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:17 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={} 
 </msg>
<msg timestamp="20220902 13:41:17.644" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.554" endtime="20220902 13:41:17.644"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.646" level="INFO">Received response from policy {}</msg>
<status status="PASS" starttime="20220902 13:41:17.645" endtime="20220902 13:41:17.646"/>
</kw>
<status status="PASS" starttime="20220902 13:41:17.554" endtime="20220902 13:41:17.646"/>
</kw>
<doc>Change the state of PdpGroup named 'testGroup' to PASSIVE</doc>
<status status="PASS" starttime="20220902 13:41:17.553" endtime="20220902 13:41:17.646"/>
</test>
<test id="s1-t22" name="DeletePdpGroups" line="121">
<kw name="PolicyAdminAuth" library="common-library">
<var>${auth}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:17.648" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:17.648" endtime="20220902 13:41:17.648"/>
</kw>
<msg timestamp="20220902 13:41:17.648" level="INFO">${auth} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:17.647" endtime="20220902 13:41:17.648"/>
</kw>
<kw name="PerformDeleteRequest" library="common-library">
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps/groups/testGroup</arg>
<arg>200</arg>
<arg>${auth}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.649" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:17.649" endtime="20220902 13:41:17.649"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:17.649" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x102398a00&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:17.649" level="INFO">${session} = &lt;requests.sessions.Session object at 0x10239bf70&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.649" endtime="20220902 13:41:17.649"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:17.650" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:17.649" endtime="20220902 13:41:17.650"/>
</kw>
<kw name="DELETE On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a DELETE request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:17.750" level="INFO">DELETE Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps/groups/testGroup 
 path_url=/policy/pap/v1/pdps/groups/testGroup 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '0', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:17.750" level="INFO">DELETE Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps/groups/testGroup 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=D4C0EF9E97557B2FF09FDA9A855CB049; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '1f849203-6090-4dec-9b2c-b2388e64080c', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:17 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={} 
 </msg>
<msg timestamp="20220902 13:41:17.750" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.650" endtime="20220902 13:41:17.750"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.752" level="INFO">Received response from policy {}</msg>
<status status="PASS" starttime="20220902 13:41:17.751" endtime="20220902 13:41:17.752"/>
</kw>
<status status="PASS" starttime="20220902 13:41:17.648" endtime="20220902 13:41:17.752"/>
</kw>
<doc>Delete the PdpGroup named 'testGroup' from policy database</doc>
<status status="PASS" starttime="20220902 13:41:17.646" endtime="20220902 13:41:17.752"/>
</test>
<test id="s1-t23" name="QueryPdpGroupsAfterDelete" line="126">
<kw name="QueryPdpGroups" library="common-library">
<arg>1</arg>
<arg>defaultGroup</arg>
<arg>ACTIVE</arg>
<arg>0</arg>
<arg>null</arg>
<arg>null</arg>
<arg>null</arg>
<doc>Verify pdp group query - supports upto 2 groups</doc>
<kw name="PolicyAdminAuth" library="common-library">
<var>${policyadmin}</var>
<kw name="Create List" library="BuiltIn">
<var>${policyadmin}</var>
<arg>policyadmin</arg>
<arg>zb!XztG34</arg>
<doc>Returns a list containing given items.</doc>
<msg timestamp="20220902 13:41:17.754" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:17.754" endtime="20220902 13:41:17.754"/>
</kw>
<msg timestamp="20220902 13:41:17.754" level="INFO">${policyadmin} = ['policyadmin', 'zb!XztG34']</msg>
<status status="PASS" starttime="20220902 13:41:17.753" endtime="20220902 13:41:17.754"/>
</kw>
<kw name="PerformGetRequest" library="common-library">
<var>${resp}</var>
<arg>${POLICY_PAP_IP}</arg>
<arg>/policy/pap/v1/pdps</arg>
<arg>200</arg>
<arg>null</arg>
<arg>${policyadmin}</arg>
<kw name="Log" library="BuiltIn">
<arg>Creating session http://${hostname}:6969</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.754" level="INFO">Creating session http://172.27.0.6:6969</msg>
<status status="PASS" starttime="20220902 13:41:17.754" endtime="20220902 13:41:17.754"/>
</kw>
<kw name="Create Session" library="RequestsLibrary">
<var>${session}</var>
<arg>policy</arg>
<arg>http://${hostname}:6969</arg>
<arg>auth=${auth}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<msg timestamp="20220902 13:41:17.754" level="INFO">Creating Session using : alias=policy, url=http://172.27.0.6:6969, headers={},                     cookies={}, auth=&lt;requests.auth.HTTPBasicAuth object at 0x104b15ba0&gt;, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<msg timestamp="20220902 13:41:17.755" level="INFO">${session} = &lt;requests.sessions.Session object at 0x104b15d80&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.754" endtime="20220902 13:41:17.755"/>
</kw>
<kw name="Create Dictionary" library="BuiltIn">
<var>${headers}</var>
<arg>Accept=application/json</arg>
<arg>Content-Type=application/json</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<msg timestamp="20220902 13:41:17.755" level="INFO">${headers} = {'Accept': 'application/json', 'Content-Type': 'application/json'}</msg>
<status status="PASS" starttime="20220902 13:41:17.755" endtime="20220902 13:41:17.755"/>
</kw>
<kw name="GET On Session" library="RequestsLibrary">
<var>${resp}</var>
<arg>policy</arg>
<arg>${url}</arg>
<arg>params=${params}</arg>
<arg>headers=${headers}</arg>
<arg>expected_status=${expectedstatus}</arg>
<doc>Sends a GET request on a previously created HTTP Session.</doc>
<msg timestamp="20220902 13:41:17.840" level="INFO">GET Request : url=http://172.27.0.6:6969/policy/pap/v1/pdps?null 
 path_url=/policy/pap/v1/pdps?null 
 headers={'User-Agent': 'python-requests/2.28.1', 'Accept-Encoding': 'gzip, deflate', 'Accept': 'application/json', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Authorization': 'Basic cG9saWN5YWRtaW46emIhWHp0RzM0'} 
 body=None 
 </msg>
<msg timestamp="20220902 13:41:17.840" level="INFO">GET Response : url=http://172.27.0.6:6969/policy/pap/v1/pdps?null 
 status=200, reason= 
 headers={'Set-Cookie': 'JSESSIONID=E74A65336969B81648255752A58C4727; Path=/; HttpOnly', 'X-MinorVersion': '0', 'X-PatchVersion': '0', 'X-LatestVersion': '1.0.0', 'X-ONAP-RequestID': '286f1205-2909-43b9-9573-d05fa0cf39d3', 'X-Content-Type-Options': 'nosniff', 'X-XSS-Protection': '1; mode=block', 'Cache-Control': 'no-cache, no-store, max-age=0, must-revalidate', 'Pragma': 'no-cache', 'Expires': '0', 'X-Frame-Options': 'DENY', 'Content-Type': 'application/json;charset=UTF-8', 'Transfer-Encoding': 'chunked', 'Date': 'Fri, 02 Sep 2022 12:41:17 GMT', 'Keep-Alive': 'timeout=60', 'Connection': 'keep-alive'} 
 body={"groups":[{"name":"defaultGroup","description":"The default group that registers all supported policy types and pdps.","pdpGroupState":"ACTIVE","properties":{},"pdpSubgroups":[{"pdpType":"apex","supportedPolicyTypes":[{"name":"onap.policies.controlloop.operational.common.Apex","version":"1.0.0"},{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":1,"desiredInstanceCount":1,"properties":{},"pdpInstances":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]}]}]} 
 </msg>
<msg timestamp="20220902 13:41:17.840" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.755" endtime="20220902 13:41:17.840"/>
</kw>
<kw name="Log" library="BuiltIn">
<arg>Received response from policy ${resp.text}</arg>
<doc>Logs the given message with the given level.</doc>
<msg timestamp="20220902 13:41:17.842" level="INFO">Received response from policy {"groups":[{"name":"defaultGroup","description":"The default group that registers all supported policy types and pdps.","pdpGroupState":"ACTIVE","properties":{},"pdpSubgroups":[{"pdpType":"apex","supportedPolicyTypes":[{"name":"onap.policies.controlloop.operational.common.Apex","version":"1.0.0"},{"name":"onap.policies.native.Apex","version":"1.0.0"}],"policies":[],"currentInstanceCount":1,"desiredInstanceCount":1,"properties":{},"pdpInstances":[{"instanceId":"apex-acf02b1b-1cb0-414d-98e5-93366f1d0a9c","pdpState":"ACTIVE","healthy":"HEALTHY","message":"Pdp status response message for PdpUpdate","lastUpdate":"2022-09-02T12:41:01Z"}]}]}]}</msg>
<status status="PASS" starttime="20220902 13:41:17.841" endtime="20220902 13:41:17.842"/>
</kw>
<msg timestamp="20220902 13:41:17.842" level="INFO">${resp} = &lt;Response [200]&gt;</msg>
<status status="PASS" starttime="20220902 13:41:17.754" endtime="20220902 13:41:17.842"/>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups']}</arg>
<arg>${groupsLength}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:17.843" level="INFO">Length is 1</msg>
<status status="PASS" starttime="20220902 13:41:17.842" endtime="20220902 13:41:17.843"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][0]['name']}</arg>
<arg>${group1Name}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.844" endtime="20220902 13:41:17.845"/>
</kw>
<kw name="Should Be Equal As Strings" library="BuiltIn">
<arg>${resp.json()['groups'][0]['pdpGroupState']}</arg>
<arg>${group1State}</arg>
<doc>Fails if objects are unequal after converting them to strings.</doc>
<status status="PASS" starttime="20220902 13:41:17.845" endtime="20220902 13:41:17.845"/>
</kw>
<kw name="Length Should Be" library="BuiltIn">
<arg>${resp.json()['groups'][0]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup1}</arg>
<doc>Verifies that the length of the given item is correct.</doc>
<msg timestamp="20220902 13:41:17.845" level="INFO">Length is 0</msg>
<status status="PASS" starttime="20220902 13:41:17.845" endtime="20220902 13:41:17.845"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['groups'][1]['name']}</arg>
<arg>${group2Name}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20220902 13:41:17.845" endtime="20220902 13:41:17.845"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Should Be Equal As Strings</arg>
<arg>${resp.json()['groups'][1]['pdpGroupState']}</arg>
<arg>${group2State}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20220902 13:41:17.845" endtime="20220902 13:41:17.846"/>
</kw>
<kw name="Run Keyword If" library="BuiltIn">
<arg>${groupsLength}&gt;1</arg>
<arg>Length Should Be</arg>
<arg>${resp.json()['groups'][1]['pdpSubgroups'][0]['policies']}</arg>
<arg>${policiesLengthInGroup2}</arg>
<doc>Runs the given keyword with the given arguments, if ``condition`` is true.</doc>
<status status="PASS" starttime="20220902 13:41:17.846" endtime="20220902 13:41:17.846"/>
</kw>
<status status="PASS" starttime="20220902 13:41:17.753" endtime="20220902 13:41:17.846"/>
</kw>
<doc>Verify PdpGroups after delete</doc>
<status status="PASS" starttime="20220902 13:41:17.752" endtime="20220902 13:41:17.846"/>
</test>
<status status="FAIL" starttime="20220902 13:41:03.476" endtime="20220902 13:41:17.846"/>
</suite>
<statistics>
<total>
<stat pass="22" fail="1" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="22" fail="1" skip="0" id="s1" name="pap">pap</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
